var pi=Object.defineProperty;var mi=(i,e,t)=>e in i?pi(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Y=(i,e,t)=>mi(i,typeof e!="symbol"?e+"":e,t);import{m as Te,s as hi,b as _s,M as gi}from"./mapbox-gl-W7zLcx1f.js";import{R as fi,d as ve,b as ae,c as p,o as c,f as s,h as x,u,F as z,j as ee,n as O,w as P,k as b,I as T,t as _,p as ge,q as j,v as yi,x as Ni,M as vi,y as q,z as ie,A as dt,B as Oo,C as ye,D as L,E as Ie,G as pe,H,J as bi,T as at,K as V,L as De,N as Be,O as La,P as wi,Q as xi,S as _i,U as Si,V as Bt,W as Ra,X as tt,Y as Tt,Z as Xt,_ as wr,$ as At,a0 as Ge,a1 as vs,a2 as qe,a3 as jt,a4 as ki,a5 as de,a6 as xr,a7 as Pe,a8 as $s,a9 as Ai,aa as Xs,ab as ro,ac as _r,ad as Ci,ae as Oe,af as Ti,ag as ne,ah as Bi,ai as le,aj as Rs,ak as Sr,al as Gt,am as Ko,an as Di,ao as Fa,ap as Fo,aq as Mt,ar as Ii,as as kr,at as Ei,au as Li,av as Mo,aw as be,ax as Qe,ay as Ri,az as Ma,aA as Ft,aB as Ar,aC as Pa,aD as Ha,aE as Ws,aF as Fi,aG as Mi,aH as Pi,aI as Hi,aJ as zi,aK as Oi,aL as Ki,aM as Ui,aN as $i,aO as Xi,aP as Wi,aQ as Vi,aR as Gi,aS as ji,aT as Zi,aU as Yi,aV as Ji,aW as Qi,aX as qi,aY as en,aZ as Fs,a_ as Cr,a$ as tn,b0 as on,b1 as sn,b2 as an,b3 as rn,b4 as Tr,b5 as nn,b6 as ln,b7 as cn,b8 as dn,b9 as un,ba as pn,bb as mn,bc as hn,bd as gn,be as fn,bf as yn,bg as Nn,bh as vn,bi as bn}from"./vendor-DaYNe-hs.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();class wn{isToDesktop(){return window.todesktop!==void 0}}const Kt=new wn,Vo="url_hash";class Ne extends URLSearchParams{constructor(e=!1){e?super(window.localStorage.getItem(Vo)):super(window.location.hash.substr(1))}save(e=!1){const t=this.toString().replaceAll("%2F","/");(window.location.hash.substr(1)!==t||e)&&(window.location.hash=t),Kt.isToDesktop()&&(window.localStorage.getItem(Vo)!==t||e)&&window.localStorage.setItem(Vo,t)}setFromLocalStorage(){if(!Kt.isToDesktop()||window.location.hash.length>0)return;const e=window.localStorage.getItem(Vo);typeof e=="string"&&e.includes("map=")&&(window.location.hash=e)}}const Po="WeatherWise",xn={enabled:!0,accessToken:"4f77d36d2d5a47679f065769618623b6",captureUncaught:!0,captureUnhandledRejections:!0,payload:{environment:"prod",client:{javascript:{code_version:"ca1d5d42bd750302ea6c3e9da2c70bc29387dd0f",source_map_enabled:!0}}},ignoredMessages:["(unknown): Script error.",'(unknown): {"isTrusted":true}',"jQuery is missing","RangeError: Bad value","RangeError: Out of memory"],checkIgnore:function(i,e,t){var o,a,r,n,l,d,m,h,f,y,N,w,S,v,A,B,I,R,M,D,k,F,E,K,U,X,J,$,ce,ue,se,me,Re,Ue,je,it,ft,oe,W,re,Ee,Xe,pt,Ze,Fe,Z,Me,ia,na,la,ca,da,ua,pa,ma,ha,ga,fa,ya,Na,va,ba,wa,xa,_a,Sa,ka,Aa,Ca,Ta,Ba,Da,Ia,Ea;if(i===!0){if(Array.isArray(e)&&e.length>0){const Wo=e[0].toString(),Co=window.navigator.userAgent.includes("Mozilla/5.0")||window.navigator.userAgent.includes("facebookexternalhit");if(Co&&Wo.includes("Invalid LngLat object")||Co&&Wo.includes("window.Userback.init is not a function"))return console.log("Ignoring fake Facebook click..."),!0;if(window.navigator.userAgent.includes("Apple Mail"))return!0}if((l=(n=(r=(a=(o=t==null?void 0:t.body)==null?void 0:o.trace)==null?void 0:a.frames)==null?void 0:r.at(0))==null?void 0:n.filename)!=null&&l.includes("chrome-extension://")||((h=(m=(d=t==null?void 0:t.body)==null?void 0:d.trace)==null?void 0:m.exception)==null?void 0:h.message)==='{"isTrusted":true}'||((w=(N=(y=(f=t==null?void 0:t.body)==null?void 0:f.trace)==null?void 0:y.exception)==null?void 0:N.message)==null?void 0:w.toLowerCase())==="out of memory"&&((I=(B=(A=(v=(S=t==null?void 0:t.body)==null?void 0:S.trace)==null?void 0:v.frames)==null?void 0:A.at(0))==null?void 0:B.filename)!=null&&I.startsWith("blob:")||(F=(k=(D=(M=(R=t==null?void 0:t.body)==null?void 0:R.trace)==null?void 0:M.frames)==null?void 0:D.at(1))==null?void 0:k.filename)!=null&&F.includes("mapbox-gl"))||((X=(U=(K=(E=t==null?void 0:t.body)==null?void 0:E.trace)==null?void 0:K.exception)==null?void 0:U.message)==null?void 0:X.toLowerCase())==="array buffer allocation failed"&&((se=(ue=(ce=($=(J=t==null?void 0:t.body)==null?void 0:J.trace)==null?void 0:$.frames)==null?void 0:ce.at(0))==null?void 0:ue.filename)!=null&&se.startsWith("blob:"))||((je=(Ue=(Re=(me=t==null?void 0:t.body)==null?void 0:me.trace)==null?void 0:Re.exception)==null?void 0:Ue.message)==null?void 0:je.toLowerCase())==="array buffer allocation failed"&&((re=(W=(oe=(ft=(it=t==null?void 0:t.body)==null?void 0:it.trace)==null?void 0:ft.frames)==null?void 0:oe.at(0))==null?void 0:W.filename)!=null&&re.includes("mapbox-gl"))&&((pt=(Xe=(Ee=t==null?void 0:t.body)==null?void 0:Ee.trace)==null?void 0:Xe.frames)==null?void 0:pt.find(Wo=>{var Co;return(Co=Wo.method)==null?void 0:Co.includes("getImages")}))!==void 0||((Me=(Z=(Fe=(Ze=t==null?void 0:t.body)==null?void 0:Ze.trace)==null?void 0:Fe.exception)==null?void 0:Z.message)==null?void 0:Me.toLowerCase())==="bad value"&&((da=(ca=(la=(na=(ia=t==null?void 0:t.body)==null?void 0:ia.trace)==null?void 0:na.frames)==null?void 0:la.at(0))==null?void 0:ca.filename)!=null&&da.endsWith("mapbox-gl"))&&((ha=(ma=(pa=(ua=t==null?void 0:t.body)==null?void 0:ua.trace)==null?void 0:pa.frames)==null?void 0:ma.at(-1))==null?void 0:ha.filename)==="[native code]"||(Na=(ya=(fa=(ga=t==null?void 0:t.body)==null?void 0:ga.trace)==null?void 0:fa.exception)==null?void 0:ya.message)!=null&&Na.toLowerCase().includes("reading 'listimages'")&&((_a=(xa=(wa=(ba=(va=t==null?void 0:t.body)==null?void 0:va.trace)==null?void 0:ba.frames)==null?void 0:wa.at(0))==null?void 0:xa.filename)!=null&&_a.endsWith("mapbox-gl"))||(Ca=(Aa=(ka=(Sa=t==null?void 0:t.body)==null?void 0:Sa.trace)==null?void 0:ka.exception)==null?void 0:Aa.message)!=null&&Ca.toLowerCase().includes("evaluating 'i.style.listimages'")&&((Ea=(Ia=(Da=(Ba=(Ta=t==null?void 0:t.body)==null?void 0:Ta.trace)==null?void 0:Ba.frames)==null?void 0:Da.at(0))==null?void 0:Ia.filename)!=null&&Ea.endsWith("mapbox-gl")))return!0}return!1}},ls=new fi(xn),us=document.documentElement,_n=()=>{us.classList.remove("light"),us.classList.add("dark")},za=()=>{us.classList.remove("dark"),us.classList.add("light")},bo=ve("settings/preferences",{state:()=>({darkMode:"off",leftHanded:!1}),getters:{isLeftHanded:i=>i.leftHanded},actions:{setDarkMode(i){this.darkMode=i,this.applyDarkMode()},applyDarkMode(){if(this.darkMode==="on"){_n();return}if(this.darkMode==="off"){za();return}this.darkMode==="auto"&&(this.darkMode="off",za())},toggleLeftHanded(){this.leftHanded=!this.leftHanded}},persist:!0}),Sn={class:"mt-2 text-center relative min-w-[190px] min-h-10"},kn={class:"pt-2"},An=["onClick"],Cn={class:"font-bold ml-2"},Tn=300,Bn=ae({__name:"PopupFooter",props:{lngLat:{}},emits:["close"],setup(i,{emit:e}){const t=bo(),o=xe(),a=i,r=e,n=C.radar.getClosestTowers(a.lngLat.toArray(),Tn).slice(0,2),l=m=>{o.setMode("RADAR"),C.radar.turnOnRadarAll(m),r("close")},d=()=>{r("close")};return(m,h)=>(c(),p("div",Sn,[h[0]||(h[0]=s("hr",null,null,-1)),s("div",kn,[u(n).length>0?(c(!0),p(z,{key:0},ee(u(n),(f,y)=>(c(),p("button",{key:f.feature.properties.id,onClick:P(N=>l(f.feature),["prevent"]),type:"button",class:O(["text-white bg-blue-700 hover:bg-blue-800 font-sm rounded-lg text-sm p-1 px-1.5",{"mr-1":y===0}])},[b(u(T),{icon:"game-icons:radar-sweep",class:"inline size-4 relative top-[-1px]"}),s("span",Cn,_(f.feature.properties.code),1)],10,An))),128)):x("",!0),s("button",{onClick:P(d,["prevent"]),type:"button",class:O(["text-black dark:text-white font-sm rounded-lg text-sm p-1 px-1.5 absolute",{"left-[-8px]":u(t).isLeftHanded,"right-[-8px]":!u(t).isLeftHanded}])},[b(u(T),{icon:"mdi:close",class:"inline size-5"})],2)])]))}}),bs=ve("maps",{state:()=>({isUserInteracting:!1,mapsToLoad:[],maps:[],activeMapId:0}),actions:{}}),vo=0,Ce=1,Pt=2,Br="https://apps.apple.com/us/app/weatherwise-app/id6736407724",Dr="https://play.google.com/store/apps/details?id=com.interactiveweather.weatherwise",ke="1.2.0",Dn="1.3.0",Ct="mercator",ht="globe",Go={style:"default",projection:Ct,country:{border:{thickness:2,color:"#A09DAF",style:"solid"},label:{enabled:!0,fontSize:30,fontWeight:"medium",color:"#FFFFFF",density:4,haloColor:"#333e4d",haloThickness:1}},state:{border:{thickness:1.5,color:"#95939F",style:"solid"},label:{enabled:!0,fontSize:30,fontWeight:"bold",color:"#FFFFFF",density:3,haloColor:"#333e4d",haloThickness:1}},county:{border:{thickness:1,color:"#ADABBA",style:"solid"},label:{enabled:!0,fontSize:10,fontWeight:"medium",color:"#FFFFFF",density:5,haloColor:"#333e4d",haloThickness:1}},settlement:{label:{enabled:!0,fontSize:30,fontWeight:"regular",color:"#FFFFFF",density:5,haloColor:"#333e4d",haloThickness:1}},road_network:{enabled:!0},poi_labels:{enabled:!0},graticules:{enabled:!1,color:"#02ed88"}},ws=ve("settings/map",{state:()=>JSON.parse(JSON.stringify(Go)),getters:{anyChanged:i=>{const e=ge(i);return Object.keys(Go).some(t=>JSON.stringify(e[t].value)!==JSON.stringify(Go[t]))},tileStyle:i=>i.style||"default",getProjection:i=>[Ct,ht].includes(i.projection)?i.projection:Ct},persist:!0,actions:{updateRegionSettings(i,e){this[i]=e},updateRoadNetworkSettings(i){this.road_network=i},setMapStyle(i){this.style=i},reset(){this.$state=JSON.parse(JSON.stringify(Go)),this.applyToMapStyle(),g.setProjection(Ct)},getMapStyleMods(){const i=[],e=o=>String(o).charAt(0).toUpperCase()+String(o).slice(1),t=o=>(o==="medium"&&(o="regular"),e(o));return i.push({kind:"paint",layers:["admin-0-boundary-bg"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.country.border.thickness,10,this.country.border.thickness*2]}),i.push({kind:"paint",layers:["admin-0-boundary","admin-0-boundary-all"],property:"line-color",value:this.country.border.color}),i.push({kind:"paint",layers:["admin-0-boundary","admin-0-boundary-all"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.country.border.thickness/2,10,this.country.border.thickness]}),i.push({kind:"paint",layers:["admin-0-boundary","admin-0-boundary-all"],property:"line-dasharray",value:this.country.border.style==="dashed"?["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]]:[10,0]}),i.push({kind:"layout",layers:["country-label"],property:"visibility",value:this.country.label.enabled?"visible":"none"}),i.push({kind:"layout",layers:["country-label"],property:"text-size",value:["interpolate",["cubic-bezier",.2,0,.7,1],["zoom"],1,["step",["get","symbolrank"],this.country.label.fontSize/2,4,this.country.label.fontSize/4,5,this.country.label.fontSize/4],9,["step",["get","symbolrank"],this.country.label.fontSize,4,this.country.label.fontSize*.75,5,this.country.label.fontSize*.75]]}),i.push({kind:"paint",layers:["country-label"],property:"text-color",value:this.country.label.color}),i.push({kind:"layout",layers:["country-label"],property:"text-font",value:[`DIN Pro ${e(this.country.label.fontWeight)}`,`Arial Unicode MS ${t(this.country.label.fontWeight)}`]}),i.push({kind:"paint",layers:["country-label"],property:"text-halo-color",value:this.country.label.haloColor}),i.push({kind:"paint",layers:["country-label"],property:"text-halo-width",value:this.country.label.haloThickness}),i.push({kind:"paint",layers:["admin-1-boundary-bg"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.state.border.thickness,10,this.state.border.thickness*2]}),i.push({kind:"paint",layers:["admin-1-boundary"],property:"line-color",value:this.state.border.color}),i.push({kind:"paint",layers:["admin-1-boundary"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.state.border.thickness/2,10,this.state.border.thickness]}),i.push({kind:"paint",layers:["admin-1-boundary"],property:"line-dasharray",value:this.state.border.style==="dashed"?["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]]:[10,0]}),i.push({kind:"layout",layers:["state-label"],property:"visibility",value:this.state.label.enabled?"visible":"none"}),i.push({kind:"layout",layers:["state-label"],property:"text-size",value:["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,["step",["get","symbolrank"],this.state.label.fontSize/2,6,this.state.label.fontSize/3,7,this.state.label.fontSize/3],9,["step",["get","symbolrank"],this.state.label.fontSize,6,this.state.label.fontSize*.75,7,this.state.label.fontSize*.75]]}),i.push({kind:"paint",layers:["state-label"],property:"text-color",value:this.state.label.color}),i.push({kind:"layout",layers:["state-label"],property:"text-font",value:[`DIN Pro ${e(this.state.label.fontWeight)}`,`Arial Unicode MS ${t(this.state.label.fontWeight)}`]}),i.push({kind:"paint",layers:["state-label"],property:"text-halo-color",value:this.state.label.haloColor}),i.push({kind:"paint",layers:["state-label"],property:"text-halo-width",value:this.state.label.haloThickness}),i.push({kind:"paint",layers:["admin-2-boundary-bg"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.county.border.thickness,10,this.county.border.thickness*2]}),i.push({kind:"paint",layers:["admin-2-boundary"],property:"line-color",value:this.county.border.color}),i.push({kind:"paint",layers:["admin-2-boundary"],property:"line-width",value:["interpolate",["linear"],["zoom"],3,this.county.border.thickness/2,10,this.county.border.thickness]}),i.push({kind:"paint",layers:["admin-2-boundary"],property:"line-dasharray",value:this.county.border.style==="dashed"?["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]]:[10,0]}),i.push({kind:"layout",layers:["settlement-major-label","settlement-minor-label"],property:"visibility",value:this.settlement.label.enabled?"visible":"none"}),i.push({kind:"paint",layers:["settlement-major-label"],property:"text-color",value:this.settlement.label.color}),i.push({kind:"layout",layers:["settlement-major-label"],property:"text-font",value:[`DIN Pro ${e(this.settlement.label.fontWeight)}`,`Arial Unicode MS ${t(this.settlement.label.fontWeight)}`]}),i.push({kind:"paint",layers:["settlement-minor-label"],property:"text-color",value:this.settlement.label.color}),i.push({kind:"layout",layers:["settlement-minor-label"],property:"text-font",value:[`DIN Pro ${e(this.settlement.label.fontWeight)}`,`Arial Unicode MS ${t(this.settlement.label.fontWeight)}`]}),i.push({kind:"paint",layers:["settlement-major-label"],property:"text-halo-color",value:this.settlement.label.haloColor}),i.push({kind:"paint",layers:["settlement-major-label"],property:"text-halo-width",value:this.settlement.label.haloThickness}),i.push({kind:"paint",layers:["settlement-minor-label"],property:"text-halo-color",value:this.settlement.label.haloColor}),i.push({kind:"paint",layers:["settlement-minor-label"],property:"text-halo-width",value:this.settlement.label.haloThickness}),i.push({kind:"layout",layers:["settlement-major-label"],property:"text-size",value:["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],8,["step",["get","symbolrank"],this.settlement.label.fontSize/2,9,this.settlement.label.fontSize/2,10,this.settlement.label.fontSize/2],15,["step",["get","symbolrank"],this.settlement.label.fontSize,9,this.settlement.label.fontSize*.8,10,this.settlement.label.fontSize*.7,11,this.settlement.label.fontSize*.65,12,this.settlement.label.fontSize*.6,13,this.settlement.label.fontSize*.55,15,this.settlement.label.fontSize*.5]]}),i.push({kind:"layout",layers:["settlement-minor-label"],property:"text-size",value:["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],3,["step",["get","symbolrank"],13.200000000000001,9,12.100000000000001,10,11.55,12,10.450000000000001,14,9.350000000000001,16,7.15,17,4.4],13,["step",["get","symbolrank"],this.settlement.label.fontSize*1.4*1,9,this.settlement.label.fontSize*1.4*.9,10,this.settlement.label.fontSize*1.4*.8,11,this.settlement.label.fontSize*1.4*.7,12,this.settlement.label.fontSize*1.4*.6,13,this.settlement.label.fontSize*1.4*.5,15,this.settlement.label.fontSize*1.4*.4]]}),i.push({kind:"filter",layers:["settlement-major-label"],value:["all",["<=",["get","filterrank"],this.settlement.label.density],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!1,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]]}),i.push({kind:"filter",layers:["settlement-minor-label"],value:["all",["<=",["get","filterrank"],this.settlement.label.density],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!0,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]]}),i.push({kind:"layout",layers:[new RegExp("^road-")],property:"visibility",value:this.road_network.enabled?"visible":"none"}),i.push({kind:"layout",layers:["poi-label"],property:"visibility",value:this.poi_labels.enabled?"visible":"none"}),i.push({kind:"filter",layers:["poi-label"],value:["<=",["get","filterrank"],["+",["step",["zoom"],0,11,1,12,2,13,3,14,4],1]]}),i.push({kind:"layout",layers:["graticules","graticules_blur"],property:"visibility",value:this.graticules.enabled?"visible":"none"}),i.push({kind:"paint",layers:["graticules","graticules_blur"],property:"line-color",value:this.graticules.color}),i},applyToMapStyle(){const i=this.getMapStyleMods(),e=g.mapboxMapsFirst().getStyle().layers;i.forEach(t=>{t.kind==="paint"?t.layers.forEach(o=>{o instanceof RegExp?e.filter(r=>o.test(r.id)).forEach(r=>{g.setPaintProperty(r.id,t.property,t.value)}):g.setPaintProperty(o,t.property,t.value)}):t.kind==="layout"?t.layers.forEach(o=>{o instanceof RegExp?e.filter(r=>o.test(r.id)).forEach(r=>{g.setLayoutProperty(r.id,t.property,t.value)}):g.setLayoutProperty(o,t.property,t.value)}):t.kind==="filter"&&t.layers.forEach(o=>{o instanceof RegExp?e.filter(r=>o.test(r.id)).forEach(r=>{g.setFilter(r.id,t.value)}):g.setFilter(o,t.value)})})}}}),In=["asyncLoadImage","asyncLoadAndAddImage"];for(const i of In)if(i in Te.Map.prototype)throw new Error(`The method '${i}' already exists on the object 'mapboxgl.Map'`);Te.Map.prototype.asyncLoadImage=function(i){return new Promise((e,t)=>{this.loadImage(i,(o,a)=>{if(o)return t(o);e(a)})})};Te.Map.prototype.asyncLoadAndAddImage=async function(i,e){return this.addImage(e,await this.asyncLoadImage(i))};class En{constructor(e){this.mapKeeper=e,this.popups=[],window.addEventListener("keydown",t=>{t.key==="Escape"&&this.clear()})}create(e){return new Te.Popup(e)}render(e){this.mapKeeper.mapboxMaps().forEach(t=>{console.log(t),e.addTo(t)}),this.push(e)}push(e){this.popups.find(t=>t===e)===void 0&&this.popups.push(e)}clear(){this.popups.forEach(e=>e.remove()),this.popups=[]}}const Ln="/assets/dark-v11-DZwRYwh9.json",Rn="/assets/light-v11-Djicdyfi.json",Fn="/assets/navigation-day-v1-D3NR183L.json",Mn="/assets/outdoors-v12-DO4fFxis.json",Pn="/assets/streets-v12-DRCasRls.json",no=()=>{const i=ws(),e="satellite-tiles",t="satellite-tiles",o=["building","building-outline","ww-3d-buildings"],a=N=>N.layers.findIndex(w=>w.id==="water")+1,r=()=>e,n=()=>{if(i.setMapStyle("default"),g.getLayer(t)===void 0)return;g.removeLayer(t),g.removeSource(t);const N=g.mapboxMapsFirst().getStyle().layers;o.forEach(w=>{N.find(v=>v.id===w)!==void 0&&g.setLayoutProperty(w,"visibility","visible")})},l=()=>({type:"raster",url:"mapbox://mapbox.satellite",tileSize:256}),d=()=>({id:t,source:e,type:"raster"});return{defaultTiles:n,sourceId:r,insertBeforeLayerIdx:a,satelliteTilesSource:l,satelliteTilesLayer:d,setProjection:N=>{var S;[ht,Ct].includes(N)&&(i.projection=N,((S=g.maps())==null?void 0:S.length)===1&&g.setProjection(N))},satelliteTiles:()=>{i.setMapStyle("satellite"),g.addSource(e,l());const N=g.mapboxMapsFirst().getStyle(),w=N.layers[a(N)];g.addLayer(d(),w.id);const S=g.mapboxMapsFirst().getStyle().layers;o.forEach(v=>{S.find(B=>B.id===v)!==void 0&&g.setLayoutProperty(v,"visibility","none")})},loadExternalMapStyle:async N=>{const w=new URL(Object.assign({"../../assets/map-styles/dark-v11.json":Ln,"../../assets/map-styles/light-v11.json":Rn,"../../assets/map-styles/navigation-day-v1.json":Fn,"../../assets/map-styles/outdoors-v12.json":Mn,"../../assets/map-styles/streets-v12.json":Pn})[`../../assets/map-styles/${N}`],import.meta.url).href,S=await(await fetch(w)).json(),v=(R,M)=>{let D=-1;for(let k=S.layers.length-1;k>=0;k--)if(S.layers[k].id.startsWith(M)){D=k;break}return D},A={id:"admin-0-boundary-all",source:"country-boundaries","source-layer":"country_boundaries",type:"line",minzoom:1,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(250, 10%, 65%)","line-width":["interpolate",["linear"],["zoom"],3,1.75,10,2],"line-dasharray":[10,0]}};if(S.layers.find(R=>R.id===A.id)===void 0){const R="admin-0-boundary",M=v(S.layers,R);if(M!==-1)S.layers.splice(M+1,0,A);else throw new Error(`No object found with the specified prefix: ${R}`)}const B={minzoom:5,layout:{},filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-2-boundary",paint:{"line-dasharray":["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]],"line-width":["interpolate",["linear"],["zoom"],3,.39,12,1.3],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-color":"hsl(250, 10%, 70%)"},"source-layer":"admin"};if(S.layers.find(R=>R.id===B.id)===void 0){const R="admin-1-boundary",M=v(S.layers,R);if(M!==-1)S.layers.splice(M,0,B);else throw new Error(`No object found with the specified prefix: ${R}`)}const I={id:"admin-2-boundary-bg",type:"line",source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],paint:{"line-color":"hsl(250, 30%, 43%)","line-width":["interpolate",["linear"],["zoom"],3,3.9000000000000004,12,7.800000000000001],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.5],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,12,3.9000000000000004]}};if(S.layers.find(R=>R.id===I.id)===void 0){const R="admin-1-boundary-bg",M=v(S.layers,R);if(M!==-1)S.layers.splice(M,0,I);else throw new Error(`No object found with the specified prefix: ${R}`)}return S.sources["country-boundaries"]===void 0&&(S.sources["country-boundaries"]={type:"vector",url:"mapbox://mapbox.country-boundaries-v1"}),S},applyMapStyleCustomisation:N=>{if(i.tileStyle==="satellite"){const S=no(),v=S.insertBeforeLayerIdx(N),A=S.satelliteTilesLayer();N.sources[S.sourceId()]=S.satelliteTilesSource(),N.layers=[...N.layers.slice(0,v),A,...N.layers.slice(v)],o.forEach(B=>{const I=N.layers.find(R=>R.id===B);I!==void 0&&(I.layout.visibility="none")})}return N.sources.graticules===void 0&&(N.sources.graticules={type:"vector",url:"mapbox://mapbox-map-design.graticules"}),N.layers.push({layout:{},filter:["match",["get","type"],["geographic line"],!1,!0],type:"line",source:"graticules",id:"graticules",paint:{"line-color":"#02ed88","line-opacity":["case",["==",["%",["get","degrees"],30],0],1,["==",["%",["get","degrees"],5],0],.2,0]},"source-layer":"graticules"}),N.layers.push({layout:{},filter:["match",["get","type"],["geographic line"],!1,!0],type:"line",source:"graticules",id:"graticules_blur",paint:{"line-color":"#02ed88","line-opacity":["case",["==",["%",["get","degrees"],30],0],.5,0],"line-width":5,"line-blur":10},"source-layer":"graticules"}),i.getMapStyleMods().forEach(S=>{let v=0;if(S.layers.forEach(A=>{let B=[];if(A instanceof RegExp)B=N.layers.filter(I=>A.test(I.id));else{const I=N.layers.find(R=>R.id===A);if(I===void 0)return;B.push(I)}B.forEach(I=>{++v,S.kind==="filter"?I[S.kind]=S.value:I[S.kind]!==void 0&&(I[S.kind][S.property]=S.value)})}),v===0)throw new Error(`Unable to locate layer from: ${JSON.stringify(S.layers)}`)}),N}}},Oa={isYallModeOn:0,isYallWatching:0,radar:{colortable_backup:null},warnings:{backup:null}},Ir=ve("settings/vendors/ryanhall",{state:()=>({...JSON.parse(JSON.stringify(Oa))}),actions:{toggle(){this.isYallModeOn=!this.isYallModeOn},set(i){this.isYallModeOn=i},reset(){this.$state=JSON.parse(JSON.stringify(Oa))}},persist:!0}),Hn=["NSW","NXB","NYB","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NXG","NYG","NZG","N0G","NAG","N1G","NBU","N2U","N3U","DHR","DPA","NCR","EET","NVW","N0S","N1S","N2S","N3S","NVL","DVL","NXX","NYX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NXC","NYC","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NXK","NYK","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NXH","NYH","NZH","N0H","NAH","N1H","NBH","N2H","N3H","NXM","NYM","NZM","N0M","NAM","N1M","NBM","N2M","N3M","HHC","NRR","DPR","OHA","DAA","DTA","DU3","DU6","TZL","TZ0","TZ1","TZ2","TV0","TV1","TV2","REF0","REF1","REF2","REF3","REF4","REF5","REF6","REF7","REF8","REF9","VEL0","VEL1","VEL2","VEL3","VEL4","VEL5","VEL6","VEL7","VEL8","VEL9","CC0","CC1","CC2","CC3","CC4","CC5","CC6","CC7","CC8","CC9","ZDR0","ZDR1","ZDR2","ZDR3","ZDR4","ZDR5","ZDR6","ZDR7","ZDR8","ZDR9","KDP0","KDP1","KDP2","KDP3","KDP4","KDP5","KDP6","KDP7","KDP8","KDP9","SW0","SW1","SW2","SW3","SW4","SW5","SW6","SW7","SW8","SW9","PRT"],Bo=["NXB","NYB","NZB","N0B","NAB","N1B","NBB","N2B","N3B","TZ0","TZ1","TZ2","TZL","REF0","REF1","REF2","REF3","REF4","REF5","REF6","REF7","REF8","REF9"],Do=["NXG","NYG","NZG","N0G","NAG","N1G","NBU","N2U","N3U","TV0","TV1","TV2","VEL0","VEL1","VEL2","VEL3","VEL4","VEL5","VEL6","VEL7","VEL8","VEL9"],Er=(i,e)=>{for(const t of e)if(i.includes(t))return t;return null},zn=i=>Er(i,Bo),On=i=>Er(i,Do),Ka=`Reflectivity refers to the ability of radar waves to bounce back (or reflect) off objects in the atmosphere, such as raindrops, snowflakes, hailstones, or even birds and insects. It is a measure of how much of the radar's transmitted signal is returned to the radar receiver. Reflectivity is typically expressed in decibels of reflectivity (dBZ), which is a logarithmic unit.

The stronger the reflection, the higher the dBZ value, which usually correlates with more intense precipitation. For example:

- Low reflectivity values (around 0 to 20 dBZ) may indicate light rain or drizzle.
- Moderate reflectivity values (20 to 40 dBZ) suggest moderate rain or snow.
- High reflectivity values (40 to 60+ dBZ) are often associated with heavy rainfall, thunderstorms, or even hail.

Reflectivity maps generated by weather radar help meteorologists identify and track storms, assess precipitation intensity, and sometimes infer the type of precipitation occurring.`,Kn=`Velocity in weather radar refers to the measurement of the speed and direction of objects, such as raindrops or snow, as they move toward or away from the radar. This is made possible using the Doppler effect, which causes the frequency of the radar waves to change depending on the motion of the target.

In weather radar, velocity data helps determine the wind speed and direction within storms. Positive velocity values typically indicate that the objects are moving away from the radar (outbound), while negative values suggest movement toward the radar (inbound). This information is crucial for detecting rotation within storms, which can be an indicator of tornado formation, as well as for tracking general wind patterns and storm movement.`,Ht=[{id:"REF",name:"Reflectivity",unit:"dBZ",tilts:[{elevation:"-0.2",product:"NXB"},{elevation:"0.0 - 0.2",product:"NYB"},{elevation:"0.3 - 0.4",product:"NZB"},{elevation:"0.5",product:"N0B"},{elevation:"0.9",product:"NAB"},{elevation:"1.3 - 1.5",product:"N1B"},{elevation:"1.8",product:"NBB"},{elevation:"2.4 - 2.5",product:"N2B"},{elevation:"3.1 - 3.5",product:"N3B"},{elevation:"0.1 - 0.8",product:"TZ0"},{elevation:"1.0",product:"TZ1"},{elevation:"1.6 - 3.7",product:"TZ2"},{elevation:null,product:"REF0"},{elevation:null,product:"REF1"},{elevation:null,product:"REF2"},{elevation:null,product:"REF3"},{elevation:null,product:"REF4"},{elevation:null,product:"REF5"},{elevation:null,product:"REF6"},{elevation:null,product:"REF7"},{elevation:null,product:"REF8"},{elevation:null,product:"REF9"}],help:Ka},{id:"REF",name:"Long Range Reflectivity",unit:"dBZ",tilts:[{elevation:"0.1 - 0.8",product:"TZL"}],help:Ka},{id:"VEL",name:"Velocity",unit:"m/s",tilts:[{elevation:"-0.2",product:"NXG"},{elevation:"0.0 - 0.2",product:"NYG"},{elevation:"0.3 - 0.4",product:"NZG"},{elevation:"0.5",product:"N0G"},{elevation:"0.9",product:"NAG"},{elevation:"1.3 - 1.5",product:"N1G"},{elevation:"1.8",product:"NBU"},{elevation:"2.4 - 2.5",product:"N2U"},{elevation:"3.1 - 3.5",product:"N3U"},{elevation:"0.1 - 0.8",product:"TV0"},{elevation:"1.0",product:"TV1"},{elevation:"1.6 - 3.7",product:"TV2"},{elevation:null,product:"VEL0"},{elevation:null,product:"VEL1"},{elevation:null,product:"VEL2"},{elevation:null,product:"VEL3"},{elevation:null,product:"VEL4"},{elevation:null,product:"VEL5"},{elevation:null,product:"VEL6"},{elevation:null,product:"VEL7"},{elevation:null,product:"VEL8"},{elevation:null,product:"VEL9"}],help:Kn},{id:"CC",name:"Correlation Coefficient",unit:"",tilts:[{elevation:null,product:"CC0"},{elevation:null,product:"CC1"},{elevation:null,product:"CC2"},{elevation:null,product:"CC3"},{elevation:null,product:"CC4"},{elevation:null,product:"CC5"},{elevation:null,product:"CC6"},{elevation:null,product:"CC7"},{elevation:null,product:"CC8"},{elevation:null,product:"CC9"}],help:`The correlation coefficient in weather radar is a measure of how similarly different radar signals are behaving within a radar pulse volume. It specifically compares the horizontal and vertical polarization of radar returns, which helps meteorologists differentiate between types of precipitation or atmospheric objects.

Correlation coefficient values range from 0 to 1:

- High values (close to 1) indicate that objects in the radar beam are similar in shape and size, such as uniform raindrops or snowflakes.
- Lower values (closer to 0) suggest a mix of different types of objects, like hail mixed with rain or non-meteorological targets like debris from a tornado.

This measurement is especially valuable for identifying areas of hail, debris, or mixed precipitation and can be crucial in detecting tornado debris signatures, often referred to as a "debris ball" on radar.`},{id:"PRT",name:"Precipitation Type",unit:"dBZ",tilts:[{elevation:i=>{if(i.properties.elevations!==void 0&&Array.isArray(i.properties.elevations))return i.properties.elevations[0];const e=Ht.find(t=>t.id==="REF");for(const t of i.properties.products){const o=e.tilts.find(a=>a.product===t);if(o!==void 0)return o.elevation}return null},product:"PRT"}],help:"The Precipitation Type radar product provides a real-time classification of the type of precipitation reaching the ground. Using advanced algorithms and the weather radar we identify rain, snow and a mix, making it easier to understand current weather conditions. This product is especially useful during winter storms and mixed precipitation events, offering clear insights into surface conditions."},{id:"ZDR",name:"Differential Reflectivity",unit:"db",tilts:[{elevation:null,product:"ZDR0"},{elevation:null,product:"ZDR1"},{elevation:null,product:"ZDR2"},{elevation:null,product:"ZDR3"},{elevation:null,product:"ZDR4"},{elevation:null,product:"ZDR5"},{elevation:null,product:"ZDR6"},{elevation:null,product:"ZDR7"},{elevation:null,product:"ZDR8"},{elevation:null,product:"ZDR9"}],help:`Differential reflectivity (ZDR) is a weather radar measurement that compares the difference in reflectivity between horizontally and vertically polarized radar waves. It provides insight into the shape and orientation of objects in the atmosphere, such as raindrops or ice particles.

- Positive ZDR values indicate that objects are wider horizontally than vertically, such as raindrops, which tend to flatten as they fall.
- Negative or near-zero ZDR values suggest more spherical or irregularly shaped objects, such as snowflakes, hail, or tumbling ice particles.

By analyzing differential reflectivity, meteorologists can determine the type of precipitation (rain, snow, hail) and assess the size and shape of raindrops, which is important for identifying areas of heavy rain or hail. It also helps in distinguishing between rain and snow or identifying melting layers in the atmosphere.`},{id:"SW",name:"Spectrum Width",unit:"mph",tilts:[{elevation:null,product:"SW0"},{elevation:null,product:"SW1"},{elevation:null,product:"SW2"},{elevation:null,product:"SW3"},{elevation:null,product:"SW4"},{elevation:null,product:"SW5"},{elevation:null,product:"SW6"},{elevation:null,product:"SW7"},{elevation:null,product:"SW8"},{elevation:null,product:"SW9"}],help:`Spectrum Width is a weather radar product that measures the variability, or dispersion, in the velocity of precipitation particles within a radar beam. Essentially, it represents the range or spread of velocities of objects (such as raindrops, snowflakes, or debris) moving through the radar beam.

Key insights from spectrum width:

- Low spectrum width: Indicates uniform motion, where most particles are moving at similar speeds, typical in steady or smooth wind flows.
- High spectrum width: Suggests a wide range of particle velocities, which often occurs in turbulent areas, such as in thunderstorms, near updrafts or downdrafts, or around areas of strong wind shear.

Spectrum width is useful for:

- Identifying turbulence: Areas of high spectrum width often correspond to regions of storm turbulence, making it a valuable tool for aviation and storm analysis.
- Detecting storm rotation: When used in conjunction with other radar products, high spectrum width can highlight areas of potential tornado formation or strong wind shear.
- Distinguishing between different meteorological and non-meteorological targets: It can help separate clear-air echoes (such as birds or insects) from weather-related phenomena.

In summary, spectrum width provides a snapshot of the variability in particle motion within a storm, helping to identify turbulence and storm dynamics that may not be visible in standard velocity products.`},{id:"KDP",name:"Specific Diff. Phase",unit:"Deg/km",tilts:[{elevation:"-0.2",product:"NXK"},{elevation:"0.0 - 0.2",product:"NYK"},{elevation:"0.3 - 0.4",product:"NZK"},{elevation:"0.5",product:"N0K"},{elevation:"0.9",product:"NAK"},{elevation:"1.3 - 1.5",product:"N1K"},{elevation:"1.8",product:"NBK"},{elevation:"2.4 - 2.5",product:"N2K"},{elevation:"3.1 - 3.5",product:"N3K"},{elevation:null,product:"KDP0"},{elevation:null,product:"KDP1"},{elevation:null,product:"KDP2"},{elevation:null,product:"KDP3"},{elevation:null,product:"KDP4"},{elevation:null,product:"KDP5"},{elevation:null,product:"KDP6"},{elevation:null,product:"KDP7"},{elevation:null,product:"KDP8"},{elevation:null,product:"KDP9"}],help:`Specific Differential Phase (KDP) is a weather radar measurement that quantifies the phase shift between horizontally and vertically polarized radar waves as they pass through precipitation. It is primarily used to estimate the intensity and type of precipitation by measuring how much the radar waves slow down when interacting with precipitation particles.

- Higher KDP values indicate areas with more intense precipitation, such as heavy rain, where the radar waves experience a greater phase shift.
- Lower or near-zero KDP values suggest lighter precipitation or ice particles, which do not cause as much phase shift.

Specific Differential Phase is particularly useful for estimating rainfall rates because it directly responds to the amount of liquid water in the radar beam, without being affected by factors like hail or non-meteorological objects. It helps improve the accuracy of precipitation estimates and can differentiate between rain and mixed-phase precipitation like hail or snow.`},{id:"HCA",name:"Hydrometeor Classification",unit:"",tilts:[{elevation:"-0.2",product:"NXH"},{elevation:"0.0 - 0.2",product:"NYH"},{elevation:"0.3 - 0.4",product:"NZH"},{elevation:"0.5",product:"N0H"},{elevation:"0.9",product:"NAH"},{elevation:"1.3 - 1.5",product:"N1H"},{elevation:"1.8",product:"NBH"},{elevation:"2.4 - 2.5",product:"N2H"},{elevation:"3.1 - 3.5",product:"N3H"}],help:`Hydrometeor Classification is a weather radar technique that identifies and categorizes different types of precipitation particles (hydrometeors) and non-precipitation objects in the atmosphere. This is achieved by analyzing several radar variables, such as reflectivity, differential reflectivity (ZDR), correlation coefficient, and specific differential phase (KDP), and then using algorithms to classify the detected objects.

Common classifications in hydrometeor classification include:

- Rain: Liquid droplets that vary in size.
- Snow: Ice crystals or snowflakes.
- Hail: Hard, round ice particles.
- Graupel: Soft, small pellets of ice formed when supercooled water droplets freeze onto snowflakes.
- Mixed precipitation: A combination of rain and snow or sleet.
- Non-meteorological targets: Objects such as birds, insects, or ground clutter.

This classification is especially useful for improving the accuracy of precipitation type identification, particularly in complex weather systems like thunderstorms, winter storms, or mixed-phase precipitation events. It aids meteorologists in distinguishing between rain, snow, sleet, and hail, and in identifying debris in severe storms, which can be a sign of a tornado.`},{name:"Precipitation Array",tilts:[{elevation:"0.0",product:"DPA"}]},{name:"Composite Reflectivity - 16 Data Levels – 124 nmi Range",tilts:[{elevation:"0.0",product:"NCR"}]},{id:"EET",name:"Enhanced Echo Tops",unit:"kft",tilts:[{elevation:"0.0",product:"EET"}],help:`Enhanced Echo Tops refer to the highest altitude within a storm where radar detects significant reflectivity (typically around 18 dBZ or greater). They provide an estimate of the top of the strongest part of the storm, indicating the extent of the convective activity.

Enhanced echo tops are used to assess storm intensity and vertical development, as taller storms typically indicate stronger updrafts and the potential for severe weather such as hail, strong winds, and possibly tornadoes. By examining the height of echo tops, meteorologists can gauge the overall strength of thunderstorms and identify regions with intense upward motion.

These measurements are particularly helpful for aviation, as they allow pilots to avoid the most dangerous areas of storms, and for forecasters tracking the potential severity of weather systems.`},{name:"Velocity Azimuth Display Wind Profile",tilts:[{elevation:"0.0",product:"NVW"}]},{id:"SRV",name:"Storm Relative Velocity",unit:"m/s",tilts:[{elevation:"0.5",product:"N0S"},{elevation:"1.3",product:"N1S"},{elevation:"2.4",product:"N2S"},{elevation:"3.1",product:"N3S"}],help:`Storm Relative Velocity (SRV) is a weather radar product that shows the motion of precipitation and air relative to the movement of a storm itself. It subtracts the storm’s overall motion from the radar's velocity data to focus on the internal wind patterns within the storm.

This is especially useful for identifying key storm features such as:

- Rotation: SRV highlights areas where winds are moving toward and away from the radar in close proximity, which can indicate rotation within a storm and help detect developing tornadoes.
- Inflow and outflow: It helps visualize how air is flowing into and out of the storm, providing clues about storm structure and intensity.

By using SRV, meteorologists can more effectively track the dynamics of severe thunderstorms, including supercells and tornadoes, as it isolates internal motion from the overall storm drift, making it easier to spot features like mesocyclones (rotating updrafts).`},{id:"VIL",name:"Vertical Integrated Liquid",unit:"kg/m2",tilts:[{elevation:"0.0",product:"NVL"}]},{id:"VIL",name:"Vertical Integrated Liquid",unit:"kg/m2",tilts:[{elevation:"0.0",product:"DVL"}],help:`Vertically Integrated Liquid (VIL) is a weather radar product that estimates the total amount of liquid water (in kilograms per square meter) present in a column of the atmosphere above a given point. It is calculated by integrating the reflectivity values detected by radar throughout the vertical extent of a storm.

Higher VIL values typically indicate stronger storms with greater concentrations of liquid water or ice, such as:

- Heavy rain: High VIL values suggest areas of intense precipitation.
- Hail: Very high VIL values may indicate the presence of hail within a storm, as hailstones can contribute significantly to radar reflectivity.

VIL is commonly used to assess storm intensity and the potential for severe weather, including heavy rainfall, hail, and even the likelihood of flash flooding. It is particularly useful for identifying strong convective storms and regions of high precipitation concentration, providing a quick snapshot of a storm’s water content and severity.`},{name:"Hybrid Scan Hydrometeor Classification",tilts:[{elevation:"0.0",product:"HHC"}]},{name:"Hybrid Scan Rain Rate Classification",tilts:[{elevation:"0.0",product:"NRR"}]},{name:"Digital Inst. Precip. Rate (in/hr)",tilts:[{elevation:"0.0",product:"DPR"}]},{id:"OHA",name:"One Hour Precip. Accum.",unit:"IN",tilts:[{elevation:"0.0",product:"OHA"}]},{id:"OHA",name:"One Hour Precip. Accum.",unit:"IN",tilts:[{elevation:"0.0",product:"DAA"}],help:`1-Hour Precipitation Accumulation is a weather radar product that estimates the total amount of precipitation (usually in millimeters or inches) that has fallen over a specific area during the past hour. It is derived by using radar reflectivity data and algorithms to estimate rainfall rates, then summing those rates over the course of an hour.

This product is particularly useful for:

- Monitoring rainfall intensity: It helps meteorologists assess how much rain has fallen in a short period, which is critical for identifying areas at risk of flash flooding.
- Tracking short-term precipitation trends: It provides a snapshot of recent rainfall to understand how weather systems are evolving.
- Flood forecasting and emergency planning: By highlighting areas with heavy rainfall in the last hour, authorities can issue timely flood warnings.

1-Hour Precipitation Accumulation is an important tool for real-time decision-making in weather-sensitive operations like agriculture, transportation, and flood management.`},{id:"DTA",name:"Storm Total Precip. Accum.",unit:"IN",tilts:[{elevation:"0.0",product:"DTA"}],help:`Storm Total Precipitation Accumulation is a weather radar product that estimates the total amount of precipitation (in millimeters or inches) that has fallen over a specific area during the entire duration of a storm or weather event. This product aggregates rainfall over an extended period, from the start of the storm until it ends or until the radar is reset.

It is valuable for:

- Assessing storm impact: By providing a complete picture of how much rain or snow has fallen, it helps gauge the severity of a weather event.
- Flood forecasting: High storm total precipitation can indicate areas at risk of flooding, especially when the ground becomes saturated.
- Water management and hydrology: It supports decisions about water resources, river levels, and drainage systems in the aftermath of storms.
- Agriculture and disaster response: Knowing the total precipitation helps farmers, planners, and emergency services respond effectively to the storm’s aftermath.

Storm Total Precipitation Accumulation gives a broader overview of the total precipitation impact over the course of the storm, helping to evaluate cumulative effects like flooding or water damage.`},{name:"Dig. User-Selectable Accum.: 3hr/hourly",tilts:[{elevation:"0.0",product:"DU3"}]},{name:"Dig. User-Selectable Accum.: 24hr/12Z",tilts:[{elevation:"0.0",product:"DU6"}]}],Un={GSM:"General Status Message",FTM:"Free Text Message",NSW:"Base Spectrum Width",NXB:"Base Reflectivity – 248 nmi Range (-0.2)",NYB:"Base Reflectivity – 248 nmi Range (0.0, 0.2)",NZB:"Base Reflectivity – 248 nmi Range (0.3, 0.4)",N0B:"Base Reflectivity – 248 nmi Range (0.5)",NAB:"Base Reflectivity – 248 nmi Range (0.9)",N1B:"Base Reflectivity – 248 nmi Range (1.3, 1.5)",NBB:"Base Reflectivity – 248 nmi Range (1.8)",N2B:"Base Reflectivity – 248 nmi Range (2.4, 2.5)",N3B:"Base Reflectivity – 248 nmi Range (3.1, 3.4, 3.5)",NXG:"Base Radial Velocity - 162 nmi Range (-0.2)",NYG:"Base Radial Velocity - 162 nmi Range (0.0, 0.2)",NZG:"Base Radial Velocity - 162 nmi Range (0.3, 0.4)",N0G:"Base Radial Velocity - 162 nmi Range (0.5)",NAG:"Base Radial Velocity - 162 nmi Range (0.9)",N1G:"Base Radial Velocity - 162 nmi Range (1.3, 1.5)",NBU:"Base Radial Velocity - 162 nmi Range (1.8)",N2U:"Base Radial Velocity - 162 nmi Range (2.4, 2.5)",N3U:"Base Radial Velocity - 162 nmi Range (3.1, 3.4, 3.5)",DHR:"Digital Hybrid Scan Reflectivity",DPA:"Digital Precipitation Array",NCR:"Composite Reflectivity - 16 Data Levels – 124 nmi Range",EET:"Enhanced Echo Tops",NVW:"Velocity Azimuth Display Wind Profile",N0S:"Storm Relative Mean Radial Velocity",N1S:"Storm Relative Mean Radial Velocity",N2S:"Storm Relative Mean Radial Velocity",N3S:"Storm Relative Mean Radial Velocity",NVL:"Vertical Integrated Liquid",DVL:"Digital Vertical Integrated Liquid",NST:"Storm Tracking Information",NMD:"Mesocyclone",NXX:"Digital Differential Reflectivity (-0.2)",NYX:"Digital Differential Reflectivity (0.0, 0.2)",NZX:"Digital Differential Reflectivity (0.3, 0.4)",N0X:"Digital Differential Reflectivity (0.5)",NAX:"Digital Differential Reflectivity (0.9)",N1X:"Digital Differential Reflectivity (1.3, 1.5)",NBX:"Digital Differential Reflectivity (1.8)",N2X:"Digital Differential Reflectivity (2.4, 2.5)",N3X:"Digital Differential Reflectivity (3.1, 3.4, 3.5)",NXC:"Digital Correlation Coefficient (-0.2)",NYC:"Digital Correlation Coefficient (0.0, 0.2)",NZC:"Digital Correlation Coefficient (0.3, 0.4)",N0C:"Digital Correlation Coefficient (0.5)",NAC:"Digital Correlation Coefficient (0.9)",N1C:"Digital Correlation Coefficient (1.3, 1.5)",NBC:"Digital Correlation Coefficient (1.8)",N2C:"Digital Correlation Coefficient (2.4, 2.5)",N3C:"Digital Correlation Coefficient (3.1, 3.4, 3.5)",NXK:"Digital Specific Differential Phase (-0.2)",NYK:"Digital Specific Differential Phase (0.0, 0.2)",NZK:"Digital Specific Differential Phase (0.3, 0.4)",N0K:"Digital Specific Differential Phase (0.5)",NAK:"Digital Specific Differential Phase (0.9)",N1K:"Digital Specific Differential Phase (1.3, 1.5)",NBK:"Digital Specific Differential Phase (1.8)",N2K:"Digital Specific Differential Phase (2.4, 2.5)",N3K:"Digital Specific Differential Phase (3.1, 3.4, 3.5)",NXH:"Digital Hydrometeor Classification (-0.2)",NYH:"Digital Hydrometeor Classification (0.0, 0.2)",NZH:"Digital Hydrometeor Classification (0.3, 0.4)",N0H:"Digital Hydrometeor Classification (0.5)",NAH:"Digital Hydrometeor Classification (0.9)",N1H:"Digital Hydrometeor Classification (1.3, 1.5)",NBH:"Digital Hydrometeor Classification (1.8)",N2H:"Digital Hydrometeor Classification (2.4, 2.5)",N3H:"Digital Hydrometeor Classification (3.1, 3.4, 3.5)",NXM:"Melting Layer (-0.2)",NYM:"Melting Layer (0.0, 0.2)",NZM:"Melting Layer (0.3, 0.4)",N0M:"Melting Layer (0.5)",NAM:"Melting Layer (0.9)",N1M:"Melting Layer (1.3, 1.5)",NBM:"Melting Layer (1.8)",N2M:"Melting Layer (2.4, 2.5)",N3M:"Melting Layer (3.1, 3.4, 3.5)",HHC:"Hybrid Scan Hydrometeor Classification",NRR:"Hybrid Scan Rain Rate Classification",DPR:"Digital Inst. Precip. Rate (in/hr)",OHA:"One Hour Precipitation Accumulation",DAA:"Dig. One Hour Precip. Accum. (unbiased)",DTA:"Dig. Storm Total Precip. Accumulation",DU3:"Dig. User-Selectable Accum.: 3hr/hourly",DU6:"Dig. User-Selectable Accum.: 24hr/12Z",TZL:"Long Range Reflectivity – 225 nmi Range (0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.8)",TZ0:"Base Reflectivity – 48 nmi Range (0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.8)",TZ1:"Base Reflectivity – 48 nmi Range (1.0)",TZ2:"Base Reflectivity – 48 nmi Range (1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 3.1, 3.3, 3.4, 3.7)",TV0:"Base Radial Velocity - 48 nmi Range (0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.8)",TV1:"Base Radial Velocity - 48 nmi Range (1.0)",TV2:"Base Radial Velocity - 48 nmi Range (1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 3.1, 3.3, 3.4, 3.7)"},Vs=.01,cs=-30,yo=90,Ut=yo-cs,$n=yo-Vs,xs=yo,Lr=xs+Ut-Vs,Gs=xs+Ut,Rr=Gs+Ut-Vs,Dt=ve("settings/radar",{state:()=>({storm_tracks:0,lightning:1,melting_layer:0,max_scans:15,playback_speed_ms:150,three_d:!1,tower_icon_design:"pill",towers_visible:!0,towers_radius_visible:!1,secondary_towers_visible:!0,opacity:1,smoothing:(()=>{const i={};return Ht.forEach(e=>{typeof e.id=="string"&&(i[e.id]=0)}),i})(),gate_filter:{REF:[-30,90]},colortable:(()=>{const i={};return Ht.forEach(e=>{typeof e.id=="string"&&(i[e.id]="DEFAULT")}),i})(),colortable_pal_upload:(()=>{const i={};return Ht.forEach(e=>{typeof e.id=="string"&&(i[e.id]=[])}),i})(),units:{REF:"dbz",VEL:"m/s"}}),getters:{isRadarTowersVisible:i=>i.towers_visible,isSecondaryRadarTowersVisible:i=>i.secondary_towers_visible},actions:{resetMaxScans(){this.max_scans=15},resetLightning(){this.lightning>1&&(this.lightning=1)},reset3D(){this.three_d=!1},toggleRadarTowers(){this.towers_visible=!this.towers_visible},toggleSecondaryRadarTowers(){this.secondary_towers_visible=!this.secondary_towers_visible}},persist:!0}),wt="severe",$e="winter",Je="hydro",_e="wind-air",oo="fire-heat",Lt="tropical",ze={"Tsunami Warning.W":{name:"Tsunami Warning",category:"",priority:1,color:"#FD6347",icon:"",help:""},"TO.W":{name:"Tornado Warning",category:wt,priority:2,color:"#FF0000",icon:"bi:tornado",help:`A Tornado Warning is issued when a tornado has been spotted by trained weather observers or detected by the WSR-88D radar. When this happens, residents in the affected area should take immediate shelter. Tornado Warnings can be issued even if a Tornado Watch is not already in place, and they typically last about 30 minutes.

Your local National Weather Service office (NWFO) issues Tornado Warnings, which detail where the tornado was detected and which towns are in its projected path. If the tornado could impact coastal or nearshore waters, the warning will be combined with a Special Marine Warning. In cases where the storm causing the tornado is also producing heavy rain, the warning may also be combined with a Flash Flood Warning. A warning that includes an ampersand (&) symbol at the bottom indicates it was based on a confirmed severe weather report.

Once the warning is issued, the NWFO will provide updates through Severe Weather Statements. These statements will offer current information on the tornado and announce when the warning is no longer in effect.`},"EW.W":{name:"Extreme Wind Warning",category:_e,priority:3,color:"#FF8C00",icon:"carbon:windy-strong",help:"An Extreme Wind Warning is an urgent alert issued by the National Weather Service (NWS) to warn the public of imminent, life-threatening winds associated with a major weather event, such as a landfalling hurricane or intense derecho. These warnings are typically issued when sustained winds of 115 mph (185 km/h) or higher are expected within the next hour, posing a significant threat to life and property. The EWW urges individuals in the affected area to take immediate shelter in an interior room on the lowest floor of a sturdy building, as flying debris and structural damage are highly likely. Extreme Wind Warnings are usually short-lived, covering specific locations for a brief period, but they emphasize the critical need for rapid protective action."},"SV.W":{name:"Severe Thunderstorm Warning",category:wt,priority:4,color:"#FFA500",icon:"uil:thunderstorm",help:`A Severe Thunderstorm Warning is issued when the WSR-88D radar detects a severe thunderstorm, or when a spotter reports a storm producing hail of one inch or larger in diameter, and/or winds of 58 miles per hour or higher. People in the affected area should seek shelter immediately, as severe thunderstorms can produce tornadoes with little or no warning. Lightning frequency is not a factor in issuing this warning. Typically, these warnings last for about an hour and can be issued even without a preceding Severe Thunderstorm Watch.

Similar to a Tornado Warning, Severe Thunderstorm Warnings are issued by your local National Weather Service Forecast Office (NWFO). They provide details about the storm's location, the towns it may impact, and the primary threats associated with it. If the storm is expected to affect nearshore or coastal waters, the warning may be combined with a Special Marine Warning. Additionally, if torrential rains accompany the storm, the warning might also include a Flash Flood Warning. An ampersand (&) at the bottom of the warning indicates that it was based on a severe weather report.

Once issued, the NWFO will periodically update the public with Severe Weather Statements, providing the latest information on the storm and announcing when the warning is no longer in effect.`},"FF.W":{name:"Flash Flood Warning",category:wt,priority:5,color:"#79ff26",icon:"carbon:flood-warning",help:`This is issued to notify the public, emergency management, and cooperating agencies when flash flooding is either currently happening, imminent, or very likely in the near future, based on data from Doppler radar, stream gauges, or reports from Skywarn spotters or local emergency officials.

    A flash flood occurs within six hours of heavy rainfall and poses significant risks to life and property, especially fin low-lying, flood-prone areas like urban zones with poor drainage, rivers, and streams. Other causes, such as ice jams or dam failures, can also trigger flash floods.

    These warnings are issued by the local Weather Forecast Office for specific counties (or their equivalents) and typically last between two and six hours, though they may extend longer during tropical cyclones or occasionally be shorter than two hours.`},"Flash Flood Statement.S":{name:"Flash Flood Statement",category:"",priority:6,color:"#8B0000",icon:"",help:""},"Severe Weather Statement.S":{name:"Severe Weather Statement",category:wt,priority:7,color:"#00FFFF",icon:"",help:""},"Shelter In Place Warning.W":{name:"Shelter In Place Warning",category:"",priority:8,color:"#FA8072",icon:"",help:""},"Civil Danger Warning.W":{name:"Civil Danger Warning",category:"",priority:10,color:"#FFB6C1",icon:"",help:""},"Nuclear Power Plant Warning.W":{name:"Nuclear Power Plant Warning",category:"",priority:11,color:"#4B0082",icon:"",help:""},"Radiological Hazard Warning.W":{name:"Radiological Hazard Warning",category:"",priority:12,color:"#4B0082",icon:"",help:""},"Hazardous Materials Warning.W":{name:"Hazardous Materials Warning",category:"",priority:13,color:"#4B0082",icon:"",help:""},"FI.W":{name:"Fire Warning",category:oo,priority:14,color:"#A0522D",icon:"mdi:fire",help:"A fire warning is an Emergency Alert System notification issued by civil authorities in the United States to alert the public when significant uncontrolled fires—typically wildfires—threaten residential areas or major roadways."},"Law Enforcement Warning.W":{name:"Law Enforcement Warning",category:"",priority:16,color:"#C0C0C0",icon:"",help:""},"SS.W":{name:"Storm Surge Warning",category:Lt,priority:17,color:"#B524F7",icon:"fa6-solid:house-flood-water",help:"A storm surge warning signifies the risk of life-threatening flooding from rising water moving inland from the coast, expected within the specified area—typically within 36 hours—in connection with a tropical, subtropical, or post-tropical cyclone."},"HF.W":{name:"Hurricane Force Wind Warning",category:_e,priority:18,color:"#CD5C5C",icon:"ph:hurricane-light",help:"Hurricane Force Wind Warnings are issued for coastal areas when either of the following conditions is expected to begin within 36 hours, unrelated to a tropical cyclone: sustained winds of 64 knots (74 mph) or higher, or frequent gusts of 64 knots or more lasting two hours or longer. Ensure your vessel is securely moored in port."},"HU.W":{name:"Hurricane Warning",category:Lt,priority:19,color:"#DC143C",icon:"ph:hurricane-light",help:"A Hurricane Warning is issued when sustained winds of 64 knots (74 mph) or higher from a tropical cyclone are expected within 36 hours or less. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding. The warning may remain in effect even if winds drop below hurricane strength, as dangerously high water or a combination of high water and large waves may still pose a significant threat."},"TY.W":{name:"Typhoon Warning",category:Lt,priority:20,color:"#DC143C",icon:"ph:hurricane-light",help:"A Typhoon Warning is issued when sustained winds of 64 knots (74 mph) or higher from a tropical cyclone are expected within 36 hours or less. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding. The warning may remain in effect even if winds drop below hurricane strength, as dangerously high water or a combination of high water and large waves may still pose a significant threat."},"MA.W":{name:"Special Marine Warning",category:wt,priority:21,color:"#731e56",icon:"carbon:marine-warning",help:`A warning issued for potentially hazardous weather conditions, typically lasting up to 2 hours, that involve sustained marine thunderstorm winds or gusts of 34 knots or more, hail 3/4 inch in diameter or larger, or waterspouts.

    This warning applies to areas covered by a Coastal Waters Forecast, Nearshore Marine Forecast, or Great Lakes Open Lakes Forecast when existing marine warnings are insufficient. It is also used for short-term mesoscale events, such as strong cold fronts, gravity waves, or squall lines, that produce winds or gusts of 34 knots or greater and last less than 2 hours.`},"BZ.W":{name:"Blizzard Warning",category:$e,priority:22,color:"#FF4500",icon:"f7:wind-snow",help:"A Blizzard Warning is issued by the National Weather Service (NWS) to alert the public of severe winter weather characterized by sustained winds or frequent gusts of at least 35 mph, accompanied by heavy snowfall or blowing snow, reducing visibility to a quarter-mile or less for at least three hours. These dangerous conditions can cause whiteouts, make travel nearly impossible, and pose life-threatening risks. Residents should avoid travel, stay indoors, and prepare for potential power outages and extended disruptions."},"SQ.W":{name:"Snow Squall Warning",category:$e,priority:23,color:"#C71585",icon:"mingcute:snow-line",help:"A Snow Squall Warning is issued by the National Weather Service (NWS) to alert the public of intense, short-lived bursts of heavy snow and strong winds that significantly reduce visibility, often to near whiteout conditions. These dangerous conditions can develop quickly and may result in sudden icy roadways, making travel extremely hazardous. Snow squalls are typically localized and brief but can cause rapid deterioration in weather conditions, particularly during cold weather events."},"IS.W":{name:"Ice Storm Warning",category:$e,priority:24,color:"#8B008B",icon:"mingcute:rainstorm-fill",help:"An Ice Storm Warning is issued by the National Weather Service (NWS) to alert the public of significant ice accumulation from freezing rain, typically 0.25 inches or more. These conditions can make travel extremely hazardous, damage trees and power lines, and lead to widespread power outages. The warning indicates that severe icing is imminent or occurring, and residents should avoid travel, prepare for possible disruptions, and take precautions to stay safe."},"Heavy Freezing Spray Warning.W":{name:"Heavy Freezing Spray Warning",category:"",priority:25,color:"#00BFFF",icon:"",help:""},"WS.W":{name:"Winter Storm Warning",category:$e,priority:26,color:"#FF69B4",icon:"mingcute:snow-line",help:"A Winter Storm Warning is issued by the National Weather Service (NWS) to alert the public of significant winter weather events that are expected or occurring. These events typically include heavy snowfall, sleet, or freezing rain that can create dangerous travel conditions, power outages, and other life-threatening impacts. The warning signifies that severe winter weather is imminent, ongoing, or highly likely, and people in the affected areas should take immediate precautions to stay safe."},"LE.W":{name:"Lake Effect Snow Warning",category:$e,priority:27,color:"#008B8B",icon:"wpf:snow",help:"A Lake Effect Snow Warning is issued by the National Weather Service (NWS) to alert the public of heavy snowfalls caused by cold air passing over a warmer lake surface. This phenomenon can produce intense and localized snow bands, often leading to rapid accumulations and hazardous travel conditions. The warning indicates that significant snowfall is expected or occurring, and people in the affected areas should prepare for dangerous driving conditions and limited visibility."},"DS.W":{name:"Dust Storm Warning",category:_e,priority:28,color:"#FFE4C4",icon:"fluent:dust-20-regular",help:"A Dust Storm Warning is issued when a convectively-driven dust storm reduces visibility to 1/4 mile or less, typically accompanied by winds of 25 mph or stronger."},"DU.W":{name:"Blowing Dust Warning",category:_e,priority:29,color:"#FFE4C4",icon:"fluent:dust-20-regular",help:"A Blowing Dust Warning is issued when widespread, synoptically driven blowing dust reduces visibility to 1/4 mile or less, typically with sustained winds of 25 mph or more and lasting longer than 90 minutes."},"HW.W":{name:"High Wind Warning",category:_e,priority:30,color:"#DAA520",icon:"humbleicons:wind",help:"The National Weather Service issues this alert when wind speeds reach levels that may be hazardous or life-threatening. Warning criteria differ by state. In Michigan, a wind warning is issued if non-convective winds (not linked to thunderstorms) sustain speeds of at least 40 mph for an hour or more, or if wind speeds hit 58 mph or higher at any time."},"TR.W":{name:"Tropical Storm Warning",category:Lt,priority:31,color:"#B22222",icon:"f7:hurricane",help:"A Tropical Storm Warning is issued when sustained winds of 34 to 63 knots (39 to 73 mph) from a tropical cyclone are expected within 36 hours or less. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding."},"SR.W":{name:"Storm Warning",category:_e,priority:32,color:"#9400D3",icon:"carbon:windy-dust",help:"A warning issued for sustained surface winds or frequent gusts between 48 and 63 knots (55 to 73 mph), either forecasted or currently happening, that are not directly related to a tropical cyclone."},"RHY.Y":{name:"Y'all Watch",category:"",priority:32,color:"#fff",icon:"",help:""},"Tsunami Advisory.Y":{name:"Tsunami Advisory",category:"",priority:33,color:"#D2691E",icon:"",help:""},"Tsunami Watch.A":{name:"Tsunami Watch",category:"",priority:34,color:"#FF00FF",icon:"",help:""},"AV.W":{name:"Avalanche Warning",category:$e,priority:35,color:"#1E90FF",icon:"hugeicons:avalanche",help:"An Avalanche Warning is issued by the National Weather Service (NWS) or avalanche forecasting agencies to alert the public of extremely dangerous avalanche conditions in mountainous areas. This warning indicates that avalanches are very likely or already occurring, and travel in avalanche-prone terrain should be avoided. People in or near affected areas should take immediate precautions to protect lives and property, including avoiding backcountry activities and following local safety guidance."},"Earthquake Warning.W":{name:"Earthquake Warning",category:"",priority:36,color:"#8B4513",icon:"",help:""},"Volcano Warning.W":{name:"Volcano Warning",category:"",priority:37,color:"#2F4F4F",icon:"",help:""},"Ashfall Warning.W":{name:"Ashfall Warning",category:"",priority:38,color:"#A9A9A9",icon:"",help:""},"FL.W":{name:"Flood (forecast point) Warning",category:Je,priority:39,color:"#00FF00",icon:"material-symbols:flood",help:"This alert is issued when a specific location—typically a river gauge or similar forecast point—is expected to reach or exceed flood stage. It indicates that water levels are forecasted to become dangerously high, posing imminent threats to life, property, and infrastructure. Residents and local authorities should take immediate precautions and stay tuned to updated safety instructions."},"FA.W":{name:"Flood Warning",category:Je,priority:39,color:"#00FF00",icon:"material-symbols:flood",help:"This alert is issued when flooding is either occurring or imminent in a designated area. It signifies that rising water levels from heavy rainfall, snowmelt, or other sources are expected to impact lives, property, and infrastructure. Residents and local officials should take immediate precautions and follow safety instructions from emergency management authorities."},"CF.W":{name:"Coastal Flood Warning",category:Je,priority:40,color:"#228B22",icon:"material-symbols:flood",help:"This alert is issued when coastal areas are expected to experience flooding due to high tides, storm surge, or heavy rainfall. It indicates that water levels may rapidly inundate low-lying coastal regions, posing risks to life, property, and critical infrastructure. Residents should secure their property, avoid flooded areas, and stay tuned to local emergency updates for further instructions."},"LS.W":{name:"Lakeshore Flood Warning",category:Je,priority:41,color:"#228B22",icon:"material-symbols:flood",help:"This alert is issued when rising lake water levels are expected to cause flooding in areas adjacent to a lake. It signifies that impacts such as inundation of roads, properties, and infrastructure are imminent or occurring. Residents and local officials should prepare for hazardous conditions and follow updated safety instructions."},"Ashfall Advisory.Y":{name:"Ashfall Advisory",category:"",priority:42,color:"#696969",icon:"",help:""},"High Surf Warning.W":{name:"High Surf Warning",category:"",priority:43,color:"#228B22",icon:"",help:""},"XH.W":{name:"Extreme Heat Warning",category:oo,priority:44,color:"#C71585",icon:"material-symbols:heat",help:"An Extreme Heat Warning signals that dangerously high temperatures are expected or already underway. During such conditions, minimize time outdoors—especially during peak heat hours. If you must be outside, drink plenty of water and take regular breaks in the shade. Whenever possible, stay in an air-conditioned space, even overnight, and remember to check on family members and neighbors."},"TO.A":{name:"Tornado Watch",category:wt,priority:45,color:"#FFFF00",icon:"bi:tornado",help:`A Tornado Watch is issued by the National Weather Service when conditions are conducive to the formation of tornadoes in and near the designated area. The size of the watch area varies depending on the specific weather situation and is typically issued for 4 to 8 hours. Watches are generally released well ahead of severe weather to give people time to prepare. During this time, individuals should review tornado safety protocols and be ready to seek shelter if threatening weather develops.

The Storm Prediction Center (SPC) in Norman, Oklahoma, is responsible for issuing Tornado Watches. Before doing so, the SPC usually consults with the local National Weather Forecast Office (NWFO) to discuss current weather conditions. Once a preliminary Tornado Watch is issued by the SPC, the local NWFO may adjust the watch area, adding or removing counties as necessary, and then release it to the public. The NWFO keeps the public updated on conditions in the watch area and announces when the watch expires or is canceled, often through a Watch Redefining Statement.`},"SV.A":{name:"Severe Thunderstorm Watch",category:wt,priority:46,color:"#DB7093",icon:"uil:thunderstorm",help:`The National Weather Service issues a Severe Thunderstorm Watch when conditions are favorable for the formation of severe thunderstorms in or near the designated area. A severe thunderstorm is defined as one that produces hail at least one inch in diameter and/or winds of 58 miles per hour or greater. The size of the watch area can vary depending on the weather situation and is typically in effect for 4 to 8 hours. These watches are issued well before severe weather is expected, giving people time to review safety guidelines and be ready to move to a safe location if threatening weather approaches.

Severe Thunderstorm Watches are issued by the Storm Prediction Center (SPC) in Norman, Oklahoma. Before a watch is issued, the SPC typically consults with the local National Weather Service Forecast Office (NWFO) to assess the weather situation. After this, the SPC issues a preliminary watch, which the local NWFO can adjust by adding or removing counties or parishes before releasing it to the public through a Watch Redefining Statement. Throughout the watch period, the NWFO will keep the public updated on conditions in the watch area and notify them when the watch is canceled or expires.`},"FF.A":{name:"Flash Flood Watch",category:wt,priority:47,color:"#2E8B57",icon:"carbon:flood-warning",help:"Issued to highlight current or developing hydrologic conditions that increase the likelihood of flash flooding in and around the watch area, though the event is not guaranteed or immediately expected."},"GL.W":{name:"Gale Warning",category:_e,priority:48,color:"#DDA0DD",icon:"streamline:interface-weather-wind-wind-high-overcast-gust-weather-meteorology-gale",help:"This is a warning for sustained surface winds or frequent gusts within the range of 34 knots (39 mph) to 47 knots (54 mph), whether occurring or forecast, and not directly related to a tropical cyclone."},"Flood Statement.S":{name:"Flood Statement",category:"",priority:49,color:"#00FF00",icon:"",help:""},"EC.W":{name:"Extreme Cold Warning",category:$e,priority:50,color:"#0000FF",icon:"hugeicons:thermometer-cold",help:"An Extreme Cold Warning is issued by the National Weather Service (NWS) to alert the public of dangerously cold temperatures or wind chills that pose a risk of frostbite, hypothermia, and other cold-related health issues. This warning signifies that conditions are severe and could be life-threatening if precautions are not taken. Residents in the affected area should limit outdoor exposure, dress in warm layers, and ensure proper heating indoors."},"FZ.W":{name:"Freeze Warning",category:$e,priority:51,color:"#483D8B",icon:"mdi:freeze-advisory",help:"A Freeze Warning is issued by the National Weather Service (NWS) to alert the public that temperatures are expected to drop to 32°F (0°C) or below during the growing season. These conditions can harm or kill crops, plants, and other sensitive vegetation. Residents in the warning area should take immediate steps to protect plants, outdoor pipes, and other freeze-vulnerable items."},"FW.W":{name:"Red Flag Warning",category:oo,priority:52,color:"#FF1493",icon:"mdi:wildfire",help:"A Red Flag Warning is issued when dry fuels and weather conditions combine to create extreme fire risk. This warning is designed for land and fire managers to underscore the heightened danger."},"SS.A":{name:"Storm Surge Watch",category:Lt,priority:53,color:"#DB7FF7",icon:"fa6-solid:house-flood-water",help:"A storm surge watch indicates the potential for life-threatening flooding from rising water moving inland from the coast, expected somewhere within the specified area—typically within 48 hours—in association with a tropical, subtropical, or post-tropical cyclone."},"HU.A":{name:"Hurricane Watch",category:Lt,priority:54,color:"#FF00FF",icon:"ph:hurricane-light",help:"A Hurricane Watch is issued when a tropical cyclone with sustained winds of 64 knots (74 mph) or higher could pose a threat to a specific area, typically within 48 hours. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding. A watch does not guarantee that hurricane conditions will occur—only that they are possible."},"HF.A":{name:"Hurricane Force Wind Watch",category:_e,priority:55,color:"#9932CC",icon:"ph:hurricane-light",help:"A watch issued for an increased risk of hurricane-force winds, with sustained surface winds or frequent gusts of 64 knots (74 mph) or higher, where the occurrence, location, or timing remains uncertain."},"TY.A":{name:"Typhoon Watch",category:Lt,priority:56,color:"#FF00FF",icon:"ph:hurricane-light",help:"A Hurricane Watch is issued when a tropical cyclone with sustained winds of 64 knots (74 mph) or higher could pose a threat to a specific area, typically within 48 hours. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding. A watch does not guarantee that hurricane conditions will occur—only that they are possible."},"TR.A":{name:"Tropical Storm Watch",category:Lt,priority:57,color:"#F08080",icon:"f7:hurricane",help:"A Tropical Storm Watch is issued when a tropical cyclone with sustained winds of 34 to 63 knots (39 to 73 mph) may pose a threat to a specific area, typically within 48 hours. These winds may be accompanied by storm surge, coastal flooding, and/or river flooding. A watch does not guarantee that tropical storm conditions will occur—only that they are possible."},"SR.A":{name:"Storm Watch",category:_e,priority:58,color:"#FFE4B5",icon:"carbon:windy-dust",help:"A watch indicating an increased risk of storm-force winds, with sustained surface winds or frequent gusts between 48 and 63 knots (55 to 73 mph), where the occurrence, location, or timing remains uncertain."},"Tropical Cyclone Local Statement.S":{name:"Tropical Cyclone Local Statement",category:"",priority:59,color:"#FFE4B5",icon:"",help:""},"WW.Y":{name:"Winter Weather Advisory",category:$e,priority:60,color:"#7B68EE",icon:"mingcute:snow-line",help:"A Winter Weather Advisory is issued by the National Weather Service (NWS) to inform the public of less severe but still impactful winter weather conditions, such as light snow, sleet, or freezing rain. While not as dangerous as a warning, these conditions can still cause travel disruptions and safety hazards. The advisory urges people to exercise caution and be prepared for potential inconveniences or minor impacts, especially on roads and sidewalks."},"Avalanche Advisory.Y":{name:"Avalanche Advisory",category:"",priority:61,color:"#CD853F",icon:"",help:""},"CW.Y":{name:"Cold Weather Advisory",category:$e,priority:62,color:"#AFEEEE",icon:"ph:thermometer-cold",help:"A Cold Weather Advisory is issued by the National Weather Service (NWS) to alert the public of lower-than-normal temperatures that, while not extreme, may pose risks to vulnerable populations, such as the elderly, children, or those without adequate heating. These conditions could lead to health concerns like frostbite or hypothermia with prolonged exposure. Residents should take precautions, dress warmly, and ensure heating systems are functioning properly."},"HT.Y":{name:"Heat Advisory",category:oo,priority:63,color:"#FF7F50",icon:"material-symbols:heat",help:"A Heat Advisory alerts you to hazardous heat that falls short of warning thresholds. You may want to delay or adjust outdoor plans, particularly during peak daytime temperatures. If you need to be outside, drink plenty of water, rest often in shaded areas, and spend the hottest parts of the day and evening in a cool environment."},"FL.Y":{name:"Flood (forecast point) Advisory",category:Je,priority:64,color:"#00FF7F",icon:"material-symbols:flood",help:"This alert is issued when water levels at a specific forecast point are expected to approach flood stage. While widespread flooding is not anticipated, minor flooding may impact low-lying areas near the point. Residents and local officials should monitor conditions and stay informed for any further updates."},"FA.Y":{name:"Flood Advisory",category:Je,priority:64,color:"#00FF7F",icon:"material-symbols:flood",help:"This alert is issued when minor flooding is expected or already occurring in a specific area. It indicates that water levels are rising enough to potentially affect low-lying roads, properties, and public spaces. While the flooding is generally not severe enough to cause major threats, residents should remain cautious, avoid unnecessary travel through flooded areas, and monitor updates from local authorities."},"CF.Y":{name:"Coastal Flood Advisory",category:Je,priority:65,color:"#7CFC00",icon:"material-symbols:flood",help:"This alert is issued when minor coastal flooding is expected due to factors such as high tides, moderate storm surge, or heavy rainfall. It indicates that water levels may cause temporary, localized inundation of low-lying coastal areas, potentially leading to travel disruptions or minor property impacts. Residents should remain cautious, avoid unnecessary exposure to flooded areas, and stay updated with local advisories."},"LS.Y":{name:"Lakeshore Flood Advisory",category:Je,priority:66,color:"#7CFC00",icon:"material-symbols:flood",help:"This alert is issued when rising lake water levels are expected to cause minor flooding along the lakeshore. It indicates that low-lying roads, properties, and recreational areas adjacent to the lake may experience temporary inundation. Residents should exercise caution near the affected areas and stay updated with local advisories."},"High Surf Advisory.Y":{name:"High Surf Advisory",category:"",priority:67,color:"#BA55D3",icon:"",help:""},"FG.Y":{name:"Dense Fog Advisory",category:_e,priority:68,color:"#708090",icon:"solar:fog-bold",help:"A Dense Fog Advisory is issued when fog reduces visibility to 1/8 mile or less over a broad area. For marine areas, an advisory is issued when widespread or localized fog lowers visibility to locally or regionally defined limits that do not exceed 1 nautical mile."},"MF.Y":{name:"Dense Fog (marine) Advisory",category:_e,priority:68,color:"#708090",icon:"solar:fog-bold",help:"A Dense Fog (marine) Advisory is issued when fog over water reduces visibility to 1 mile or less."},"SM.Y":{name:"Dense Smoke Advisory",category:_e,priority:69,color:"#F0E68C",icon:"meteocons:extreme-smoke-fill",help:"A Dense Smoke Advisory is issued when widespread or localized smoke lowers visibility to regionally or locally defined thresholds that do not exceed 1 nautical mile."},"SC.Y":{name:"Small Craft Advisory",category:_e,priority:70,color:"#D8BFD8",icon:"fa-solid:wind",help:`A Small Craft Advisory is issued by Coastal and Great Lakes Weather Forecast Offices (WFOs) for areas covered in Coastal Waters or Nearshore Marine Forecasts (NSH). The specific conditions that trigger an advisory vary by region. These advisories may also be issued when sea or lake ice poses a hazard to small boats. While there's no strict definition of a "small craft," any vessel that could be negatively impacted by the advisory criteria qualifies. Factors such as the operator's experience, as well as the boat's type, size, and seaworthiness, should also be taken into account.
`},"BW.Y":{name:"Brisk Wind Advisory",category:_e,priority:71,color:"#D8BFD8",icon:"fa-solid:wind",help:"Ice formation on seas or lakes is expected and may pose a hazard to small marine vessels. This condition may be addressed through a Small Craft Advisory, often referenced as a Brisk Wind Advisory. However, Weather Forecast Offices (WFOs) serving the Great Lakes region do not issue this advisory, as ice floes are common in these lakes during the winter season."},"Hazardous Seas Warning.W":{name:"Hazardous Seas Warning",category:"",priority:72,color:"#D8BFD8",icon:"",help:""},"DS.Y":{name:"Dust Advisory",category:_e,priority:73,color:"#BDB76B",icon:"fluent:dust-20-regular",help:"A Dust Advisory is issued when convectively-driven dust reduces visibility to between 1 mile and 1/4 mile, typically accompanied by winds of 25 mph or higher."},"DU.Y":{name:"Blowing Dust Advisory",category:_e,priority:74,color:"#BDB76B",icon:"fluent:dust-20-regular",help:"A Blowing Dust Advisory is issued when widespread, synoptically driven blowing dust reduces visibility to 1/4 mile or less, typically with winds of 25 mph or more, and generally persists for more than 90 minutes."},"LW.Y":{name:"Lake Wind Advisory",category:_e,priority:75,color:"#D2B48C",icon:"fa-solid:wind",help:"A Lake Wind Advisory is issued when forecasted winds on area lakes are expected to pose hazards to boaters and affect other recreational activities on or near the lakes."},"WI.Y":{name:"Wind Advisory",category:_e,priority:76,color:"#D2B48C",icon:"fa-solid:wind",help:"A Wind Advisory is issued when there is sustained winds of 25 to 39 mph and/or gusts up to 57 mph. Issuance is usually site-specific, though these wind speeds can also occur over broader areas that typically experience such conditions."},"FR.Y":{name:"Frost Advisory",category:$e,priority:77,color:"#6495ED",icon:"mingcute:snow-line",help:"A Frost Advisory is issued by the National Weather Service (NWS) to alert the public of expected frost conditions, typically during the growing season, when temperatures are forecasted to drop between 33°F and 36°F (1°C to 2°C). Frost can harm or kill sensitive plants and vegetation. Residents in the advisory area should take precautions, such as covering plants or bringing them indoors, to minimize potential damage."},"ZF.Y":{name:"Freezing Fog Advisory",category:_e,priority:78,color:"#008080",icon:"solar:fog-bold",help:"A Freezing Fog Advisory is issued by your local National Weather Service when fog forms in freezing conditions. The minute droplets within the fog can instantly freeze on surfaces such as vehicles and roadways, making driving, boating, flying, and other transportation methods especially dangerous. Typically, visibilities drop to one mile or less."},"Freezing Spray Advisory.Y":{name:"Freezing Spray Advisory",category:"",priority:79,color:"#00BFFF",icon:"",help:""},"Low Water Advisory.Y":{name:"Low Water Advisory",category:"",priority:80,color:"#A52A2A",icon:"",help:""},"WS.A":{name:"Winter Storm Watch",category:$e,priority:82,color:"#4682B4",icon:"mingcute:snow-line",help:"A Winter Storm Watch is issued by the National Weather Service (NWS) to alert the public of the potential for significant winter weather, such as heavy snow, sleet, or freezing rain, within the next 24 to 48 hours. It signals that while conditions are favorable for a severe winter storm, its occurrence, timing, and exact impacts remain uncertain. Those in the watch area should monitor forecasts closely and prepare for possible hazardous conditions."},"Rip Current Statement.S":{name:"Rip Current Statement",category:"",priority:83,color:"#40E0D0",icon:"",help:""},"Beach Hazards Statement.S":{name:"Beach Hazards Statement",category:"",priority:84,color:"#40E0D0",icon:"",help:""},"GL.A":{name:"Gale Watch",category:_e,priority:85,color:"#FFC0CB",icon:"streamline:interface-weather-wind-wind-high-overcast-gust-weather-meteorology-gale",help:"A Gale Watch is issued for an increased risk of gale force winds—defined as sustained winds or frequent gusts ranging from 34 knots (39 mph) to 47 knots (54 mph)—although the exact timing, location, and occurrence remain uncertain."},"AV.A":{name:"Avalanche Watch",category:$e,priority:86,color:"#F4A460",icon:"hugeicons:avalanche",help:"An Avalanche Watch is issued by the National Weather Service (NWS) or avalanche forecasting agencies to alert the public of the potential for dangerous avalanche conditions within the next 24 to 48 hours. It signifies that weather factors, such as heavy snowfall or rapid temperature changes, could lead to an increased avalanche risk in mountainous areas. People in or near affected regions should monitor updates, avoid avalanche-prone terrain, and be prepared to take safety precautions."},"Hazardous Seas Watch.A":{name:"Hazardous Seas Watch",category:"",priority:87,color:"#483D8B",icon:"",help:""},"Heavy Freezing Spray Watch.A":{name:"Heavy Freezing Spray Watch",category:"",priority:88,color:"#BC8F8F",icon:"",help:""},"FL.A":{name:"Flood (forecast point) Watch",category:Je,priority:89,color:"#2E8B57",icon:"material-symbols:flood",help:"This alert is issued when conditions indicate that water levels at a specific forecast point could rise to flood stage if current trends continue. While flooding is not yet occurring, residents and local officials should monitor updates closely and be prepared to take action if conditions worsen."},"FA.A":{name:"Flood Watch",category:Je,priority:89,color:"#2E8B57",icon:"material-symbols:flood",help:"This alert is issued when conditions are favorable for flooding to occur within a specified area. Although flooding is not currently taking place, factors such as heavy rainfall or rapid snowmelt could trigger rising water levels. Residents and local officials should remain vigilant, monitor updates, and prepare to take necessary precautions if the situation escalates."},"CF.A":{name:"Coastal Flood Watch",category:Je,priority:90,color:"#66CDAA",icon:"material-symbols:flood",help:"This alert is issued when conditions are favorable for coastal flooding to occur. It indicates that factors such as high tides, storm surge, or heavy rainfall could lead to temporary inundation of low-lying coastal areas. Residents and local officials should stay alert, monitor updates, and be prepared to take necessary precautions if conditions worsen."},"LS.A":{name:"Lakeshore Flood Watch",category:Je,priority:91,color:"#66CDAA",icon:"material-symbols:flood",help:"This alert is issued when conditions suggest that rising lake water levels could lead to flooding along the lakeshore. While flooding is not yet occurring, factors such as heavy rainfall or rapid snowmelt may elevate water levels enough to impact low-lying areas. Residents and local officials should monitor updates and be prepared to take action if conditions deteriorate."},"HW.A":{name:"High Wind Watch",category:_e,priority:92,color:"#B8860B",icon:"humbleicons:wind",help:"A High Wind Watch is issued when conditions indicate the potential for high wind speeds that could pose a hazard or be life threatening. Criteria vary by state; in Michigan, it is based on the potential for sustained non-convective (not related to thunderstorms) winds of 40 mph or more and/or gusts of 58 mph or higher."},"XH.A":{name:"Extreme Heat Watch",category:oo,priority:93,color:"#800000",icon:"material-symbols:heat",help:"An Extreme Heat Watch indicates that conditions could lead to an extreme heat event, though its timing and certainty remain unclear. Be prepared to postpone or cancel any significant outdoor activities if a warning is later issued. If you don’t have air conditioning, find your nearest cooling shelter or make plans to stay with family or friends who do."},"EC.A":{name:"Extreme Cold Watch",category:$e,priority:94,color:"#5F9EA0",icon:"hugeicons:thermometer-cold",help:"An Extreme Cold Watch is issued by the National Weather Service (NWS) to alert the public of the potential for dangerously cold temperatures or wind chills within the next 24 to 48 hours. These conditions could lead to frostbite, hypothermia, and other cold-related health risks if precautions are not taken. Residents should monitor forecasts, prepare for extreme cold, and plan to limit outdoor activities during the affected period."},"FZ.A":{name:"Freeze Watch",category:$e,priority:95,color:"#00FFFF",icon:"mdi:freeze-advisory",help:"A Freeze Watch is issued by the National Weather Service (NWS) to alert the public of the potential for freezing temperatures within the next 24 to 48 hours. This advisory is typically issued during the growing season when temperatures near or below 32°F (0°C) could damage or kill crops, plants, and other sensitive vegetation. People in the watch area should prepare to protect vulnerable plants, outdoor pipes, and other freeze-sensitive items."},"FW.A":{name:"Fire Weather Watch",category:oo,priority:96,color:"#FFDEAD",icon:"mdi:fire",help:"A Fire Weather Watch is issued when an area has experienced prolonged dryness (or even brief dry spells during spring green-up or after fall color), the National Fire Danger Rating System shows high to extreme risk, and critical weather conditions are forecast within the next 48 hours."},"CF.S":{name:"Coastal Flood Statement",category:Je,priority:99,color:"#6B8E23",icon:"material-symbols:flood",help:"This statement is issued when coastal flooding has been observed or is imminent, detailing areas where water levels are high enough to cause localized inundation. It provides information on current conditions and potential impacts to help residents and local officials stay informed and take appropriate precautions."},"Lakeshore Flood Statement.S":{name:"Lakeshore Flood Statement",category:"",priority:100,color:"#6B8E23",icon:"material-symbols:flood",help:"This statement is issued when flooding along the lakeshore has been observed or is imminent. It provides detailed information on rising water levels, affected areas, and potential impacts on roads, properties, and public spaces. Residents in the vicinity should stay alert and follow updates and instructions from local authorities."},"SP.S":{name:"Special Weather Statement",category:wt,priority:101,color:"#00FFFF",icon:"mdi:weather-cloudy-alert",help:"An official National Weather Service product that provides follow-up information on severe weather events—such as severe thunderstorms and tornadoes—that have occurred or are currently occurring."},"Marine Weather Statement.S":{name:"Marine Weather Statement",category:"",priority:102,color:"#FFDAB9",icon:"",help:""},"AQ.S":{name:"Air Quality Alert",category:_e,priority:103,color:"#808080",icon:"fa:warning",help:"An Air Quality Alert is issued when airborne pollutants reach levels that could impact public health. This alert warns that sensitive groups and the general public should take precautions, such as limiting outdoor activities, until air quality improves."},"AS.Y":{name:"Air Stagnation Advisory",category:_e,priority:104,color:"#808080",icon:"fa:warning",help:"A Air Stagnation Advisory is issued when significant accumulations of air pollution, smoke, dust, or industrial gases are expected to linger near the surface over an extended period. This situation typically occurs when a stagnant high-pressure system, accompanied by weak winds, prevents the influx of fresh air."},"Hazardous Weather Outlook.O":{name:"Hazardous Weather Outlook",category:"",priority:105,color:"#EEE8AA",icon:"",help:""},"Hydrologic Outlook.O":{name:"Hydrologic Outlook",category:"",priority:106,color:"#90EE90",icon:"",help:""},"Short Term Forecast.F":{name:"Short Term Forecast",category:"",priority:107,color:"#98FB98",icon:"",help:""}},Xn=()=>{const i=[];for(const e in ze){if(e.length!==4)continue;const t={...ze[e]};t.id=e;const o=e.split(".");t.country_iso="USA",t.product=o[0],t.significance=o[1],i.push(t)}return i},ps=i=>{const e=ze[i],t=i.split(".")[1];let o=1;return t==="W"||i==="SP.S"?o=2.5:i==="RHY.Y"&&(o=4),{enabled:!0,color:e.color,line_width:o,fill_opacity:.4,flash:{interval:800,duration:1e4,line_color:"#FFFFFF"},sound:{id:"none"}}},ms=()=>{const i={};for(const e in ze)e.length===4&&(i[e]=ps(e));return i};function Ms(i,e,t){let o=i[t][e];return o===void 0&&(o=ps(e)),o}const jo=i=>{const e=[];for(const t in ze)t.length===4&&t.endsWith(`.${i}`)&&e.push(t.substr(0,2));return e},Ps=(i,e="expires_at")=>{const t=j.utc();return i.filter(o=>{const a=j.utc(o.properties[e]);return t.isBefore(a)})};function Fr(i,e,t){var n,l,d;if(!i||!i.properties)return console.warn("isWarningVisible called with invalid feature:",i),!1;if(!e)return console.warn("isWarningVisible called with invalid filterSettings:",e),!1;const o=[];e.active&&o.push(m=>t>m.properties.starts_at_ms);const a=i.properties.country_iso,r=(n=e.country)==null?void 0:n[a];if(r&&(Array.isArray(r.states)&&((l=r.states)==null?void 0:l.length)>0&&o.push(m=>{var h;return((h=m.properties.states)==null?void 0:h.some(f=>r.states.includes(f==null?void 0:f.code)))??!1}),Array.isArray(r.offices)&&((d=r.offices)==null?void 0:d.length)>0&&o.push(m=>r.offices.includes(m.properties.office))),o.length===0)return!0;try{return o.every(m=>m(i))}catch(m){return console.error("Error applying filter condition for feature:",i,m),!1}}const Ua=["https://data2.weatherwise.app","https://data1.weatherwise.app"],Wn=15e3,Vn=6e4,Gn=6e4,$a={urls:Ua,timeout:Wn,axiosConfig:{adapter:"fetch"},maxRetryAttempts:Ua.length*2},Mr=i=>{const e={...$a,...i,axiosConfig:{...$a.axiosConfig,...i==null?void 0:i.axiosConfig}};let t=0,o;const a=(y,N)=>{const w=yi.create({baseURL:y,timeout:e.timeout,...e.axiosConfig,...N}),S={retries:e.maxRetryAttempts,shouldResetTimeout:!0,retryDelay:v=>Math.min(Gn,Math.imul(1e3,Math.pow(2,v-1))),onRetry:(v,A,B)=>{try{const R=new URL(B.url);B.url=B.url.replace(`${R.protocol}//${R.host}`,"")}catch(R){if(!R.message.includes("Invalid URL"))throw R}const I=n(e.urls.indexOf(B.baseURL));B.baseURL=I,B.timeout=f(v),o=a(I)}};return Ni(w,S),w},r=()=>e.urls[t];o=a(r());const n=y=>(t=(y+1)%e.urls.length,r()),l=async(y,N)=>(await o.get(y,N)).data,d=async(y,N,w)=>(await o.post(y,N,w)).data,m=async(y,N,w)=>(await o.put(y,N,w)).data,h=y=>{t=e.urls.indexOf(y),o=a(y)},f=y=>{const N=e.timeout*Math.pow(2,y);return Math.min(N,Vn)};return{get:l,post:d,put:m,setServer:h,getCurrentServer:r}};class jn{constructor(){this.httpClient=Mr();const e=this.getCustomServer();e&&this.httpClient.setServer(e)}getCustomServer(){const e=new Ne;return e.has("data_server")?e.get("data_server"):null}url(){return this.httpClient.getCurrentServer()}instance(){return this.httpClient}}const Se=new jn,Zt=i=>new Promise(e=>setTimeout(e,i)),Zn=(i,e,t)=>new Promise(o=>{const a=setTimeout(()=>{t==null||t(a),o()},i);e==null||e(a)}),Yn=(i,e)=>i.reduce((t,o)=>{let a=j.utc(o);return t===null||Math.abs(a.diff(e))<Math.abs(j.utc(t).diff(e))?o:t},null),Pr=i=>{i=(i%360+360)%360;const e=["North","North-Northeast","Northeast","East-Northeast","East","East-Southeast","Southeast","South-Southeast","South","South-Southwest","Southwest","West-Southwest","West","West-Northwest","Northwest","North-Northwest"],t=Math.round(i/22.5)%16;return e[t]},Jn=i=>({12:"Precipitation Mode",31:"Clear Air Mode",32:"Clear Air Mode",35:"Clear Air Mode",112:"Precipitation Mode",121:"Precipitation Mode",212:"Precipitation Mode",215:"Precipitation Mode",90:"Clear Air Mode",80:"Precipitation Mode"})[i]||null,Hr=i=>(i=parseInt(i),i=Math.floor(i/10)*10,i<10||i>110?"Unknown":{10:"Ground Clutter",20:"Biological",30:"Ice Crystals",40:"Dry Snow",50:"Wet Snow",60:"Light / Moderate Rain",70:"Heavy Rain",80:"Big Drops",90:"Graupel",100:"Hail",110:"Rain / Hail Mixture",120:"Unknown"}[i]||"Unknown"),hs=i=>{const e=i*1.15078;return e>=157?5:e>=130&&e<157?4:e>=111&&e<130?3:e>=96&&e<111?2:e>=74&&e<96?1:0},qt=i=>{const e=i*1.15078;return e>=157?"#A188FC":e>=130?"#FF738A":e>=111?"#FF9E59":e>=96?"#FFD98C":e>=74?"#FFFFD9":e>=39?"#4DFFFF":"#6EC1EA"},Xa=i=>i==="AT"?"Atlantic":i==="EP"?"Eastern Pacific":i==="CP"?"Central Pacific":"Unknown",Qn=(i,e=0)=>{let t=3735928559^e,o=1103547991^e;for(let a=0,r;a<i.length;a++)r=i.charCodeAt(a),t=Math.imul(t^r,2654435761),o=Math.imul(o^r,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&o)+(t>>>0)};function Wa(i,e){const t=m=>m.split(".").map(Number),[o,a,r]=t(i),[n,l,d]=t(e);return o!==n?o>n?1:-1:a!==l?a>l?1:-1:r!==d?r>d?1:-1:0}function qn(i){return i.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function el(i){return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}async function Ho(i,e){const t=[],o=[];for(const a of i){const r=a().then(n=>({status:"fulfilled",value:n})).catch(n=>({status:"rejected",reason:n}));t.push(r),o.push(r),o.length>=e&&(await Promise.race(o),o.splice(o.findIndex(n=>n===r),1))}return await Promise.all(o),Promise.all(t)}function wo(i,e){const t=new Set;return i.filter(o=>{const a=e(o);return t.has(a)?!1:(t.add(a),!0)})}function zr(i,e="id"){return wo(i,t=>t.properties[e])}function tl(){const i=new Intl.DateTimeFormat(navigator.language).formatToParts(new Date),e={year:"YYYY",month:"MM",day:"DD"};return i.filter(o=>["day","month","year"].includes(o.type)).map(o=>e[o.type]).join("/")}function js(i,e){typeof i=="string"&&(i=j.utc(i));let t=tl();return e&&(t+=` ${e}`),i.local().format(t)}function ol(){var i;return(i=document.querySelector(":root"))==null?void 0:i.classList.contains("dark")}function sl(){document.addEventListener("touchstart",i=>{i.touches.length>1&&i.preventDefault()},{passive:!1}),document.addEventListener("gesturestart",i=>{i.preventDefault()}),document.addEventListener("selectstart",function(i){i.target.closest('input, textarea, [contenteditable="true"]')||i.preventDefault()})}function gs(i){return i==null?!1:typeof i=="string"?i.trim()!=="":Array.isArray(i)?i.length>0:typeof i=="object"?Object.keys(i).length>0:!0}const al=60*1e3;let Va=!1,Ye=[],We={};const nt={},$t=ve("warnings",{state:()=>({list:[],last_update_at:null,loading:!1}),getters:{emergencyExists:i=>i.features.find(e=>e.properties.emergency)!==void 0,features:i=>{const e=gt(),t=Yt(),o=i.list.map(r=>We[r]).filter(r=>{const n=`${r.properties.product}.${r.properties.significance}`;return Ms(e.config,n,r.properties.country_iso).enabled}).map(r=>{const n=`${r.properties.product}.${r.properties.significance}`,l=ze[n],d=Ms(e.config,n,r.properties.country_iso);let m=l.priority;r.properties.product==="SP"&&r.properties.significance==="S"&&r.properties.tags.TIME_MOT_LOC==="object"&&(m=7),r.properties["line-halo-color"]=e.polygons.line_halo_color,r.properties["line-halo-width"]=e.polygons.line_halo_width;let h=d.color;return r.properties.emergency&&t.isVisible()&&n==="TO.W"&&(h="#950BA1"),r.properties["line-flash-color"]=d.flash.line_color,r.properties["line-flash-interval"]=d.flash.interval,r.properties["line-flash-duration"]=d.flash.duration,r.properties["line-color"]=r.properties.emergency?"#FFFFFF":d.color,r.properties["line-background-color"]=h,r.properties["line-opacity"]=t.isVisible?1:.7,r.properties["line-width"]=r.properties.emergency?4:d.line_width,r.properties["line-sort-key"]=m,r.properties.product==="RHY"&&r.properties.significance==="Y"&&(r.properties["line-dasharray"]=[0,3,4]),r.properties["fill-color"]=d.color,r.properties["fill-opacity"]=d.fill_opacity,r.properties["fill-sort-key"]=m,r}),a=Date.now();return o.filter(r=>Fr(r,e.filter,a))},sidebarFeatures:i=>{const e=gt(),t={"ISSUANCE-A-Z":(a,r)=>{const n=a.properties.issued_at_ms;return r.properties.issued_at_ms<n?1:-1},"ISSUANCE-Z-A":(a,r)=>{const n=a.properties.issued_at_ms,l=r.properties.issued_at_ms;return n<l?1:-1},"START-A-Z":(a,r)=>{const n=a.properties.starts_at_ms;return r.properties.starts_at_ms<n?1:-1},"START-Z-A":(a,r)=>{const n=a.properties.starts_at_ms,l=r.properties.starts_at_ms;return n<l?1:-1},"EXPIRES-A-Z":(a,r)=>{const n=a.properties.expires_at_ms;return r.properties.expires_at_ms<n?1:-1},"EXPIRES-Z-A":(a,r)=>{const n=a.properties.expires_at_ms,l=r.properties.expires_at_ms;return n<l?1:-1}},o=i.features.slice();return o.sort(t[e.sort_by]),o},filter:i=>(e,t)=>i.sidebarFeatures.filter(o=>{const a=o.properties.significance===e;return t===void 0?a:a&&o.properties.product===t})},actions:{init(){Va||(Va=!0,setInterval(()=>{if(C.warnings.getMode()!==Ce)return;const i=j.utc().valueOf(),e=Ye.filter(function(o){return o.properties.expires_at_ms<i});e.length>0&&(e.forEach(o=>{We[o.properties.id]!==void 0&&delete We[o.properties.id],nt[o.properties.id]!==void 0&&delete nt[o.properties.id],Ye=Ye.filter(a=>a.properties.id!==o.properties.id)}),this.refreshList()),Ye.filter(o=>{const a=o.properties.starts_at_ms;return i>a}).length!==this.features.length&&this.refreshList()},al))},setFeatureList(i){Ye=i,We=Object.fromEntries(i.map(e=>[e.properties.id,e])),this.last_update_at=j.utc().toISOString(),this.refreshList()},refreshList(){this.list=Ye.map(i=>i.properties.id)},async load(){if(!this.loading)try{this.loading=!0;const i=await Se.instance().get(`/warnings/USA.geojson?_=${new Date().getTime()}`),e=Ps(i.features).filter(t=>{const o=`${t.properties.product}.${t.properties.significance}`,a=ze[o]!==void 0;return a||console.warn(`Warning: ${o} is not supported.`),a});this.setFeatureList(e),Yt().loadAlerts(),await this.loadGeometryForLocalFeatures()}catch(i){return console.log("Failed to load from warnings store",i),i}finally{this.loading=!1}},async loadGeometryForLocalFeatures(){const i=gt(),e=Ye.filter(o=>{const a=`${o.properties.product}.${o.properties.significance}`,r=i.config[o.properties.country_iso][a];return o.geometry===null&&r.enabled});if(e.length===0)return;const t=e.filter(o=>nt[o.properties.id]===void 0).map(o=>async()=>await this.fetchGeometry(o));t.length>0&&(console.time("Load warning geometry data for realtime"),await Ho(t,6),console.timeEnd("Load warning geometry data for realtime")),console.time("Apply warning geometry data for realtime"),e.forEach(o=>{const a=nt[o.properties.id];a!==void 0&&We[o.properties.id]!==void 0&&(We[o.properties.id].geometry=a.geometry)}),console.timeEnd("Apply warning geometry data for realtime"),this.refreshList()},async fetchGeometry(i){const e=i.properties.id;if(i.properties.geometry===void 0||i.properties.geometry===null||typeof i.properties.geometry!="object")return console.log("Warning feature is missing extra geometry",e),null;if(i.properties.geometry.type!=="REMOTE")return console.log("Warning feature uses unsupported geometry",e),null;let o=nt[e];if(nt[e]===void 0)try{o=await Se.instance().get(`/warnings/archive/${e}-geometry.geojson`),nt[e]=o}catch(a){return console.error(`Failed to fetch geometry for warning: ${e}`,a),null}return o.geometry},async push(i){const e=j.utc().valueOf();if(i.properties.expires_at_ms<e)return;const o=`${i.properties.product}.${i.properties.significance}`;if(ze[o]===void 0)return;const a=this.list.findIndex(r=>r===i.properties.id);if(a>=0?(Ye[a]=i,We[i.properties.id]=i):(Ye.push(i),We[i.properties.id]=i,Ye.filter(function(n){return n.properties.common_id==i.properties.common_id&&n.properties.issued_at_ms<i.properties.issued_at_ms}).forEach(n=>{We[n.properties.id]!==void 0&&delete We[n.properties.id],nt[n.properties.id]!==void 0&&delete nt[n.properties.id],Ye=Ye.filter(l=>l.properties.id!==n.properties.id)})),i.geometry===null){await this.fetchGeometry(i);const r=nt[i.properties.id];if(r===void 0||We[i.properties.id]===void 0)return;We[i.properties.id].geometry=r.geometry}this.refreshList()},delete(i){return this.features.find(t=>t.properties.id===i)===void 0?!1:(this.list=this.list.filter(t=>t!==i),Ye=Ye.filter(t=>t.properties.id!==i),nt[i]!==void 0&&delete nt[i],We[i]!==void 0&&delete We[i],!0)},deleteByCommonId(i){const e=this.features.find(t=>t.properties.common_id===i);return e===void 0?!1:(this.delete(e.properties.id),!0)},getFeatureById(i,e=!1){return(e?ge:o=>o)(this.features.find(o=>o.properties.id===i))},featureExists(i){return We[i]!==void 0}}}),gt=ve("settings/warnings",{state:()=>({visible:!0,sort_by:"ISSUANCE-A-Z",filter:{active:!1,country:{USA:{states:[],offices:[]}}},show_storm_motion:!0,polygons:{line_halo_color:"#FFFFFF",line_halo_width:4},popup:{view:"DETAILED"},config:{USA:ms()}}),persist:!0,actions:{toggleVisible(){this.visible=!this.visible},toggleFilterActive(){this.filter.active=!this.filter.active},toggleShowStormMotion(){this.show_storm_motion=!this.show_storm_motion,$t().refreshList()}}});let Ss=null;const Or=i=>(Ss||(Ss=new vi(i,{autoConnect:!1,reconnection:!1,path:"/ws/socket.io"})),Ss),rl="https://relay2.weatherwise.app";class Kr{constructor(){this.socket=null,this.rooms=[],this.appliedConnect=!1,this.currentServer=rl}init(){return this.manager=Or(this.currentServer),this.socket=this.manager.socket("/"),this.bindManagerEvents(),this.bindEvents(),this}async preconnect(e){let o=0;for(;o<60;){try{const r=await(await fetch(`${this.currentServer}/preconnect`)).json();this.socket.io.opts.query=r.query,this.socket.io.opts.extraHeaders=r.headers,e();break}catch(a){console.log("Failed to preconnect",a)}finally{o++}await Zt(3e3)}}async start(){await this.preconnect(async()=>{await this.connectWithRetry()})}bindManagerEvents(){this.socket!==null&&(this.socket.io.on("error",e=>{console.log("Socket error",e)}),this.socket.io.on("close",async e=>{console.log("Socket close",e),await Zt(1e3),await this.start()}),this.socket.io.on("reconnect",e=>{console.log("Socket reconnect")}),this.socket.io.on("reconnect_attempt",e=>{console.log("Socket reconnect attempt",e)}),this.socket.io.on("reconnect_error",e=>{console.log("Socket reconnect error",e)}),this.socket.io.on("reconnect_failed",()=>{console.log("Socket reconnect failed")}),this.socket.io.on("ping",()=>{}))}bindEvents(){this.socket.on("connect_error",async e=>{console.log("Socket connect error",e)}),this.socket.on("connect",()=>{console.log("Socket connected"),this.rooms.length>0&&(console.log("Joining rooms",this.rooms),this.roomJoinEmit(this.rooms))}),this.socket.on("disconnect",async(e,t)=>{console.log("Socket disconnected",e,t)})}connect(){const e=this;return new Promise((t,o)=>{e.socket.io.open(a=>{if(a)return o(a);t()})})}async connectWithRetry(){let t=0;for(;t<60;){try{await this.connect(),this.appliedConnect||(this.appliedConnect=!0,this.socket.connect());break}catch(o){console.log("Failed to connect",o)}finally{t++}await Zt(3e3)}}on(e,t){this.socket.on(e,t)}off(){this.socket!==null&&this.socket.off()}removeAllListeners(e){this.socket.removeAllListeners(e)}instance(){return this.socket}roomJoin(e){if(console.log(`Socket join room: ${e}`),this.rooms.includes(e))return console.log(`Already joined room: ${e}`);this.rooms.push(e),this.roomJoinEmit(e)}roomJoinEmit(e){this.socket.emit("room:join",e)}roomLeave(e){if(console.log(`Socket leave room: ${e}`),!this.rooms.includes(e))return console.log(`Not part of room: ${e}`);this.rooms=this.rooms.filter(t=>t!==e),this.socket.emit("room:leave",e)}}const te=new Kr,Zs=()=>({change:e=>{const t=g.mapboxMapsFirst().getStyle(),o=t.layers,a=t.sources;o.forEach(n=>{n.id.startsWith("ww-")||g.removeLayer(n.id)});for(const n in a)n!=="composite"&&(n.startsWith("ww-")||g.removeSource(n));g.forEach(n=>{const l=n.listImages(),d=n.style.scope;for(const m of l)!m.startsWith("ww-")&&n.style.imageManager.getImage(m,d)!==void 0&&n.removeImage(m);n.style.stylesheet.sprite=e.sprite,n.style.stylesheet.glyphs=e.glyphs,n.style._loadSprite(e.sprite),n.style.glyphManager.setURL(e.glyphs,n.style.scope)});for(const n in e.sources)n!=="composite"&&g.addSource(n,e.sources[n]);const r=e.layers.findIndex(n=>n.id==="land-structure-polygon");e.layers.forEach((n,l)=>{const d=l<r?"ww-top-middle-satellite-layer":"ww-tropical-forecast-wind-radii-fill-layer";g.addLayer(n,d)})}}),il=8,nl="Monochrome",ll={"mapbox:type":"default","mapbox:origin":"monochrome-dark-v1","mapbox:sdk-support":{js:"3.5.0",android:"11.5.0",ios:"11.6.0"},"mapbox:autocomposite":!0,"mapbox:groups":{"Transit, transit-labels":{name:"Transit, transit-labels",collapsed:!0},"Administrative boundaries, admin":{name:"Administrative boundaries, admin",collapsed:!1},"Land & water, built":{name:"Land & water, built",collapsed:!1},"Transit, bridges":{name:"Transit, bridges",collapsed:!0},"Transit, surface":{name:"Transit, surface",collapsed:!0},"Land & water, land":{name:"Land & water, land",collapsed:!1},"Road network, bridges":{name:"Road network, bridges",collapsed:!0},"Road network, tunnels":{collapsed:!0,name:"Road network, tunnels"},"Road network, road-labels":{collapsed:!1,name:"Road network, road-labels"},"Buildings, built":{name:"Buildings, built",collapsed:!1},"Natural features, natural-labels":{name:"Natural features, natural-labels",collapsed:!1},"Road network, surface":{collapsed:!0,name:"Road network, surface"},"Place labels, place-labels":{name:"Place labels, place-labels",collapsed:!1},"Point of interest labels, poi-labels":{name:"Point of interest labels, poi-labels",collapsed:!1},"Transit, built":{name:"Transit, built",collapsed:!1},"Land & water, water":{name:"Land & water, water",collapsed:!1}}},cl=[-82.64149188654945,35.616737481734745],dl=12.982770278576774,ul=0,pl=0,ml={composite:{url:"mapbox://mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2,mapbox.country-boundaries-v1",type:"vector",data:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank" title="Mapbox" aria-label="Mapbox">&copy; Mapbox</a> <a href="https://www.openstreetmap.org/copyright/" target="_blank" title="OpenStreetMap" aria-label="OpenStreetMap">&copy; OpenStreetMap</a> <a class="mapbox-improve-map" href="https://www.mapbox.com/contribute/" target="_blank" title="Improve this map" aria-label="Improve this map">Improve this map</a>',bounds:[-180,-85.051129,180,85],center:[0,-.025564500000001544,0],constituents:[{maxzoom:16,minzoom:0,source:"mapbox.mapbox-streets-v8"},{maxzoom:15,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{maxzoom:12,minzoom:0,source:"mapbox.country-boundaries-v1"}],description:"Global polygon tileset of country boundaries and disputed areas",format:"pbf",language_options:{all:"Every available language",ar:"Arabic",bg:"Bulgarian",ca:"Catalan",cs:"Czech",da:"Danish",de:"German",el:"Greek",en:"English",es:"Spanish",fa:"Farsi",fi:"Finnish",fr:"French",he:"Hebrew",hr:"Croatian",hu:"Hungarian",id:"Indonesian",it:"Italian",ja:"Japanese",ka:"Georgian",ko:"Korean",local:"Renderable local language",lv:"Latvian",ms:"Malay",nb:"Norwegian Bokmål",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sk:"Slovak",sl:"Slovenian",sq:"Albanian",sr:"Serbian",sv:"Swedish",th:"Thai",tl:"Tagalog",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese","zh-Hans":"Simplified Chinese","zh-Hant":"Traditional Chinese"},mapbox_logo:!0,maskLevel:9,maxzoom:16,minzoom:0,mts:!0,name:"Mapbox Countries v1 + Mapbox Terrain v2 + Mapbox Streets v8",scheme:"xyz",tilejson:"3.0.0",tiles:["mapbox://tiles/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2,mapbox.country-boundaries-v1/{z}/{x}/{y}.vector.pbf"],vector_layers:[{id:"landuse",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"waterway",minzoom:7,source:"mapbox.mapbox-streets-v8"},{id:"water",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"aeroway",minzoom:9,source:"mapbox.mapbox-streets-v8"},{id:"structure",minzoom:13,source:"mapbox.mapbox-streets-v8"},{id:"building",minzoom:12,source:"mapbox.mapbox-streets-v8"},{id:"landuse_overlay",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"road",minzoom:3,source:"mapbox.mapbox-streets-v8"},{id:"admin",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"place_label",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"airport_label",minzoom:8,source:"mapbox.mapbox-streets-v8"},{id:"transit_stop_label",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"natural_label",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"poi_label",minzoom:6,source:"mapbox.mapbox-streets-v8"},{id:"motorway_junction",minzoom:9,source:"mapbox.mapbox-streets-v8"},{id:"housenum_label",minzoom:16,source:"mapbox.mapbox-streets-v8"},{id:"landcover",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{id:"hillshade",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{id:"contour",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{id:"country_boundaries",maxzoom:22,minzoom:0,source:"mapbox.country-boundaries-v1"}],worldview_default:"US",worldview_options:{ALL:"Every available worldview",AR:"Argentina",CN:"China",IN:"India",JP:"Japan",MA:"Morocco",RS:"Serbia",RU:"Russia",TR:"Turkey",US:"United States"}}},"country-boundaries":{type:"vector",url:"mapbox://mapbox.country-boundaries-v1"}},hl="mapbox://sprites/ryanhalltv/cly53k3ra00kv01p8bcly0fxh/f14z5ycc0sbon01btz351lq6p",gl="mapbox://fonts/mapbox/{fontstack}/{range}.pbf",fl=[{id:"land",type:"background",layout:{},paint:{"background-color":["interpolate",["linear"],["zoom"],9,"hsl(236, 6%, 51%)",11,"hsl(236, 6%, 51%)"]},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"}},{minzoom:5,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},filter:["==",["get","class"],"national_park"],type:"fill",source:"composite",id:"national-park",paint:{"fill-color":"hsl(236, 0%, 33%)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,.6,12,.2]},"source-layer":"landuse_overlay"},{minzoom:5,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},filter:["all",[">=",["to-number",["get","sizerank"]],0],["match",["get","class"],["agriculture","wood","grass","scrub","glacier","pitch","sand"],["step",["zoom"],!1,11,!0],"residential",["step",["zoom"],!0,10,!1],["park","airport"],["step",["zoom"],!1,8,["case",["==",["get","sizerank"],1],!0,!1],10,!0],!1],["<=",["-",["to-number",["get","sizerank"]],["interpolate",["exponential",1.5],["zoom"],12,0,18,14]],8]],type:"fill",source:"composite",id:"landuse",paint:{"fill-color":["match",["get","class"],"glacier","rgb(137, 137, 137)","hsl(236, 0%, 33%)"],"fill-opacity":["interpolate",["linear"],["zoom"],8,["match",["get","class"],"residential",.8,.2],10,["match",["get","class"],"residential",0,1]],"fill-antialias":!1},"source-layer":"landuse"},{layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, land"},maxzoom:16,filter:["all",["step",["zoom"],["==",["get","class"],"shadow"],11,!0],["match",["get","level"],89,!0,78,["step",["zoom"],!1,5,!0],67,["step",["zoom"],!1,9,!0],56,["step",["zoom"],!1,6,!0],94,["step",["zoom"],!1,11,!0],90,["step",["zoom"],!1,12,!0],!1]],type:"fill",source:"composite",id:"hillshade",paint:{"fill-color":["interpolate",["linear"],["zoom"],14,["match",["get","class"],"shadow","hsla(236, 4%, 47%, 0.06)","hsla(236, 4%, 44%, 0.04)"],16,["match",["get","class"],"shadow","hsla(236, 4%, 47%, 0)","hsla(236, 4%, 44%, 0)"]],"fill-antialias":!1},"source-layer":"hillshade"},{id:"waterway",type:"line",source:"composite","source-layer":"waterway",minzoom:8,layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"],visibility:"none"},paint:{"line-color":"#404252","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"}},{id:"water",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"#404252","fill-outline-color":"#5e5e5e"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, water"}},{minzoom:13,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},filter:["all",["==",["get","class"],"land"],["==",["geometry-type"],"Polygon"]],type:"fill",source:"composite",id:"land-structure-polygon",paint:{"fill-color":["interpolate",["linear"],["zoom"],9,"hsl(236, 6%, 51%)",11,"hsl(236, 4%, 36%)"]},"source-layer":"structure"},{minzoom:13,layout:{"line-cap":"square",visibility:"none"},metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land & water, built"},filter:["all",["==",["get","class"],"land"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"land-structure-line",paint:{"line-width":["interpolate",["exponential",1.99],["zoom"],14,.75,20,40],"line-color":["interpolate",["linear"],["zoom"],9,"hsl(236, 6%, 51%)",11,"hsl(236, 4%, 36%)"]},"source-layer":"structure"},{minzoom:11,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},filter:["all",["match",["get","type"],["runway","taxiway","helipad"],!0,!1],["==",["geometry-type"],"Polygon"]],type:"fill",source:"composite",id:"aeroway-polygon",paint:{"fill-color":"hsl(236, 4%, 45%)","fill-opacity":["interpolate",["linear"],["zoom"],10,0,11,1]},"source-layer":"aeroway"},{minzoom:9,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},filter:["==",["geometry-type"],"LineString"],type:"line",source:"composite",id:"aeroway-line",paint:{"line-color":"hsl(236, 4%, 45%)","line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,.5],18,["match",["get","type"],"runway",80,20]],"line-opacity":["interpolate",["linear"],["zoom"],10,0,11,1]},"source-layer":"aeroway"},{minzoom:15,layout:{},metadata:{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],type:"fill",source:"composite",id:"building",paint:{"fill-color":"hsl(236, 1%, 32%)","fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,1],"fill-outline-color":"hsla(236, 0%, 21%, 0.8)"},"source-layer":"building"},{id:"tunnel-minor-case",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-street-case",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-opacity":["step",["zoom"],0,14,1],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["==",["get","structure"],"tunnel"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"tunnel-minor-link-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{id:"tunnel-secondary-tertiary-case",type:"line",source:"composite","source-layer":"road",minzoom:11,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-primary-case",type:"line",source:"composite","source-layer":"road",minzoom:10,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-major-link-case",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-motorway-trunk-case",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 2%, 47%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300],"line-dasharray":[3,3]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-construction",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20,22,200],"line-color":"hsl(236, 4%, 33%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-minor",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100],"line-color":"hsl(236, 4%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["==",["get","structure"],"tunnel"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"tunnel-minor-link",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{id:"tunnel-major-link",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-color":"hsl(236, 4%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-street",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(236, 4%, 33%)","line-opacity":["step",["zoom"],0,14,1]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},maxzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"tunnel-street-low",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(236, 4%, 33%)"},"source-layer":"road"},{id:"tunnel-secondary-tertiary",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260],"line-color":"hsl(236, 4%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-primary",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280],"line-color":"hsl(236, 4%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"tunnel-motorway-trunk",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300],"line-color":"hsl(236, 4%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"}},{id:"road-polygon",type:"fill",source:"composite","source-layer":"road",minzoom:12,filter:["all",["match",["get","class"],["primary","secondary","tertiary","primary_link","secondary_link","tertiary_link","trunk","trunk_link","street","street_limited","track","service"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"Polygon"]],paint:{"fill-color":"hsl(236, 4%, 44%)","fill-outline-color":"hsl(236, 0%, 33%)"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"}},{id:"turning-feature-outline",type:"circle",source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["turning_circle","turning_loop"],!0,!1],["==",["geometry-type"],"Point"]],paint:{"circle-radius":["interpolate",["exponential",1.5],["zoom"],15,4.5,16,8,18,20,22,200],"circle-color":"hsl(236, 4%, 44%)","circle-stroke-width":["interpolate",["linear"],["zoom"],15,.8,16,1.2,18,2],"circle-stroke-color":"hsl(236, 0%, 33%)","circle-pitch-alignment":"map"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-minor-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100]},"source-layer":"road"},{minzoom:14,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["street","street_limited"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-street-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-minor-link-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{minzoom:11,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-secondary-tertiary-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260]},"source-layer":"road"},{minzoom:10,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-primary-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280]},"source-layer":"road"},{minzoom:12,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-major-link-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{minzoom:3,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"],visibility:"none"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["step",["zoom"],["match",["get","class"],["motorway","trunk"],!0,!1],5,["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]]],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-motorway-trunk-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1]},"source-layer":"road"},{id:"turning-feature",type:"circle",source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["turning_circle","turning_loop"],!0,!1],["==",["geometry-type"],"Point"]],paint:{"circle-radius":["interpolate",["exponential",1.5],["zoom"],15,4.5,16,8,18,20,22,200],"circle-color":"hsl(236, 4%, 44%)","circle-pitch-alignment":"map"},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"}},{id:"road-construction",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","class"],"construction"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20,22,200],"line-color":"hsl(236, 4%, 44%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-minor",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:12,layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-minor-link",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:12,layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-major-link",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["street","street_limited"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-street",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(236, 4%, 44%)","line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{minzoom:11,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},maxzoom:14,filter:["all",["match",["get","class"],["street","street_limited"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-street-low",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(234, 0%, 44%)"},"source-layer":"road"},{minzoom:9,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-secondary-tertiary",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260],"line-color":"hsl(234, 1%, 42%)"},"source-layer":"road"},{minzoom:6,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-primary",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280],"line-color":"#99999f","line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.71]},"source-layer":"road"},{minzoom:3,layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},filter:["all",["step",["zoom"],["match",["get","class"],["motorway","trunk"],!0,!1],5,["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]]],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"road-motorway-trunk",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,1.4,18,30,22,300],"line-color":"hsla(0, 100%, 40%, 0.53)","line-opacity":["interpolate",["linear"],["zoom"],6,0,7,1]},"source-layer":"road"},{id:"road-rail",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["major_rail","minor_rail"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(236, 0%, 33%)",17,"hsl(236, 0%, 31%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, surface"}},{id:"road-rail-tracks",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["major_rail","minor_rail"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],paint:{"line-color":"hsl(236, 0%, 31%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[.1,15],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, surface"}},{id:"bridge-minor-case",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-street-case",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-opacity":["step",["zoom"],0,14,1]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{minzoom:13,layout:{"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-minor-link-case",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-opacity":["step",["zoom"],0,11,1]},"source-layer":"road"},{id:"bridge-secondary-tertiary-case",type:"line",source:"composite","source-layer":"road",minzoom:11,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260],"line-opacity":["step",["zoom"],0,10,1]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-primary-case",type:"line",source:"composite","source-layer":"road",minzoom:10,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280],"line-opacity":["step",["zoom"],0,10,1]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-major-link-case",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-motorway-trunk-case",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-construction",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20,22,200],"line-color":"hsl(236, 4%, 44%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["track"],!0,"service",["step",["zoom"],!1,14,!0],!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-minor",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,10,22,100],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["match",["get","class"],["primary_link","secondary_link","tertiary_link"],!0,!1],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-minor-link",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.4,18,18,22,180],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:12,layout:{"line-cap":["step",["zoom"],"butt",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-major-link",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-street",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(236, 4%, 44%)","line-opacity":["step",["zoom"],0,14,1]},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},maxzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-street-low",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,18,20,22,200],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-secondary-tertiary",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,0,18,26,22,260],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-primary",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,28,22,280],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-motorway-trunk",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{id:"bridge-major-link-2-case",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.8,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{id:"bridge-motorway-trunk-2-case",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,22,2],"line-color":"hsl(236, 0%, 33%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"}},{minzoom:12,layout:{"line-cap":["step",["zoom"],"butt",13,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-major-link-2",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.8,18,20,22,200],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{minzoom:13,layout:{"line-cap":["step",["zoom"],"butt",14,"round"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],type:"line",source:"composite",id:"bridge-motorway-trunk-2",paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],3,.8,18,30,22,300],"line-color":"hsl(236, 4%, 44%)"},"source-layer":"road"},{id:"bridge-rail",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],!0,!1]],paint:{"line-color":"hsl(236, 0%, 31%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, bridges"}},{id:"bridge-rail-tracks",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],!0,!1]],paint:{"line-color":"hsl(236, 0%, 31%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[.1,15],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, bridges"}},{minzoom:7,layout:{visibility:"none"},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-2-boundary-bg",paint:{"line-color":"#b0b0b0","line-width":["interpolate",["linear"],["zoom"],3,3,12,6],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.5],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,12,3]},"source-layer":"admin"},{id:"admin-1-boundary-bg",type:"line",source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],paint:{"line-color":"rgb(108, 111, 151)","line-width":["interpolate",["linear"],["zoom"],3,6,12,12],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.5],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,12,6]},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"}},{minzoom:1,layout:{},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},filter:["all",["match",["get","disputed"],"true",!1,!0],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-0-boundary-bg",paint:{"line-width":["interpolate",["linear"],["zoom"],3,4.4,12,8.8],"line-color":"#1f1f1f","line-opacity":["interpolate",["linear"],["zoom"],3,0,4,.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,12,2.2]},"source-layer":"admin"},{minzoom:5,layout:{},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-2-boundary",paint:{"line-dasharray":["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]],"line-width":["interpolate",["linear"],["zoom"],3,.3,12,1],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,1],"line-color":"hsl(0, 2%, 100%)"},"source-layer":"admin"},{minzoom:2,layout:{},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-1-boundary",paint:{"line-dasharray":[2,0],"line-width":["interpolate",["linear"],["zoom"],3,2,12,5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1]},"source-layer":"admin"},{minzoom:1,layout:{},metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-0-boundary",paint:{"line-color":"#4d4e51","line-width":["interpolate",["linear"],["zoom"],3,.55,12,2.2],"line-dasharray":[10,0]},"source-layer":"admin"},{id:"country-boundaries",type:"line",paint:{"line-width":1.5},layout:{},source:"country-boundaries","source-layer":"country_boundaries"},{minzoom:10,layout:{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],15,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],13.5,9.75],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],24,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],21,19.5]],"text-max-angle":30,"text-transform":"uppercase","symbol-spacing":400,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":20,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.01},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},filter:["all",["has","name"],["step",["zoom"],["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],!0,!1],12,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],!0,!1],15,["match",["get","class"],["path","pedestrian","golf","ferry","aerialway"],!1,!0]],["step",["pitch"],!0,50,["<",["distance-from-center"],2],60,["<",["distance-from-center"],2.5],70,["<",["distance-from-center"],3]]],type:"symbol",source:"composite",id:"road-label",paint:{"text-color":"#ffffff","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":1,"text-halo-blur":1},"source-layer":"road"},{minzoom:15,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"icon-image":"intersection","icon-text-fit":"both","icon-text-fit-padding":[1,2,1,2],"text-size":["interpolate",["exponential",1.2],["zoom"],15,9,18,12],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},filter:["all",["==",["get","class"],"intersection"],["has","name"],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]]],type:"symbol",source:"composite",id:"road-intersection",paint:{"text-color":"hsl(230, 57%, 64%)"},"source-layer":"road"},{minzoom:6,layout:{"text-size":11,"icon-image":["case",["has","shield_beta"],["coalesce",["image",["concat",["get","shield_beta"],"-",["to-string",["get","reflen"]]]],["image",["concat",["get","shield"],"-",["to-string",["get","reflen"]]]],["image",["concat","default-",["to-string",["get","reflen"]]]]],["concat",["get","shield"],"-",["to-string",["get","reflen"]]]],"icon-rotation-alignment":"viewport","text-max-angle":38,"symbol-spacing":["interpolate",["linear"],["zoom"],11,400,14,600],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"symbol-placement":["step",["zoom"],"point",11,"line"],"text-rotation-alignment":"viewport","icon-size":1.3,"text-field":["get","ref"],"text-letter-spacing":.05},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},filter:["all",["case",["has","reflen"],["<=",["get","reflen"],6],["has","shield_beta"]],["match",["get","class"],["pedestrian","service"],!1,!0],["step",["zoom"],["==",["geometry-type"],"Point"],11,[">",["get","len"],5e3],12,[">",["get","len"],2500],13,[">",["get","len"],1e3],14,!0],["step",["pitch"],!0,50,["<",["distance-from-center"],2],60,["<",["distance-from-center"],2.5],70,["<",["distance-from-center"],3]]],type:"symbol",source:"composite",id:"road-number-shield",paint:{"text-color":["case",["has","shield_beta"],["case",["all",["has","shield_text_color_beta"],["to-boolean",["coalesce",["image",["concat",["get","shield_beta"],"-",["to-string",["get","reflen"]]]],""]]],["match",["get","shield_text_color_beta"],"white","hsl(0, 0%, 100%)","yellow","hsl(50, 100%, 70%)","orange","hsl(25, 100%, 75%)","blue","hsl(230, 57%, 44%)","red","hsl(0, 87%, 59%)","green","hsl(140, 74%, 37%)","hsl(230, 18%, 13%)"],"hsl(230, 18%, 13%)"],["match",["get","shield_text_color"],"white","hsl(0, 0%, 100%)","yellow","hsl(50, 100%, 70%)","orange","hsl(25, 100%, 75%)","blue","hsl(230, 57%, 44%)","red","hsl(0, 87%, 59%)","green","hsl(140, 74%, 37%)","hsl(230, 18%, 13%)"]]},"source-layer":"road"},{minzoom:14,layout:{"text-field":["get","ref"],"text-size":9,"icon-image":["concat","motorway-exit-",["to-string",["get","reflen"]]],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},filter:["all",["has","reflen"],["<=",["get","reflen"],9],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]]],type:"symbol",source:"composite",id:"road-exit-shield",paint:{"text-color":"hsl(0, 0%, 100%)","text-translate":[0,0]},"source-layer":"motorway_junction"},{minzoom:13,layout:{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,16.799999999999997,18,25.2],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},filter:["all",["match",["get","class"],["canal","river","stream","disputed_canal","disputed_river","disputed_stream"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]],["==",["geometry-type"],"LineString"]],type:"symbol",source:"composite",id:"waterway-label",paint:{"text-color":"hsl(0, 0%, 100%)","text-halo-color":"hsla(236, 2%, 26%, 0.5)"},"source-layer":"natural_label"},{minzoom:4,layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],36,5,24],17,["step",["get","sizerank"],36,13,24]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},filter:["all",["match",["get","class"],["glacier","landform","disputed_glacier","disputed_landform"],["match",["get","worldview"],["all","US"],!0,!1],!1],["<=",["get","filterrank"],1],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]],["==",["geometry-type"],"LineString"]],type:"symbol",source:"composite",id:"natural-line-label",paint:{"text-halo-width":.5,"text-halo-color":"hsl(236, 2%, 26%)","text-halo-blur":.5,"text-color":"hsl(240, 0%, 100%)"},"source-layer":"natural_label"},{minzoom:4,layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],36,5,24],17,["step",["get","sizerank"],36,13,24]],"icon-image":"","text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"text-offset":["literal",[0,0]],"text-field":["coalesce",["get","name_en"],["get","name"]]},metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},filter:["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland","disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["match",["get","worldview"],["all","US"],!0,!1],!1],["<=",["get","filterrank"],1],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]],["==",["geometry-type"],"Point"]],type:"symbol",source:"composite",id:"natural-point-label",paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":.5,"text-halo-blur":.5,"text-color":"hsl(0, 2%, 100%)"},"source-layer":"natural_label"},{minzoom:1,layout:{"text-size":["interpolate",["linear"],["zoom"],0,["*",["-",16,["sqrt",["get","sizerank"]]],1.4],22,["*",["-",22,["sqrt",["get","sizerank"]]],1.4]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",.25,["sea","bay"],.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],visibility:"none"},metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]],["==",["geometry-type"],"LineString"]],type:"symbol",source:"composite",id:"water-line-label",paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"#ff5252","rgb(230, 230, 230)"],"text-halo-color":"hsla(236, 2%, 26%, 0.5)"},"source-layer":"natural_label"},{minzoom:1,layout:{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],0,["*",["-",16,["sqrt",["get","sizerank"]]],1.4],22,["*",["-",22,["sqrt",["get","sizerank"]]],1.4]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",.25,["bay","sea"],.15,.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],1],60,["<",["distance-from-center"],1.5],70,["<",["distance-from-center"],2]],["==",["geometry-type"],"Point"]],type:"symbol",source:"composite",id:"water-point-label",paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"rgb(114, 116, 134)","rgb(230, 230, 230)"],"text-halo-color":"hsla(236, 2%, 26%, 0.5)"},"source-layer":"natural_label"},{minzoom:6,layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],36,5,24],17,["step",["get","sizerank"],36,13,24]],"icon-image":"","text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"text-offset":[0,0],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},metadata:{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},filter:["all",["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],1]],["step",["pitch"],!0,50,["<",["distance-from-center"],2],60,["<",["distance-from-center"],2.5],70,["<",["distance-from-center"],3]]],type:"symbol",source:"composite",id:"poi-label",paint:{"text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":.5,"text-halo-blur":.5,"text-color":"hsl(67, 61%, 88%)"},"source-layer":"poi_label"},{minzoom:8,layout:{"text-line-height":1.1,"text-size":["step",["get","sizerank"],36,9,24],"icon-image":"","text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"text-offset":[0,0],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["case",["has","ref"],["concat",["get","ref"],` -
`,["coalesce",["get","name_en"],["get","name"]]],["coalesce",["get","name_en"],["get","name"]]],15,["get","ref"]],"text-letter-spacing":.01,"text-max-width":9},metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},filter:["all",["match",["get","class"],["military","civil","disputed_military","disputed_civil"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"airport-label",paint:{"text-color":"hsl(236, 4%, 87%)","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":1},"source-layer":"airport_label"},{minzoom:10,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",.15,.05],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["linear"],["zoom"],5.5,20,8,20,11,23]},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:15,filter:["all",["match",["get","class"],["settlement_subdivision","disputed_settlement_subdivision"],["match",["get","worldview"],["all","US"],!0,!1],!1],["<=",["get","filterrank"],3],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"settlement-subdivision-label",paint:{"text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":["interpolate",["linear"],["zoom"],5.5,2,8,2.5,11,3],"text-color":"#ffffff","text-halo-blur":.5},"source-layer":"place_label"},{minzoom:2,layout:{"text-line-height":1.1,"text-size":["interpolate",["linear"],["zoom"],5.5,28,8,28,11,38],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,.6,.55],8,0],"symbol-sort-key":["get","symbolrank"],"icon-image":"","text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:13,filter:["all",["<=",["get","filterrank"],2],["match",["get","class"],["settlement","disputed_settlement"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["zoom"],[">",["get","symbolrank"],6],4,[">=",["get","symbolrank"],7],6,[">=",["get","symbolrank"],8],7,[">=",["get","symbolrank"],10],10,[">=",["get","symbolrank"],11],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15]],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"settlement-minor-label",paint:{"text-color":"#ffffff","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":["interpolate",["linear"],["zoom"],5.5,2.5,8,3,11,3.5],"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1},"source-layer":"place_label"},{minzoom:2,layout:{"text-line-height":1.1,"text-size":["interpolate",["linear"],["zoom"],5.5,40,8,35,11,50],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,.6,.55],8,0],"symbol-sort-key":["get","symbolrank"],"icon-image":"","text-font":["DIN Pro Bold","Arial Unicode MS Regular"],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:15,filter:["all",["<=",["get","filterrank"],2],["match",["get","class"],["settlement","disputed_settlement"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["zoom"],!1,2,["<=",["get","symbolrank"],6],4,["<",["get","symbolrank"],7],6,["<",["get","symbolrank"],8],7,["<",["get","symbolrank"],10],10,["<",["get","symbolrank"],11],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],15]],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"settlement-major-label",paint:{"text-color":"#ffffff","text-halo-color":"#000000","text-halo-width":["interpolate",["linear"],["zoom"],5.5,3,8,3.5,11,4],"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1},"source-layer":"place_label"},{minzoom:3,layout:{"text-size":["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,["step",["get","symbolrank"],9,6,8,7,7],9,["step",["get","symbolrank"],21,6,16,7,14]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.15,"text-max-width":6,visibility:"none"},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:9,filter:["all",["match",["get","class"],["state","disputed_state"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"state-label",paint:{"text-color":"hsl(236, 4%, 87%)","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":1,"text-opacity":.5},"source-layer":"place_label"},{minzoom:1,layout:{"icon-image":"","text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":1.1,"text-max-width":6,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-radial-offset":["step",["zoom"],.6,8,0],"text-size":["interpolate",["cubic-bezier",.2,0,.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],22,4,19,5,17]],visibility:"none"},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:10,filter:["all",["match",["get","class"],["country","disputed_country"],["match",["get","worldview"],["all","US"],!0,!1],!1],["step",["pitch"],!0,50,["<",["distance-from-center"],3],60,["<",["distance-from-center"],4],70,["<",["distance-from-center"],5]]],type:"symbol",source:"composite",id:"country-label",paint:{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(236, 4%, 60%)","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":1.25},"source-layer":"place_label"},{minzoom:.75,layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":1.1,"text-max-width":6,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-size":["interpolate",["exponential",.5],["zoom"],0,10,2.5,15],"text-transform":"uppercase","text-letter-spacing":.05,visibility:"none"},metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},maxzoom:3,filter:["==",["get","class"],"continent"],type:"symbol",source:"composite",id:"continent-label",paint:{"text-color":"hsl(236, 4%, 60%)","text-halo-color":"hsl(236, 2%, 26%)","text-halo-width":1.5,"text-opacity":["interpolate",["linear"],["zoom"],0,.8,1.5,.5,2.5,0]},"source-layer":"natural_label"}],yl={version:il,name:nl,metadata:ll,center:cl,zoom:dl,bearing:ul,pitch:pl,sources:ml,sprite:hl,glyphs:gl,layers:fl},Ur=()=>{const i=JSON.parse(JSON.stringify(yl));return i.sprite=`${window.location.origin}/yall-mode-map-style/sprite`,i},lo=ve("subscription",{state:()=>({revenueCatCustomerInfo:null,isLoading:!1,error:null}),getters:{hasActiveSubscription:i=>{var e,t;return i.revenueCatCustomerInfo===null||typeof((t=(e=i.revenueCatCustomerInfo)==null?void 0:e.entitlements)==null?void 0:t.all)!="object"?!1:Object.values(i.revenueCatCustomerInfo.entitlements.all).some(o=>o.isActive)===!0},activeSubscription:i=>{var t,o;if(!((o=(t=i.revenueCatCustomerInfo)==null?void 0:t.entitlements)!=null&&o.active))return null;const e=i.revenueCatCustomerInfo.entitlements.active;return Object.values(e)[0]??null}},actions:{setRevenueCatCustomerInfo(i){this.revenueCatCustomerInfo=i}}}),Nl={class:"flex flex-col max-w-3xl my-12 mx-auto p-4 bg-white dark:bg-ww-blue border dark:border-gray-700 rounded-lg space-y-2"},vl={class:"flex items-center"},bl={key:0},wl={key:1,class:"text-2xl sm:text-4xl dark:text-white"},xl={class:"text-gray-900 dark:text-slate-300"},Ae=ae({__name:"Simple",props:{title:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),q(u(Oo),{"content-transition":"vfm-fade","overlay-transition":"vfm-fade","content-class":"absolute inset-0","focus-trap":!1,"lock-scroll":!1,"onUpdate:modelValue":a[2]||(a[2]=r=>t("update:modelValue",r))},{default:ie(()=>[s("div",{class:"absolute inset-0 h-full overflow-auto dark:bg-gray-900/50",onClick:a[1]||(a[1]=P(()=>t("update:modelValue",!1),["self"]))},[s("div",Nl,[s("div",vl,[o.$slots.title?(c(),p("header",bl,[dt(o.$slots,"title")])):(c(),p("h1",wl,_(o.title),1)),s("button",{class:"ml-auto",onClick:a[0]||(a[0]=r=>{t("update:modelValue",!1),t("close")})},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-10 dark:text-gray-300 hover:dark:text-white transition-colors"})])]),s("div",xl,[dt(o.$slots,"default")])])])]),_:3}))}}),_l={class:"flex flex-col max-w-3xl mx-auto p-4 bg-white dark:bg-ww-blue border dark:border-gray-700 rounded-lg"},Sl={class:"flex items-center"},kl={key:0},Al={key:1,class:"text-2xl sm:text-4xl dark:text-white"},Cl=ae({__name:"SimpleBottom50",props:{title:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),q(u(Oo),{"content-transition":"vfm-fade",hideOverlay:"true","content-class":"absolute inset-0","focus-trap":!1,"lock-scroll":!1,"onUpdate:modelValue":a[2]||(a[2]=r=>t("update:modelValue",r)),class:"simple-modal-bottom-50"},{default:ie(()=>[s("div",{class:"absolute inset-0 h-full overflow-auto",onClick:a[1]||(a[1]=P(()=>t("update:modelValue",!1),["self"]))},[s("div",_l,[s("div",Sl,[o.$slots.title?(c(),p("header",kl,[dt(o.$slots,"title")])):(c(),p("h1",Al,_(o.title),1)),s("button",{class:"ml-auto",onClick:a[0]||(a[0]=r=>{t("update:modelValue",!1),t("close")})},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-10 dark:text-gray-300 hover:dark:text-white"})])]),dt(o.$slots,"default")])])]),_:3}))}}),Tl={class:"flex flex-col max-w-3xl my-12 mx-auto p-4 bg-white dark:bg-ww-blue rounded-lg space-y-2"},Bl={class:"flex items-center"},Dl={key:0,class:"text-2xl sm:text-4xl text-gray-900 dark:text-white"},fo=ae({__name:"Centered",props:{title:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),q(u(Oo),{"content-transition":"vfm-fade","overlay-transition":"vfm-fade","content-class":"absolute inset-0","focus-trap":!1,"lock-scroll":!1,"onUpdate:modelValue":a[2]||(a[2]=r=>t("update:modelValue",r))},{default:ie(()=>[s("div",{class:"flex justify-center items-center h-full",onClick:a[1]||(a[1]=P(()=>t("update:modelValue",!1),["self"]))},[s("div",Tl,[s("div",Bl,[o.title?(c(),p("h1",Dl,_(o.title),1)):x("",!0),s("button",{class:"ml-auto",onClick:a[0]||(a[0]=r=>{t("update:modelValue",!1),t("close")})},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-10 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors"})])]),dt(o.$slots,"default")])])]),_:3}))}}),mt=ae({__name:"Wrapper",props:{title:{},closeButtonWrapperClass:{},closeIconClass:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),q(u(Oo),{"content-transition":"vfm-fade","overlay-transition":"vfm-fade","content-class":"absolute inset-0","focus-trap":!1,"lock-scroll":!1,"onUpdate:modelValue":a[1]||(a[1]=r=>t("update:modelValue",r))},{default:ie(()=>[s("div",{class:"overflow-auto h-full flex justify-center pt-[calc(10%)] md:pt-[calc(5%)]",id:"modal-content",onClick:a[0]||(a[0]=P(()=>t("update:modelValue",!1),["self"]))},[s("div",null,[dt(o.$slots,"default")])])]),_:3}))}}),G=(i,e)=>{const t=i.__vccOpts||i;for(const[o,a]of e)t[o]=a;return t},Il={},El={class:"text-gray-800 dark:text-gray-200"};function Ll(i,e){return c(),p("div",El,e[0]||(e[0]=[s("p",{class:"mb-5"},"The information in this app and on our website is provided by WeatherWise. While we strive to keep it current and accurate, we make no guarantees of any kind, express or implied, regarding the completeness, accuracy, reliability, suitability, or availability of the website or the information, products, services, or related graphics on the site. Any reliance you place on such information is strictly at your own risk.",-1),s("p",{class:"mb-5"},"We will not be liable for any loss or damage, including but not limited to indirect or consequential loss or damage, or any loss or damage arising from loss of data or profits, in connection with the use of this website.",-1),s("p",null,"This website may contain links to other websites not controlled by WeatherWise. We have no control over the nature, content, and availability of those sites. The inclusion of any links does not imply a recommendation or endorsement of the views expressed within them.",-1)]))}const Rl=G(Il,[["render",Ll]]),Fl="/credits/isptek-logo.png",Ml={methods:{startDebug(){(function(){var i=document.createElement("script");i.src="https://remotejs.com/agent/agent.js",i.setAttribute("data-consolejs-channel","2cd66bb4-932b-c56d-b812-a2f2971b7ec9"),document.head.appendChild(i)})()}}},Pl={class:"mb-4"},Hl={class:"text-gray-900 dark:text-slate-300"},zl={class:"mt-4 mb-4"},Ol={class:"text-gray-900 dark:text-slate-300"};function Kl(i,e,t,o,a,r){return c(),p(z,null,[s("div",Pl,[s("p",Hl,[e[2]||(e[2]=L("We wish to say a special thank you to everyone that provides us with the data that powers WeatherWise ")),s("a",{href:"#",onClick:e[0]||(e[0]=P((...n)=>r.startDebug&&r.startDebug(...n),["prevent"]))},"❤️")])]),e[4]||(e[4]=ye('<div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Canada</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.canada.ca/en/environment-climate-change.html" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Environment and Climate Change Canada (ECCC)</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Colombia</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.ideam.gov.co/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Institute of Hydrology, Meteorology and Environmental Studies (IDEAM)</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Cyprus</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.dom.org.cy/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Cyprus Department of Meteorology</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Czechia</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.chmi.cz/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Czech Hydrometeorological Institute</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Denmark</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.dmi.dk/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Danish Meteorological Institute</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Estonia</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://keskkonnaagentuur.ee/en" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Republic of Estonia Environment Agency</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Finland</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://en.ilmatieteenlaitos.fi/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Finnish Meteorological Institute</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Germany</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.dwd.de/DE/Home/home_node.html" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Deutscher Wetterdienst</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Iceland</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://en.vedur.is/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Icelandic Meteorological Office</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Ireland</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.met.ie/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">The Irish Meteorological Service</a></p></div><div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">Netherlands</h4><p class="text-gray-800 dark:text-slate-300">Data Source: <a href="https://www.knmi.nl/" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">Royal Netherlands Meteorological Institute (KNMI)</a></p></div><div><h4 class="font-bold">United States of America</h4><p>Data Source: <a href="https://www.noaa.gov/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">National Oceanic and Atmospheric Administration (NOAA)</a>, <a href="https://drought.unl.edu/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">National Drought Mitigation Center (NDMC)</a>, <a href="https://www.usda.gov/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">U.S. Department of Agriculture (USDA)</a>, <a href="https://www.nasa.gov/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">National Aeronautics and Space Administration (NASA)</a>, <a href="https://www.gatech.edu/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">Georgia Tech</a>, <a href="https://tnvalleyweather.com/" class="font-medium text-blue-600 dark:text-blue-500 hover:underline" target="_blank">Tennessee Valley Weather</a></p></div><hr class="my-6">',13)),s("div",zl,[s("p",Ol,[e[3]||(e[3]=L("And give another special thank you to everyone that provides us with the technology that powers WeatherWise ")),s("a",{href:"#",onClick:e[1]||(e[1]=P((...n)=>r.startDebug&&r.startDebug(...n),["prevent"]))},"❤️")])]),e[5]||(e[5]=ye('<div class="mb-4"><h4 class="font-bold text-gray-900 dark:text-slate-300">ISPTek</h4><p class="text-gray-800 dark:text-slate-300"><a href="https://isptek.co" class="font-medium text-blue-600 dark:text-blue-400 hover:underline" target="_blank">ISPTek</a> provides us with modern, fast and redundant servers for our mission critical workloads (weather radar, satellite, alerts, etc.). Their customer service is excellent and they&#39;ve deployed special server configurations that are optimized for our workloads, boosting our app&#39;s performance.</p><div class="mt-3 text-center"><a href="https://isptek.co" target="_blank"><img src="'+Fl+'" style="max-width:300px;"></a></div></div>',1))],64)}const Ul=G(Ml,[["render",Kl]]),$l={};function Xl(i,e){return c(),p("div",null,e[0]||(e[0]=[s("p",{class:"mb-5"},"TODO",-1)]))}const Wl=G($l,[["render",Xl]]),Vl={class:"w-full sm:px-10 my-3 sm:my-6"},Gl={class:"relative"},jl=["value"],Zl={key:0,class:"inline-flex items-center"},Yl={key:1,class:"inline-flex items-center"},Jl={class:"share-network-list sm:pt-5"},Ql={key:0,type:"button",class:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-xs px-2.5 py-1.5 text-center me-2 mb-2 font-bold"},ql={data(){return{copied:!1,sharing:{url:`${window.location.href}`,title:"WeatherWise",description:"WeatherWise - Extreme weather radar app. Real-time & high-resolution data to protect you, your community, and property from nature's fury.",hashtags:"wx"},networks:[{network:"facebook",name:"Facebook",icon:"fa6-brands:facebook",color:"#1877f2"},{network:"reddit",name:"Reddit",icon:"fa6-brands:reddit-alien",color:"#ff4500"},{network:"telegram",name:"Telegram",icon:"fa-brands:telegram-plane",color:"#0088cc"},{network:"twitter",name:"X/Twitter",icon:"ri:twitter-x-fill",color:"#000"},{network:"whatsapp",name:"Whatsapp",icon:"fa6-brands:whatsapp",color:"#25d366"},{network:"sms",name:"SMS",icon:"fa6-solid:comment-dots",color:"#333333"}]}},computed:{availableNetworks(){return this.networks.filter(i=>!(i.network==="sms"&&C.isNativeVersionEqualTo(ke)))}},methods:{onCopyUrl(i){navigator.clipboard.writeText(i).then(()=>{this.copied=!0,setTimeout(()=>{this.copied=!1},2e3)},e=>{console.error("Async: Could not copy text: ",e)})},onOpenNetwork(i){const e=this.$refs.shareNetworkRef.find(t=>t.key===i);e!==null&&(clearInterval(e.popupInterval),e.popupWindow=void 0)},onShowMoreOptionsClick(i){this.networks.push({network:"baidu",name:"Baidu",icon:"fa6-solid:paw",color:"#2529d8"}),this.networks.push({network:"buffer",name:"Buffer",icon:"fa6-brands:buffer",color:"#323b43"}),this.networks.push({network:"email",name:"Email",icon:"fa6-solid:envelope",color:"#333333"}),this.networks.push({network:"evernote",name:"Evernote",icon:"fa6-brands:evernote",color:"#2dbe60"}),this.networks.push({network:"flipboard",name:"Flipboard",icon:"fa6-brands:flipboard",color:"#e12828"}),this.networks.push({network:"hackernews",name:"HackerNews",icon:"fa6-brands:hacker-news",color:"#ff4000"}),this.networks.push({network:"instapaper",name:"Instapaper",icon:"fa6-solid:italic",color:"#428bca"}),this.networks.push({network:"line",name:"Line",icon:"fa6-brands:line",color:"#00c300"}),this.networks.push({network:"linkedin",name:"LinkedIn",icon:"fa6-brands:linkedin",color:"#007bb5"}),this.networks.push({network:"odnoklassniki",name:"Odnoklassniki",icon:"fa6-brands:odnoklassniki",color:"#ed812b"}),this.networks.push({network:"pinterest",name:"Pinterest",icon:"fa6-brands:pinterest",color:"#bd081c"}),this.networks.push({network:"pocket",name:"Pocket",icon:"fa6-brands:get-pocket",color:"#ef4056"}),this.networks.push({network:"quora",name:"Quora",icon:"fa6-brands:quora",color:"#a82400"}),this.networks.push({network:"skype",name:"Skype",icon:"fa6-brands:skype",color:"#00aff0"}),this.networks.push({network:"stumbleupon",name:"StumbleUpon",icon:"fa6-brands:stumbleupon",color:"#eb4924"}),this.networks.push({network:"tumblr",name:"Tumblr",icon:"fa6-brands:tumblr",color:"#35465c"}),this.networks.push({network:"vk",name:"Vk",icon:"fa6-brands:vk",color:"#4a76a8"}),this.networks.push({network:"weibo",name:"Weibo",icon:"fa6-brands:weibo",color:"#e9152d"}),this.networks.push({network:"wordpress",name:"Wordpress",icon:"fa6-brands:wordpress",color:"#21759b"}),this.networks.push({network:"xing",name:"Xing",icon:"fa6-brands:xing",color:"#026466"}),this.networks.push({network:"yammer",name:"Yammer",icon:"fa6-brands:yammer",color:"#0072c6"})},shareUrl(i=null,e=null,t=null){const o=new URL(this.sharing.url),a=o.searchParams;return i&&a.append("utm_medium",i),e&&a.append("utm_source",e),t&&a.append("utm_campaign",t),o.toString()}}},ec=Object.assign(ql,{__name:"Share",setup(i){return(e,t)=>{const o=Ie("ShareNetwork");return c(),p(z,null,[s("div",null,[s("div",Vl,[s("div",Gl,[s("div",{onClick:t[0]||(t[0]=a=>e.onCopyUrl(e.shareUrl("social","ww_share")))},[s("input",{type:"text",class:"col-span-6 bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-black dark:text-white opacity-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2.5 py-4",value:e.shareUrl("social","ww_share"),disabled:"",readonly:""},null,8,jl)]),s("button",{onClick:t[1]||(t[1]=a=>e.onCopyUrl(e.shareUrl("social","ww_share"))),class:"absolute end-2.5 top-1/2 -translate-y-1/2 text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-ww-blue-100 rounded-lg py-2 px-2.5 inline-flex items-center justify-center bg-white dark:bg-ww-blue-200 border-gray-200 dark:border-gray-600 border"},[e.copied?(c(),p("span",Yl,t[3]||(t[3]=[s("svg",{class:"w-3 h-3 text-blue-700 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})],-1),s("span",{class:"text-xs font-semibold text-blue-700"},"Copied",-1)]))):(c(),p("span",Zl,t[2]||(t[2]=[s("svg",{class:"w-3 h-3 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[s("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})],-1),s("span",{class:"text-xs font-semibold"},"Copy",-1)])))])])])]),s("div",null,[s("div",Jl,[(c(!0),p(z,null,ee(e.availableNetworks,a=>(c(),q(o,{network:a.network,key:a.network,style:pe({backgroundColor:a.color}),url:e.shareUrl("social",a.network),title:e.sharing.title,description:e.sharing.description,hashtags:e.sharing.hashtags,ref_for:!0,ref:"shareNetworkRef",onOpen:e.onOpenNetwork},{default:ie(()=>[b(u(T),{icon:a.icon,class:"ml-1 sm:w-8 sm:h-8 inline"},null,8,["icon"]),s("span",null,_(a.name),1)]),_:2},1032,["network","style","url","title","description","hashtags","onOpen"]))),128)),e.networks.length==7?(c(),p("button",Ql," Show more options... ")):x("",!0)])])],64)}}}),tc=G(ec,[["__scopeId","data-v-c0d25002"]]),oc="/assets/ios-qr-Ds-cid7X.png",Hs="/assets/app-store-badge-CVyK0T4N.svg",sc="/assets/android-qr-DR3PKg92.png",zs="/assets/google-play-badge-DVbUjTfg.svg",ac={class:"flex flex-row gap-8 sm:gap-18 pt-4"},rc={class:"flex flex-col gap-4"},ic=["href"],nc={class:"relative"},lc=["value"],cc={key:0,class:"inline-flex items-center"},dc={key:1,class:"inline-flex items-center"},uc={class:"flex flex-col gap-4"},pc=["href"],mc={class:"relative"},hc=["value"],gc={key:0,class:"inline-flex items-center"},fc={key:1,class:"inline-flex items-center"},yc={__name:"AppDownload",setup(i){const e=H(!1),t=H(!1),o=Br,a=Dr,r=async l=>{try{await navigator.clipboard.writeText(l),e.value=!0}catch(d){console.error("Async: Could not copy text: ",d)}setTimeout(()=>{e.value=!1},2e3)},n=async l=>{try{await navigator.clipboard.writeText(l),t.value=!0}catch(d){console.error("Async: Could not copy text: ",d)}setTimeout(()=>{t.value=!1},2e3)};return(l,d)=>(c(),p(z,null,[d[14]||(d[14]=s("hr",{class:"h-4"},null,-1)),d[15]||(d[15]=s("p",{class:"text-gray-800 dark:text-gray-200 text-center"},"WeatherWise Plus can be purchased through our iOS and Android apps.",-1)),s("div",ac,[s("div",rc,[d[7]||(d[7]=s("div",{class:"text-center dark:text-gray-200"},"iOS App",-1)),d[8]||(d[8]=s("img",{src:oc,alt:"App Store"},null,-1)),s("a",{href:u(o),target:"_blank"},d[4]||(d[4]=[s("img",{src:Hs,alt:"App Store",class:"w-[128px] sm:w-[168px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,ic),s("div",nc,[s("div",{onClick:d[0]||(d[0]=m=>r(u(o)))},[s("input",{type:"text",class:"col-span-6 bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-black dark:text-slate-300 opacity-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2.5 py-4",value:u(o),disabled:"",readonly:""},null,8,lc)]),s("button",{onClick:d[1]||(d[1]=m=>r(u(o))),class:"absolute end-2.5 top-1/2 -translate-y-1/2 text-gray-900 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-100 rounded-lg py-2 px-2.5 inline-flex items-center justify-center bg-white dark:bg-ww-blue-200 border-gray-200 dark:border-gray-600 border"},[e.value?(c(),p("span",dc,d[6]||(d[6]=[s("svg",{class:"w-3 h-3 text-blue-700 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})],-1),s("span",{class:"text-xs font-semibold text-blue-700"},"Copied",-1)]))):(c(),p("span",cc,d[5]||(d[5]=[s("svg",{class:"w-3 h-3 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[s("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})],-1),s("span",{class:"text-xs font-semibold"},"Copy",-1)])))])])]),s("div",uc,[d[12]||(d[12]=s("div",{class:"text-center dark:text-gray-200"},"Android App",-1)),d[13]||(d[13]=s("img",{src:sc,alt:"Google Play"},null,-1)),s("a",{href:u(a),target:"_blank"},d[9]||(d[9]=[s("img",{src:zs,alt:"Google Play",class:"w-[138px] sm:w-[178px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,pc),s("div",mc,[s("div",{onClick:d[2]||(d[2]=m=>n(u(a)))},[s("input",{type:"text",class:"col-span-6 bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-black dark:text-slate-300 opacity-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-2.5 py-4",value:u(a),disabled:"",readonly:""},null,8,hc)]),s("button",{onClick:d[3]||(d[3]=m=>n(u(a))),class:"absolute end-2.5 top-1/2 -translate-y-1/2 text-gray-900 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-100 rounded-lg py-2 px-2.5 inline-flex items-center justify-center bg-white dark:bg-ww-blue-200 border-gray-200 dark:border-gray-600 border"},[t.value?(c(),p("span",fc,d[11]||(d[11]=[s("svg",{class:"w-3 h-3 text-blue-700 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 12"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5.917 5.724 10.5 15 1.5"})],-1),s("span",{class:"text-xs font-semibold text-blue-700"},"Copied",-1)]))):(c(),p("span",gc,d[10]||(d[10]=[s("svg",{class:"w-3 h-3 me-1.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20"},[s("path",{d:"M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"})],-1),s("span",{class:"text-xs font-semibold"},"Copy",-1)])))])])])])],64))}},Nc={class:"overflow-x-auto relative"},vc={class:"w-full text-sm text-left text-gray-700 dark:text-gray-300"},bc={class:"py-3 px-6"},wc={class:"flex flex-wrap gap-1"},xc={class:"py-3 px-6"},_c={__name:"KeyboardShortcuts",setup(i){var r,n;const e=we(),t=bi("keyboardShortcuts");let o={...t,"+":{description:"Zoom map in"},"-":{description:"Zoom map out"},"shift++":{description:"Increase the zoom level by 2"},"shift+-":{description:"Decrease the zoom level by 2"},"↑":{description:"Move map north"},"↓":{description:"Move map south"},"←":{description:((r=t.left)==null?void 0:r.description)||"Move map west"},"→":{description:((n=t.right)==null?void 0:n.description)||"Move map east"},"shift+click+drag":{description:"Zoom to area"}};e.hasActiveSubscription()&&(o={...o,"shift+↑":{description:"Increase the pitch by 10 degrees"},"shift+↓":{description:"Decrease the pitch by 10 degrees"},"shift+←":{description:"Decrease the rotation by 15 degrees"},"shift+→":{description:"Increase the rotation by 15 degrees"}});const a=l=>l.split(",").map(d=>d.split(/[+&]/).map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" + "));return(l,d)=>(c(),p("div",Nc,[s("table",vc,[d[0]||(d[0]=s("thead",{class:"text-xs uppercase bg-gray-100 dark:bg-ww-blue-100"},[s("tr",null,[s("th",{scope:"col",class:"py-3 px-6"},"Shortcut"),s("th",{scope:"col",class:"py-3 px-6"},"Description")])],-1)),s("tbody",null,[(c(!0),p(z,null,ee(u(o),(m,h)=>(c(),p("tr",{key:h,class:"bg-white dark:bg-ww-blue border-b border-gray-200 dark:border-gray-700"},[s("td",bc,[s("div",wc,[(c(!0),p(z,null,ee(a(h),(f,y)=>(c(),p("span",{key:y,class:"px-2 py-1 bg-gray-100 dark:bg-ww-blue-100 rounded text-xs font-mono"},_(f),1))),128))])]),s("td",xc,_(m.description),1)]))),128))])])]))}},Sc={},kc={class:"text-gray-800 dark:text-gray-200"};function Ac(i,e){return c(),p("div",kc,e[0]||(e[0]=[s("div",null,[s("iframe",{style:{width:"100%","aspect-ratio":"1.77"},src:"https://www.youtube.com/embed/eOsBIKfINRk?si=oY0-siz6yG51BkyT",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})],-1),s("p",{class:"mt-5"},"A collaboration among three Georgia institutions of higher education operate a new weather radar system that will enhance student learning, provide new opportunities for research, and help improve severe weather coverage in north Georgia. Installed recently at Georgia Gwinnett College (GGC), an X-band weather radar purchased two years ago by the Georgia Institute of Technology and the University of Georgia (UGA) is now providing data for a section of north Georgia where information on severe storms such as tornados can be limited by terrain. The radar will also be used for research into weather and severe storms and by students at the three institutions for learning about everything from physics and engineering to weather, rainfall, and the effects of changing climate on the migration patterns of birds and insects. The instrument will be one of just a handful of weather radars operated by universities in the United States.",-1),s("p",{class:"mt-5"},[L("More details can be found here: "),s("a",{href:"https://gtri.gatech.edu/newsroom/weather-radar-supports-research-and-education-helps-fill-coverage-gaps",class:"font-medium text-blue-600 dark:text-blue-400 hover:underline",target:"_blank"},"https://gtri.gatech.edu/newsroom/weather-radar-supports-research-and-education-helps-fill-coverage-gaps")],-1)]))}const Cc=G(Sc,[["render",Ac]]),Tc={class:"flex flex-col items-center mb-8"},Bc=["src","alt"],Dc={class:"text-center"},Ic={class:"text-2xl font-semibold text-gray-900"},Ec=ae({__name:"RecipientProfile",props:{name:{},avatar:{}},setup(i){return(e,t)=>(c(),p("div",Tc,[s("img",{src:e.avatar,alt:e.name,class:"w-32 h-32 rounded-full object-cover ring-4 ring-green-200 shadow-md mb-4"},null,8,Bc),s("div",Dc,[t[0]||(t[0]=s("p",{class:"text-sm text-gray-500 mb-1"},"Share location with",-1)),s("p",Ic,[L(_(e.name),1),b(u(T),{icon:"material-symbols:verified-rounded",class:"ml-2 w-6 h-6 text-blue-600 inline relative top-[-2px]"})])])]))}}),Lc={class:"bg-blue-50 rounded-lg p-4"},Rc={class:"flex items-center text-gray-700"},Fc={class:"text-blue-900"},Mc=ae({__name:"LocationInfo",props:{recipientName:{}},setup(i){return(e,t)=>(c(),p("div",Lc,[s("div",Rc,[b(u(T),{icon:"mdi:map-marker",class:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0"}),s("span",Fc," Your approximate location will be shared with "+_(e.recipientName)+" for 30 minutes. ",1)])]))}}),Pc={key:0,class:"flex flex-col items-center justify-center p-6"},Hc={class:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4"},zc={class:"text-lg font-medium text-gray-900"},Oc=ae({__name:"SuccessAnimation",props:{show:{type:Boolean},recipientName:{}},setup(i){return(e,t)=>(c(),q(at,{"enter-active-class":"transition-all duration-300","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:ie(()=>[e.show?(c(),p("div",Pc,[s("div",Hc,[b(u(T),{icon:"mdi:check",class:"w-8 h-8 text-green-500"})]),s("p",zc,"Location Shared with "+_(e.recipientName)+"!",1)])):x("",!0)]),_:1}))}}),Kc={class:"py-6"},Uc={key:0,class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 rounded-b-lg"},$c=["disabled"],Xc=ae({__name:"ShareLocationWith",props:{recipient:{}},emits:["close","share"],setup(i,{emit:e}){const t=e,o=H(!1),a=H(!1),r=async()=>{o.value=!0,setTimeout(()=>{a.value=!0},1500)};return(n,l)=>(c(),p(z,null,[s("div",Kc,[a.value?x("",!0):(c(),p(z,{key:0},[b(Ec,{name:n.recipient.name,avatar:n.recipient.avatar},null,8,["name","avatar"]),b(Mc,{"recipient-name":n.recipient.shortName},null,8,["recipient-name"])],64)),b(Oc,{show:a.value,"recipient-name":n.recipient.shortName},null,8,["show","recipient-name"])]),a.value?x("",!0):(c(),p("div",Uc,[s("button",{onClick:l[0]||(l[0]=()=>t("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors"}," Cancel "),s("button",{onClick:r,disabled:o.value,class:"px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},_(o.value?"Sharing...":"Share Location"),9,$c)]))],64))}}),Ke={__name:"Plus",props:{show:null,textSizeClass:{type:String,default:"text-xs"}},setup(i){return(e,t)=>!u(we)().hasActiveSubscription()||i.show===!0?(c(),p("span",{key:0,class:O(["bg-gradient-to-r from-[#F6B91A] to-[#FF5722] rounded px-1 font-bold text-white border border-[#FF5722]",[i.textSizeClass]])},"Plus",2)):x("",!0)}},Wc={class:"relative"},Vc={class:"absolute top-0 right-0 z-50"},Gc={class:"rounded-lg p-8 mb-8 border shadow-xl transition-colors duration-300 bg-gradient-to-b from-white to-gray-50 dark:from-[#17274F] dark:via-[#1a2f5e] dark:to-[#17274F] text-gray-900 dark:text-white border-gray-200 dark:border-white/10"},jc={class:"flex flex-col md:flex-row items-center gap-8"},Zc={class:""},Yc=["src"],Jc={class:"flex-1 text-center md:text-left"},Qc={class:"flex items-center gap-2 justify-center md:justify-start"},qc={class:"text-xl mb-6 text-gray-700 font-medium dark:text-white/90"},ed={key:0},td={key:1,class:"text-lg sm:text-xl"},od={class:"flex flex-col gap-2"},sd={class:"flex items-start gap-2 flex-col"},ad={class:"relative inline-flex items-center cursor-pointer mx-auto sm:mx-0"},rd=["disabled"],id={class:"flex items-start gap-2 flex-col mt-4"},nd={class:"text-gray-700 font-bold dark:text-white/90 text-center sm:text-left block w-full"},ld={class:"relative inline-flex items-center cursor-pointer mx-auto sm:mx-0"},cd=["disabled"],dd={key:0,class:"mt-8"},ud={class:"max-w-[70vh]"},pd=ae({__name:"YallMode",emits:["close","share"],setup(i,{emit:e}){const t=we(),o=Yt(),a=Ir(),r=H(0),n=H("-1"),l=e,d=new URL("/assets/yallmode-CvZwI0j0.svg",import.meta.url).href,m=Be(()=>{a.isYallModeOn?(o.show(),r.value++):(o.hide(),r.value++)},250),h=Be(()=>{a.isYallWatching===0?o.hideYallWatches():o.showYallWatches()},250),f=()=>{n.value="0";const y=document.getElementById("modal-content");y&&setTimeout(()=>{y.scrollTo({top:window.innerHeight,behavior:"smooth"})},500)};return(y,N)=>V((c(),p("div",Wc,[s("div",Vc,[s("button",{onClick:N[0]||(N[0]=w=>l("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-gray-900 dark:text-white"})])]),s("main",null,[s("div",Gc,[s("div",jc,[s("div",Zc,[s("img",{src:u(d),class:"w-full h-full object-cover",alt:"Y'all Mode"},null,8,Yc)]),s("div",Jc,[s("div",Qc,[N[7]||(N[7]=s("h2",{class:"text-3xl font-bold mb-2 bg-gradient-to-r from-[#d70215] from-20% to-[#1d00f2] to-70% text-transparent bg-clip-text dark:from-[#ff1f35] dark:to-[#4d37ff]"}," Y'all Mode ",-1)),b(Ke)]),s("p",qc,[u(t).hasActiveSubscription()?(c(),p("span",td," Flick the switch to enable Y'all Mode! ")):(c(),p("span",ed," Subscribe to unlock Y'all Mode! "))]),s("div",od,[s("div",sd,[N[9]||(N[9]=s("span",{class:"text-gray-700 font-bold dark:text-white/90 text-center sm:text-left block w-full"},"Toggle Y'all Mode",-1)),s("label",ad,[V(s("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":N[1]||(N[1]=w=>u(a).isYallModeOn=w),"true-value":1,"false-value":0,disabled:!u(t).isAtleast(u(t).tiers.PLUS),onChange:N[2]||(N[2]=(...w)=>u(m)&&u(m)(...w))},null,40,rd),[[La,u(a).isYallModeOn,void 0,{number:!0}]]),N[8]||(N[8]=s("div",{class:"w-28 h-10 rounded-full bg-gray-200 dark:bg-gray-700/50 peer-checked:after:translate-x-[63px] after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-9 after:w-10 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-[#ff1f35] peer-checked:to-[#4d37ff]"},null,-1))])]),s("div",id,[s("span",nd,[N[10]||(N[10]=L(" Toggle Y'all Watches ")),b(u(T),{icon:"carbon:help",class:"inline size-4",onClick:f})]),s("label",ld,[V((c(),p("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":N[3]||(N[3]=w=>u(a).isYallWatching=w),"true-value":1,"false-value":0,disabled:!u(t).isAtleast(u(t).tiers.PLUS),key:r.value,onChange:N[4]||(N[4]=(...w)=>u(h)&&u(h)(...w))},null,40,cd)),[[La,u(a).isYallWatching,void 0,{number:!0}]]),N[11]||(N[11]=s("div",{class:"w-28 h-10 rounded-full bg-gray-200 dark:bg-gray-700/50 peer-checked:after:translate-x-[63px] after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:rounded-full after:h-9 after:w-10 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-[#ff1f35] peer-checked:to-[#4d37ff]"},null,-1))])])]),N[12]||(N[12]=ye('<div class="mt-8" data-v-352dab0c><h3 class="text-xl font-semibold mb-4 text-[#d70215]" data-v-352dab0c>Get Ryan Hall&#39;s Custom Look:</h3><ul class="space-y-3" data-v-352dab0c><li class="flex items-center gap-3" data-v-352dab0c><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#d70215] from-10% to-[#1d00f2] to-70% flex items-center justify-center border-white border-[1px]" data-v-352dab0c><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-352dab0c><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-352dab0c></path></svg></div><span class="text-gray-700 font-medium dark:text-white/90" data-v-352dab0c>Map Style</span></li><li class="flex items-center gap-3" data-v-352dab0c><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#d70215] from-10% to-[#1d00f2] to-70% flex items-center justify-center border-white border-[1px]" data-v-352dab0c><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-352dab0c><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-352dab0c></path></svg></div><span class="text-gray-700 font-medium dark:text-white/90" data-v-352dab0c>Radar Colortables</span></li><li class="flex items-center gap-3" data-v-352dab0c><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#d70215] from-10% to-[#1d00f2] to-70% flex items-center justify-center border-white border-[1px]" data-v-352dab0c><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-352dab0c><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-352dab0c></path></svg></div><span class="text-gray-700 font-medium dark:text-white/90" data-v-352dab0c>Weather Alert Colors</span></li><li class="flex items-center gap-3" data-v-352dab0c><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#d70215] from-10% to-[#1d00f2] to-70% flex items-center justify-center border-white border-[1px]" data-v-352dab0c><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-352dab0c><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-352dab0c></path></svg></div><span class="text-gray-700 font-medium dark:text-white/90" data-v-352dab0c>Y&#39;all Watches</span></li></ul></div>',1))])]),u(t).hasActiveSubscription()?x("",!0):(c(),p("div",dd,[s("button",{onClick:N[5]||(N[5]=w=>u(he).upgradePrompt("YALL_MODE")),class:"w-full py-3 px-6 rounded-lg font-semibold text-white bg-gradient-to-r from-[#d70215] to-[#1d00f2] hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800"}," Subscribe & Unlock Y'all Mode ")])),s("div",ud,[N[15]||(N[15]=s("hr",{class:"my-8"},null,-1)),s("div",null,[b(u(Si),{value:n.value},{default:ie(()=>[b(u(wi),{value:"0"},{default:ie(()=>[b(u(xi),{onClick:N[6]||(N[6]=()=>n.value=n.value==="0"?"-1":"0"),pt:{root:{class:["dark:hover:!text-black","dark:!text-black"]}}},{default:ie(()=>N[13]||(N[13]=[L("What is a Y’all Watch?")])),_:1}),b(u(_i),null,{default:ie(()=>N[14]||(N[14]=[s("p",{class:"text-gray-700 font-medium text-sm pt-3"},"A Y’all Watch is an unofficial severe weather polygon issued by trusted meteorologists working with Ryan Hall, including well-known expert Andy Hill. These alerts are designed to highlight areas that are likely to experience severe weather soon, or where the National Weather Service may already be considering an official warning.",-1),s("p",{class:"text-gray-700 font-medium text-sm mt-3"},"The term originated from Ryan’s popular phrase, “Y’all watch out,” which he used when Andy spotted concerning radar features before official warnings went out. We’ve since made it more structured by drawing polygons on the map to give you a clearer early heads-up.",-1),s("p",{class:"text-gray-700 font-medium text-sm mt-3"},"Y’all Watches are available to Plus users inside the WeatherWise app.",-1),s("p",{class:"text-gray-700 font-medium text-sm mt-3"},"For now, they’re only issued during Ryan Hall’s live streams and when Andy is available.",-1),s("p",{class:"text-gray-700 font-medium text-sm mt-3"},"In the future, we’re working to expand this into a 24/7 supplemental alerting system, led by professional meteorologists and giving more of them a chance to contribute.",-1)])),_:1})]),_:1})]),_:1},8,["value"])]),N[16]||(N[16]=s("p",{class:"text-gray-700 font-medium dark:text-white/90 text-sm mt-3"},"⚠️ Important Note: Y’all Watches are not official warnings. The National Weather Service is the only authority for issuing tornado and severe thunderstorm warnings. These alerts are meant to supplement—not replace—NWS guidance.",-1))])])])])),[[u(De),[()=>l("close")]]])}}),md=G(pd,[["__scopeId","data-v-352dab0c"]]);class hd{assetsBaseUrl(){return"https://weatherwise-marketing1.b-cdn.net"}}const uo=new hd,gd={class:"relative md:max-w-[60%] md:mx-auto md:pb-24"},fd={class:"absolute top-0 right-0 z-50"},yd={class:"rounded-lg p-8 mb-8 border shadow-xl transition-colors duration-300 bg-gradient-to-b from-white to-gray-50 dark:from-[#17274F] dark:via-[#1a2f5e] dark:to-[#17274F] text-gray-900 dark:text-white border-gray-200 dark:border-white/10"},Nd={class:"flex flex-col items-center gap-8"},vd={class:"flex-1 text-center"},bd={class:"text-xl mt-2 mb-6 text-gray-700 font-medium dark:text-white/90"},wd={key:0,class:"relative"},xd=["src"],_d={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},Sd=ae({__name:"UpgradePrompt",props:{featureKey:{}},emits:["close","upgrade"],setup(i,{emit:e}){const t=i;we();const o=e,a=H(null),r=H(null),n=H(!1),l=()=>{o("upgrade")},d=()=>{n.value=!0},m=uo.assetsBaseUrl(),h=C.isNativeApp()?"mobile":"desktop";switch(t.featureKey){case"RADAR_3D":a.value="3D Radar",r.value=`${m}/plus/${h}/3d-radar.mp4`;break;case"RADAR_SMOOTHING":a.value="Radar Smoothing",r.value=`${m}/plus/${h}/radar-smoothing.mp4`;break;case"RADAR_MAX_SCANS":a.value="up to 100 Radar Scans",r.value=`${m}/plus/${h}/radar-100-frames.mp4`;break;case"RADAR_ENHANCED_LIGHTNING":a.value="the Plus level Ligtning",r.value=`${m}/plus/${h}/radar-lightning-plus.mp4`;break;case"GLOBE_PROJECTION":a.value="Globe Projection",r.value=`${m}/plus/${h}/globe-projection.mp4`;break;case"SPLIT_VIEW":a.value="Split View",r.value=`${m}/plus/${h}/split-view.mp4`;break;case"SEARCH":a.value="Enhanced Search",r.value=`${m}/plus/${h}/enhanced-search.mp4`;break;case"YALL_MODE":a.value="Y'all Mode",r.value=`${m}/plus/${h}/yall-mode.mp4`;break}const f=H(null);return Bt(()=>{f.value&&(f.value.pause(),f.value.src="")}),(y,N)=>V((c(),p("div",gd,[s("div",fd,[s("button",{onClick:N[0]||(N[0]=w=>o("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-gray-900 dark:text-white"})])]),s("main",null,[s("div",yd,[s("div",Nd,[s("div",vd,[N[3]||(N[3]=s("div",{class:"flex items-center gap-2 justify-center"},[s("h2",{class:"text-2xl font-bold mb-2 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-transparent bg-clip-text"}," Upgrade Your Experience ")],-1)),s("p",bd,[L(_(a.value?`Unlock ${a.value} and more with `:"Unlock premium features with "),1),N[1]||(N[1]=s("strong",null,"WeatherWise",-1)),N[2]||(N[2]=s("span",{class:"ml-1 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] rounded px-1 font-bold text-white border border-[#FF5722]"},"Plus",-1))]),s("button",{onClick:l,class:"px-8 py-3 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-white font-bold text-lg hover:shadow-lg transition-all duration-300 hover:scale-105"}," Upgrade Now "),r.value?(c(),p("div",wd,[s("video",{ref_key:"videoRef",ref:f,src:r.value,onLoadeddata:d,class:O(["video mt-4",{invisible:!n.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,xd),n.value?x("",!0):(c(),p("div",_d,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0),N[4]||(N[4]=ye('<div class="mt-4"><h3 class="text-xl font-bold mb-4 text-[#FF5722] dark:text-[#F6B91A]">All Premium Benefits:</h3><ul class="space-y-3"><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Globe Projection: 3D Map</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Split View Radar Visuals</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Radar Smoothing</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Playback with up to 100 Radar Scans</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">RenderStream Technology</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Enhanced Lightning Data</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Enhanced Search</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Y&#39;all Mode</span></li></ul></div>',1))])])])])])),[[u(De),[()=>o("close")]]])}});class kd{constructor(){this.baseUrl="https://api.weatherwise.app",this.instance=Mr({urls:[this.baseUrl],axiosConfig:{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}})}getInstance(){return this.instance}getBaseUrl(){return this.baseUrl}async register(e){var t;try{return{data:await this.instance.post("/api/register",e),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred during registration"}}}}async login(e){var t;try{return{data:await this.instance.post("/api/login",e),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred during login"}}}}async logout(e){var t;try{return{data:await this.instance.post("/api/logout",{},{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred during logout"}}}}async getUser(e){var t;try{return{data:await this.instance.get("/api/user",{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred during user retrieval"}}}}async forgotPassword(e){var t;try{return{data:await this.instance.post("/api/forgot-password",e),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred while processing your request"}}}}async resetPassword(e){var t,o;try{return{data:await this.instance.post("/api/reset-password",e),error:null}}catch(a){return((t=a.response)==null?void 0:t.status)===400?{data:null,error:{message:a.response.data.message||"Invalid or expired password reset token. Please try resetting your password again.",errors:a.response.data.errors||{token:["The password reset token is invalid or has expired. Please try resetting your password again."]}}}:{data:null,error:((o=a.response)==null?void 0:o.data)||{message:"An error occurred while resetting your password"}}}}async changePassword(e,t){var o;try{return{data:await this.instance.put("/api/reset-password",t,{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(a){return{data:null,error:((o=a.response)==null?void 0:o.data)||{message:"An error occurred while changing your password"}}}}async userLocationsGeoJson(e){var t;try{return{data:await this.instance.get("/api/locations.geojson",{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(o){return{data:null,error:((t=o.response)==null?void 0:t.data)||{message:"An error occurred while fetching user locations"}}}}async postUserLocation(e,t){var o;try{return{data:await this.instance.post("/api/locations",t,{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(a){return{data:null,error:((o=a.response)==null?void 0:o.data)||{message:"An error occurred while setting your location"}}}}async deleteUserLocation(e,t){var o;try{return{data:await this.instance.post(`/api/locations/${t}/delete`,{},{headers:{Authorization:`Bearer ${e}`}}),error:null}}catch(a){return{data:null,error:((o=a.response)==null?void 0:o.data)||{message:"An error occurred while deleting your location"}}}}}const _t=new kd,Ad={token:"",attributes:{id:"",name:"",email:""}},xo=ve("user/account",{state:()=>({...JSON.parse(JSON.stringify(Ad))}),getters:{isAuthenticated:i=>i.token!==""},persist:!0}),fs=ve("cta",{state:()=>({completedSubscriptionAccountSetupAt:null,completedSubscriptionWinBackAt:null}),getters:{hasCompletedSubscriptionAccountSetup:i=>i.completedSubscriptionAccountSetupAt!==null,hasCompletedSubscriptionWinBack:i=>i.completedSubscriptionWinBackAt!==null},actions:{markCompletedSubscriptionAccountSetup(){this.completedSubscriptionAccountSetupAt=Date.now()},markCompletedSubscriptionWinBack(){this.completedSubscriptionWinBackAt=Date.now()}},persist:!0});class $r{constructor(){}async install(e){throw new Error("install() must be implemented by platform-specific class")}async logIn(e){throw new Error("logIn() must be implemented by platform-specific class")}async logOut(){throw new Error("logOut() must be implemented by platform-specific class")}handleCustomerInfoUpdate(e){this.setCustomerInfo(e)}setCustomerInfo(e){lo().setRevenueCatCustomerInfo(e)}evaluateSubscriptionState(){const e=we(),t=fs();if(!e.hasActiveSubscription()){const o=lo(),{allExpirationDatesByProduct:a,allExpirationDates:r}=o.revenueCatCustomerInfo??{},l=Object.values(a??r??{}).map(d=>new Date(d).getTime()).filter(d=>!Number.isNaN(d));if(l.length>0){const d=Math.max(...l),m=t.completedSubscriptionWinBackAt;Date.now()>d&&(!m||m<d)&&he.winBack()}}}reconcileSubscriptionState(){const e=we();e.hasActiveSubscription()?e.enablePlusFeatures():e.disablePlusFeatures(),this.evaluateSubscriptionState()}init(){throw new Error("init() must be implemented by platform-specific class")}resetSubscriptionState(){lo().$reset(),we().disablePlusFeatures()}}class Cd extends $r{constructor(){super(),this.purchases=null}async install(e){}async logIn(e){if(this.purchases){console.warn("RevenueCat already configured");return}this.purchases=Ra.configure("rcb_jNYFvKvnVheUJLGNKEWvqVexqfDF",e);const t=await this.purchases.getCustomerInfo();this.handleCustomerInfoUpdate(t),this.reconcileSubscriptionState()}async logOut(){this.purchases&&Ra.getSharedInstance().close(),this.resetSubscriptionState(),this.purchases=null}init(){const e=It(),t=we(),o=()=>{e.isAuthenticated()||t.disablePlusFeatures()};if(e.isInitialized.value===!0){o();return}const a=tt(e.isInitialized,r=>{r&&(o(),a())})}}const Td={watchPositionHandler:null,requestPermission:()=>new Promise((i,e)=>{const t=o=>{var a,r;console.log("Received message:",o.data||((a=o.nativeEvent)==null?void 0:a.data));try{const n=JSON.parse(o.data||((r=o.nativeEvent)==null?void 0:r.data));n.type==="LOCATION_PERMISSION_RESULT"?(console.log("Location permission status:",n.status),window.removeEventListener("message",t,!0),i(n.status)):n.type==="ERROR"&&(console.error("Error requesting location permission:",n.message),window.removeEventListener("message",t,!0),e(new Error(n.message)))}catch(n){console.error("Error parsing message:",n)}};window.addEventListener("message",t,!0),console.log("Event listener attached"),console.log("Requesting location permission..."),window.ReactNativeWebView.postMessage(JSON.stringify({type:"REQUEST_LOCATION_PERMISSION"}))}),getCurrentPosition:()=>new Promise((i,e)=>{const t=o=>{var a;try{const r=JSON.parse(o.data||((a=o.nativeEvent)==null?void 0:a.data));console.log("Received message for current position"),r.type==="LOCATION_RESULT"?(window.removeEventListener("message",t,!0),console.log("Current location received"),i(r.location)):r.type==="ERROR"&&(window.removeEventListener("message",t,!0),console.error("Error getting current position:",r.message),e(new Error(r.message)))}catch(r){console.error("Error parsing message:",r)}};window.addEventListener("message",t,!0),console.log("Requesting current position..."),window.ReactNativeWebView.postMessage(JSON.stringify({type:"GET_LOCATION"}))}),watchPosition(i){if(this.watchPositionHandler){console.warn("Watch position handler already set. Run 'clearWatch' to reset");return}this.watchPositionHandler=e=>{var t;try{const o=JSON.parse(e.data||((t=e.nativeEvent)==null?void 0:t.data));console.log("Received message for current position"),o.type==="LOCATION_POSITION_UPDATE"&&(console.log("Current location received"),i(o.location))}catch(o){console.error("Error parsing message:",o)}},window.addEventListener("message",this.watchPositionHandler,!0),window.ReactNativeWebView.postMessage(JSON.stringify({type:"WATCH_POSITION_START"}))},clearWatch(){this.watchPositionHandler&&(window.ReactNativeWebView.postMessage(JSON.stringify({type:"WATCH_POSITION_STOP"})),window.removeEventListener("message",this.watchPositionHandler,!0),this.watchPositionHandler=null)}},Bd={blob:async(i,e)=>{let t;return t=await new Promise(o=>{const a=new FileReader;a.onloadend=()=>o(a.result.split(",")[1]),a.readAsDataURL(i)}),new Promise(o=>{window.ReactNativeWebView.postMessage(JSON.stringify({type:"SHARE_BLOB",mimeType:e,data:t})),o(t)})}},Dd={alert(i,e){window.ReactNativeWebView.postMessage(JSON.stringify({type:"NATIVE_ALERT",message:e,title:i}))}},Id={show:()=>{window.ReactNativeWebView.postMessage(JSON.stringify({type:"OPEN_PAYWALL"}))},close:()=>{console.warn("This method is not implemented. RevenueCat does not support closing the paywall.")}},Ed={async request(i){return window.ReactNativeWebView.postMessage(JSON.stringify({type:"ACTIVATE_KEEP_AWAKE"})),{release:async()=>{window.ReactNativeWebView.postMessage(JSON.stringify({type:"DEACTIVATE_KEEP_AWAKE"}))}}}},Ld={getInfo(){return new Promise((i,e)=>{const t=o=>{var a;try{const r=JSON.parse(o.data||((a=o.nativeEvent)==null?void 0:a.data));r.type==="CUSTOMER_INFO"&&(i(r.customerInfo),window.removeEventListener("message",t,!0))}catch(r){window.removeEventListener("message",t,!0),e(r)}};window.addEventListener("message",t,!0),window.ReactNativeWebView.postMessage(JSON.stringify({type:"GET_CUSTOMER_INFO"}))})},setCustomerUUID(i){return new Promise((e,t)=>{const o=a=>{var r;try{const n=JSON.parse(a.data||((r=a.nativeEvent)==null?void 0:r.data));n.type==="SET_CUSTOMER_UUID_RESPONSE"&&(e(n.success),window.removeEventListener("message",o,!0))}catch(n){window.removeEventListener("message",o,!0),t(n)}};window.addEventListener("message",o,!0),window.ReactNativeWebView.postMessage(JSON.stringify({type:"SET_CUSTOMER_UUID",uuid:i}))})},clearCustomerUUID(){return new Promise((i,e)=>{const t=o=>{var a;try{const r=JSON.parse(o.data||((a=o.nativeEvent)==null?void 0:a.data));r.type==="CLEAR_CUSTOMER_UUID_RESPONSE"&&(i(r.success),window.removeEventListener("message",t,!0))}catch(r){window.removeEventListener("message",t,!0),e(r)}};window.addEventListener("message",t,!0),window.ReactNativeWebView.postMessage(JSON.stringify({type:"CLEAR_CUSTOMER_UUID"}))})}},ct={location:Td,download:Bd,alert:Dd,paywall:Id,wakeLock:Ed,customer:Ld};let Ga=!1;const No=()=>({open:()=>{Ga=!0,ct.paywall.show()},logCustomer:()=>{const o=lo(),a=JSON.stringify(o.revenueCatCustomerInfo,null,2);console.log(a),window._alert(a)},hasOpenedPaywall:()=>Ga});class Rd extends $r{constructor(){super(),this.messageHandler=this.handleMessage.bind(this)}async install(e){if(!(!C.isNativeApp()||!C.isNativeVersionAtleast(ke))){try{const t=await ct.customer.getInfo();this.handleCustomerInfoUpdate(t)}catch(t){console.error("Failed to fetch/set revenue cat customer info",t)}window.addEventListener("message",this.messageHandler,!0),console.log("RevenueCat Native installed")}}async logIn(e){try{await ct.customer.setCustomerUUID(e),console.log("Native RevenueCat login successful",e),this.reconcileSubscriptionState()}catch(t){throw console.error("Failed to set RevenueCat customer UUID",t),t}}async logOut(){try{await ct.customer.clearCustomerUUID(),this.resetSubscriptionState(),console.log("Native RevenueCat logout successful")}catch(e){throw console.error("Failed to clear RevenueCat customer UUID",e),e}}handleMessage(e){var t;try{if(typeof e.data=="string"){const o=JSON.parse(e.data||((t=e.nativeEvent)==null?void 0:t.data));o.type==="UPDATE_RC_CUSTOMER_INFO"&&(console.log("UPDATE_RC_CUSTOMER_INFO",o.rcCustomerInfo),this.handleCustomerInfoUpdate(o.rcCustomerInfo),this.tryCallToAction())}}catch(o){console.error("Error listening for message",o)}}tryCallToAction(){const e=we(),t=fs();e.hasActiveSubscription()===!0&&It().isAuthenticated()===!1&&No().hasOpenedPaywall()===!0&&!t.hasCompletedSubscriptionAccountSetup&&he.createAccount()}cleanup(){window.removeEventListener("message",this.messageHandler,!0)}init(){this.reconcileSubscriptionState()}}let ks=null;function Xr(){return ks||(ks=C.isNativeApp()?new Rd:new Cd),ks}async function Fd(i){await Xr().install(i)}function Ys(){return Xr()}class Md extends Kr{constructor(){super(),clearInterval(this.serverCheckInterval),this.isAuthenticated=!1}init(){return this.manager=Or(this.currentServer),this.socket=this.manager.socket("/users"),this.bindEvents(),this}async connectAs(e){console.log("connecting to user socket"),this.socket.auth={token:`${e}`},this.socket.on("connect",()=>{console.log("User Socket connected"),this.isAuthenticated=!0}),this.socket.on("disconnect",()=>{console.log("User Socket disconnected"),this.isAuthenticated=!1});const t=20;let o=0;for(;o<t&&!te.socket.connected;)await Zt(100),o++;this.socket.connect()}disconnect(){console.log("Disconnected user socket"),this.socket.disconnect()}updateLocation(e){this.isAuthenticated&&this.socket.emit("user:location",e)}joinLocationRoom(){this.roomJoin("user:location")}}const zt=new Md,Pd="/assets/aerialway-CT4AdDmr.svg",Hd="/assets/airfield-BU3hYMwP.svg",zd="/assets/airport-BWs84W4c.svg",Od="/assets/alcohol-shop-C0e7jYXA.svg",Kd="/assets/american-football-fGjoCpfD.svg",Ud="/assets/amusement-park-vpFAv2T_.svg",$d="/assets/animal-shelter-Ca6qW_f2.svg",Xd="/assets/aquarium-GYct5e5n.svg",Wd="/assets/arrow-x-J7EDb2.svg",Vd="/assets/art-gallery-BNtFddA1.svg",Gd="/assets/attraction-BmZxKRGG.svg",jd="/assets/bakery-wuAFGP3p.svg",Zd="/assets/bank-JP-DLbbXFpi.svg",Yd="/assets/bank-DO-QoftC.svg",Jd="/assets/bar-BRCvXNVc.svg",Qd="/assets/barrier-CSnJe7aM.svg",qd="/assets/baseball-Dz9_NtgE.svg",eu="/assets/basketball-BD4F3OMN.svg",tu="/assets/bbq-DdQ_X9jY.svg",ou="/assets/beach-DixKvt3R.svg",su="/assets/beer-fhPoXFEf.svg",au="/assets/bicycle-share-BQSOkK2R.svg",ru="/assets/bicycle-BqTj0d3k.svg",iu="/assets/blood-bank-C4HJq2R_.svg",nu="/assets/bowling-alley-B-6IxxTk.svg",lu="/assets/bridge-BVzWYLfe.svg",cu="/assets/building-alt1-C2I5YTH4.svg",du="/assets/building-BjMVEQJD.svg",uu="/assets/bus-ClR3gZwb.svg",pu="/assets/cafe-CCVjVNIm.svg",mu="/assets/campsite-DcLJ3K9r.svg",hu="/assets/car-rental-D52TegdW.svg",gu="/assets/car-repair-BlBjxmiM.svg",fu="/assets/car-k3wXsu4c.svg",yu="/assets/casino-CgfRyDx8.svg",Nu="/assets/castle-JP-BN-efejH.svg",vu="/assets/castle-BeRB6dMc.svg",bu="/assets/caution-AVBDGMhP.svg",wu="/assets/cemetery-JP-CSeY1wzg.svg",xu="/assets/cemetery-BI7zO3gM.svg",_u="/assets/charging-station-4TdsSQva.svg",Su="/assets/cinema-QEHaF7jy.svg",ku="/assets/circle-stroked-DR42ofqT.svg",Au="/assets/circle-CwzfoRLA.svg",Cu="/assets/city-DEbfhufg.svg",Tu="/assets/clothing-store-BTTaeKBc.svg",Bu="/assets/college-JP-7X4kHqX3.svg",Du="/assets/college-kKWZxuyZ.svg",Iu="/assets/commercial-Bcd42J4A.svg",Eu="/assets/communications-tower-XtGwmaFv.svg",Lu="/assets/confectionery-CVJ3CkSn.svg",Ru="/assets/construction-frWUsbOg.svg",Fu="/assets/convenience-F_bsv77f.svg",Mu="/assets/cricket-CUz7NZTz.svg",Pu="/assets/cross-Bbxz4lvX.svg",Hu="/assets/dam-CfEDbE_t.svg",zu="/assets/danger-KH3IijWv.svg",Ou="/assets/defibrillator-DkA5VT2Y.svg",Ku="/assets/dentist-UF55j-lu.svg",Uu="/assets/diamond-DTQiAWWV.svg",$u="/assets/doctor-C3ju8Mnf.svg",Xu="/assets/dog-park-CE0V47g_.svg",Wu="/assets/drinking-water-Cejb1ViM.svg",Vu="/assets/elevator-Pe4vr2X3.svg",Gu="/assets/embassy-PpWCKL0f.svg",ju="/assets/emergency-phone-Cf3G4Aqn.svg",Zu="/assets/entrance-alt1-CL7VFOln.svg",Yu="/assets/entrance-13cCkYt0.svg",Ju="/assets/farm-D5z9Un0k.svg",Qu="/assets/fast-food-BtkUYR72.svg",qu="/assets/fence-DQWeF6zQ.svg",ep="/assets/ferry-JP-CsF65HeZ.svg",tp="/assets/ferry-DKVulA0u.svg",op="/assets/fire-station-JP-B7Wgy3TU.svg",sp="/assets/fire-station-DXTxmWT9.svg",ap="/assets/fitness-centre-DuszwwXN.svg",rp="/assets/florist-D46uaiv4.svg",ip="/assets/fuel-sFR5KYVt.svg",np="/assets/furniture-BtlgLI2U.svg",lp="/assets/gaming-C6VsnEc1.svg",cp="/assets/garden-centre-CKNHc3Vq.svg",dp="/assets/garden-DBhQwH6V.svg",up="/assets/gate-CxbuJrgW.svg",pp="/assets/gift-pEd8Uzyd.svg",mp="/assets/globe-Dg6jG9jE.svg",hp="/assets/golf-D9tSCl_X.svg",gp="/assets/grocery-CBKQ3Bn-.svg",fp="/assets/hairdresser-CYVxexYx.svg",yp="/assets/harbor-Ia_pAnDz.svg",Np="/assets/hardware-y96Ro-Kz.svg",vp="/assets/heart-DA4xWeoG.svg",bp="/assets/heliport--qBnh4p6.svg",wp="/assets/highway-rest-area-mP1d5Ame.svg",xp="/assets/historic-B18kpBN6.svg",_p="/assets/home-BibmlZlU.svg",Sp="/assets/horse-riding-BNjZBQlg.svg",kp="/assets/hospital-JP-BZkVbd19.svg",Ap="/assets/hospital-CqlkD5BR.svg",Cp="/assets/hot-spring-2HaZ6d_5.svg",Tp="/assets/ice-cream-MXEgi0rI.svg",Bp="/assets/industry-DigK7kuR.svg",Dp="/assets/information-BAWlt-ov.svg",Ip="/assets/jewelry-store-Cjk8U4Ti.svg",Ep="/assets/karaoke-CfiM4Mvr.svg",Lp="/assets/landmark-JP-CZsGevqA.svg",Rp="/assets/landmark-Bk5OPiAE.svg",Fp="/assets/landuse-CiB_5E27.svg",Mp="/assets/laundry-BbUDFt8v.svg",Pp="/assets/library-7M_YYUpZ.svg",Hp="/assets/lift-gate-DpeBIw9V.svg",zp="/assets/lighthouse-JP-CxsY02VD.svg",Op="/assets/lighthouse-CXrbpyHW.svg",Kp="/assets/lodging-B1fLRkFu.svg",Up="/assets/logging-BLj6vnqb.svg",$p="/assets/marae-BxJF64AF.svg",Xp="/assets/marker-stroked-ClczxiDe.svg",Wp="/assets/marker-D-tjWkQL.svg",Vp="/assets/mobile-phone-BTJmzUQ5.svg",Gp="/assets/monument-JP-DGsL5xoM.svg",jp="/assets/monument-GSEqU-V9.svg",Zp="/assets/mountain-Lc-EJ-eM.svg",Yp="/assets/museum-CbHGCp7g.svg",Jp="/assets/music-DHcjs8_l.svg",Qp="/assets/natural-YLB_Lr9k.svg",qp="/assets/nightclub-DyJIIC6z.svg",em="/assets/observation-tower-_i_HUf9o.svg",tm="/assets/optician-BOcT2bcG.svg",om="/assets/paint-of-GXIjo.svg",sm="/assets/park-alt1-D_MYb-tz.svg",am="/assets/park-CTdvZ9HB.svg",rm="/assets/parking-garage-DvfSRLdm.svg",im="/assets/parking-paid-BO7qjfC7.svg",nm="/assets/parking-CKpc621T.svg",lm="/assets/pharmacy-CYVmhLT5.svg",cm="/assets/picnic-site-BbbNQ0m5.svg",dm="/assets/pitch-CEV_iuSD.svg",um="/assets/place-of-worship-BOQu7ouQ.svg",pm="/assets/playground-I3MZIQk4.svg",mm="/assets/police-JP-BWH-9A3w.svg",hm="/assets/police-bZcY4ASh.svg",gm="/assets/post-JP-clJaw9xq.svg",fm="/assets/post-D6OoYmBA.svg",ym="/assets/prison-wJIIQNcb.svg",Nm="/assets/racetrack-boat-q46YFLbV.svg",vm="/assets/racetrack-cycling-CRulZjON.svg",bm="/assets/racetrack-horse-ClaHIWfC.svg",wm="/assets/racetrack-BlkxoeNc.svg",xm="/assets/rail-light-B3USmoYW.svg",_m="/assets/rail-metro-WTqeytbt.svg",Sm="/assets/rail-D3Pcmusm.svg",km="/assets/ranger-station-BnlhZpWz.svg",Am="/assets/recycling-loTd95sy.svg",Cm="/assets/religious-buddhist-D2W5NfWp.svg",Tm="/assets/religious-christian-BmJhSlR0.svg",Bm="/assets/religious-jewish-DMR0z_kE.svg",Dm="/assets/religious-muslim-BcHPSpT6.svg",Im="/assets/religious-shinto-D5DNr3LJ.svg",Em="/assets/residential-community-DbOP2F7S.svg",Lm="/assets/restaurant-bbq-CKpsfFKd.svg",Rm="/assets/restaurant-noodle-zdY9FPrM.svg",Fm="/assets/restaurant-pizza-DCRtG4h6.svg",Mm="/assets/restaurant-seafood-Dkq-LO8O.svg",Pm="/assets/restaurant-sushi-Dr5XQ-Mj.svg",Hm="/assets/restaurant-CZ5PwujI.svg",zm="/assets/road-accident-D-CJfyRl.svg",Om="/assets/roadblock-BPC_SQO6.svg",Km="/assets/rocket-B3WFsxlt.svg",Um="/assets/school-JP-BOwBKdqv.svg",$m="/assets/school-Wg6c3sHH.svg",Xm="/assets/scooter-DsxvNOj5.svg",Wm="/assets/shelter-UOIwzGGU.svg",Vm="/assets/shoe-CEOgRZ_o.svg",Gm="/assets/shop-CxJDIKZZ.svg",jm="/assets/skateboard-BlcFkKiT.svg",Zm="/assets/skiing-Dj9LHu6k.svg",Ym="/assets/slaughterhouse-DK6Mkle0.svg",Jm="/assets/slipway-BYlmMvQ9.svg",Qm="/assets/snowmobile-Dnm1abzs.svg",qm="/assets/soccer-DTcpgyOm.svg",e0="/assets/square-stroked-DqVfY6LW.svg",t0="/assets/square-CIcNZ1lT.svg",o0="/assets/stadium-BGCckCRd.svg",s0="/assets/star-stroked-DRTJJKhh.svg",a0="/assets/star-B75X2WaN.svg",r0="/assets/suitcase-BSRjx9c_.svg",i0="/assets/swimming-CF6pANJS.svg",n0="/assets/table-tennis-DuiIAHkn.svg",l0="/assets/taxi-BK3PWvpx.svg",c0="/assets/teahouse-BfTaoP_L.svg",d0="/assets/telephone-CU8M5sfY.svg",u0="/assets/tennis-C3beADqr.svg",p0="/assets/terminal-BmLJQOVI.svg",m0="/assets/theatre-G2fTESfD.svg",h0="/assets/toilet-DJrT1Jtu.svg",g0="/assets/toll-BuITy9Ke.svg",f0="/assets/town-hall-BA4yEP5i.svg",y0="/assets/town-C8EeuRcY.svg",N0="/assets/triangle-stroked-CcKACloD.svg",v0="/assets/triangle-BYENmnk7.svg",b0="/assets/tunnel-CShNUtR1.svg",w0="/assets/veterinary-gBXRtZ5n.svg",x0="/assets/viewpoint-0v-BZYcp.svg",_0="/assets/village-B9sAX65V.svg",S0="/assets/volcano-PRJWSLf1.svg",k0="/assets/volleyball-BLMTBIxA.svg",A0="/assets/warehouse-CnC8Yg4c.svg",C0="/assets/waste-basket-B3cl3AQW.svg",T0="/assets/watch-B1EHb0Tk.svg",B0="/assets/water-B-4TtF85.svg",D0="/assets/waterfall-CGuPa75g.svg",I0="/assets/watermill-DfnfLs7w.svg",E0="/assets/wetland-BD3Xj6sG.svg",L0="/assets/wheelchair-CU2Gwxtu.svg",R0="/assets/windmill-2TFX3qG-.svg",F0="/assets/zoo-krGVZMJT.svg",ja={mapLayerOn:!1,setterUIVisible:!1},Uo=ve("settings/user_locations",{state:()=>({...JSON.parse(JSON.stringify(ja)),setterUIVisible:!1}),actions:{toggleLayer(){this.mapLayerOn=!this.mapLayerOn},setLayer(i){this.mapLayerOn=i},toggleSetterUI(){this.setterUIVisible=!this.setterUIVisible},setSetterUI(i){this.setterUIVisible=i},reset(){this.$state={...JSON.parse(JSON.stringify(ja)),setterUIVisible:!1}}},persist:{paths:["mapLayerOn"]}}),Ot=`<svg class='inline size-4 h-full ml-1' xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="m184.49 136.49l-80 80a12 12 0 0 1-17-17L159 128L87.51 56.49a12 12 0 1 1 17-17l80 80a12 12 0 0 1-.02 17"/></svg>`,M0=["src","alt"],P0=["textContent"],H0=["innerHTML"],z0=ae({__name:"UserLocationPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){const e=Jt(),t=i,o=e.iconUrl(t.feature.properties.icon);return(a,r)=>(c(),p("div",{class:O(["flex justify-between cursor-pointer py-1",{"mb-2":!a.isLast}]),onClick:r[0]||(r[0]=n=>a.onClick(a.feature))},[s("div",null,[s("div",null,[s("img",{src:u(o),class:"w-6 h-auto relative top-[-1px] dark:invert",alt:t.feature.properties.name},null,8,M0),s("span",{class:"ml-2 font-bold",textContent:_(t.feature.properties.name)},null,8,P0)])]),s("div",{innerHTML:u(Ot)},null,8,H0)],2))}});class O0{constructor(){this.sourceId="ww-user-locations-source",this.pointLayerId="ww-user-locations-point-layer",this.boundPointOnClick=null,this.locations={type:"FeatureCollection",features:[]},this.clickHandler=e=>{g.popups.clear(),he.userLocation({feature:e})},this.pointOnClick=null}initialisePointOnClick(){this.pointOnClick||(this.pointOnClick=lt(e=>{const t=wo(e.features,o=>o.properties.id);if(t.length!=0)return()=>{const o=window.document.createElement("div");return t.forEach((a,r)=>{const n=window.document.createElement("div");Tt(Xt(z0,{feature:a,isLast:r===t.length-1,onClick:this.clickHandler}),n),o.appendChild(n)}),o}}))}async draw(){try{this.addLayer(),await this.addData(),this.initialisePointOnClick(),this.boundPointOnClick||(this.boundPointOnClick=this.pointOnClick.bind(this),g.on("click",this.pointLayerId,this.boundPointOnClick))}catch(e){throw this.clear(),new Error(`Failed to draw user locations: ${e.message}`)}}addLayer(){g.getSource(this.sourceId)||g.addSource(this.sourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.getLayer(this.pointLayerId)||g.addLayer({id:this.pointLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":["concat","ww-",["get","icon"]],"icon-size":1.25,"text-field":["get","name"],"icon-allow-overlap":!0,"text-font":["DIN Pro Medium"]},paint:{"text-translate":[0,22],"text-color":"#000","text-halo-color":"#fff","text-halo-width":2}},"ww-radar-towers-dot-layer")}redraw(){g.getSource(this.sourceId).setData(this.locations)}async fetchAndSetData(){await this.fetchData(),this.redraw()}async addData(){try{await this.fetchAndSetData()}catch(e){console.error("Failed to load user locations data",e)}}async fetchData(){const e=xo(),t=await _t.userLocationsGeoJson(e.token);t.data!==null&&(this.locations=t.data)}show(){}hide(){this.clear(),Uo().setLayer(!1)}clear(){try{g.popups.clear(),this.locations.features=[],this.boundPointOnClick&&(g.off("click",this.pointLayerId,this.boundPointOnClick),this.boundPointOnClick=null),g.getLayer(this.pointLayerId)&&g.removeLayer(this.pointLayerId),g.getSource(this.sourceId)&&g.removeSource(this.sourceId)}catch(e){throw new Error(`Failed to clear user locations: ${e.message}`)}}clearData(){try{g.popups.clear(),this.locations.features=[],g.getSource(this.sourceId)&&this.redraw()}catch(e){throw new Error(`Failed to clear custom location data: ${e.message}`)}}getLocations(){return this.locations.features}}const yt=new O0,Jt=()=>{const i=xo(),e=Uo(),t=async()=>{await yt.draw(),e.setLayer(!0)},o=()=>{yt.clear(),e.setLayer(!1)},a=async()=>{r()?await o():await t()},r=()=>e.mapLayerOn;return{toggle:a,show:t,hide:o,isVisible:r,showIfVisible:async()=>{i.isAuthenticated&&r()&&await t()},store:async(N,w,S,v)=>await _t.postUserLocation(i.token,{name:N,icon:w,longitude:S,latitude:v}),pushLocation:N=>{yt.locations.features.push(N),yt.redraw()},destroy:async N=>await _t.deleteUserLocation(i.token,N),removeLocation:N=>{yt.locations.features=yt.getLocations().filter(w=>N.properties._id!==w.properties._id),yt.redraw()},clearUserLocationData:()=>{yt.clearData()},getLocations:()=>yt.getLocations(),fetchData:()=>yt.fetchData(),iconUrl:N=>new URL(Object.assign({"../../assets/map-icons/maki/aerialway.svg":Pd,"../../assets/map-icons/maki/airfield.svg":Hd,"../../assets/map-icons/maki/airport.svg":zd,"../../assets/map-icons/maki/alcohol-shop.svg":Od,"../../assets/map-icons/maki/american-football.svg":Kd,"../../assets/map-icons/maki/amusement-park.svg":Ud,"../../assets/map-icons/maki/animal-shelter.svg":$d,"../../assets/map-icons/maki/aquarium.svg":Xd,"../../assets/map-icons/maki/arrow.svg":Wd,"../../assets/map-icons/maki/art-gallery.svg":Vd,"../../assets/map-icons/maki/attraction.svg":Gd,"../../assets/map-icons/maki/bakery.svg":jd,"../../assets/map-icons/maki/bank-JP.svg":Zd,"../../assets/map-icons/maki/bank.svg":Yd,"../../assets/map-icons/maki/bar.svg":Jd,"../../assets/map-icons/maki/barrier.svg":Qd,"../../assets/map-icons/maki/baseball.svg":qd,"../../assets/map-icons/maki/basketball.svg":eu,"../../assets/map-icons/maki/bbq.svg":tu,"../../assets/map-icons/maki/beach.svg":ou,"../../assets/map-icons/maki/beer.svg":su,"../../assets/map-icons/maki/bicycle-share.svg":au,"../../assets/map-icons/maki/bicycle.svg":ru,"../../assets/map-icons/maki/blood-bank.svg":iu,"../../assets/map-icons/maki/bowling-alley.svg":nu,"../../assets/map-icons/maki/bridge.svg":lu,"../../assets/map-icons/maki/building-alt1.svg":cu,"../../assets/map-icons/maki/building.svg":du,"../../assets/map-icons/maki/bus.svg":uu,"../../assets/map-icons/maki/cafe.svg":pu,"../../assets/map-icons/maki/campsite.svg":mu,"../../assets/map-icons/maki/car-rental.svg":hu,"../../assets/map-icons/maki/car-repair.svg":gu,"../../assets/map-icons/maki/car.svg":fu,"../../assets/map-icons/maki/casino.svg":yu,"../../assets/map-icons/maki/castle-JP.svg":Nu,"../../assets/map-icons/maki/castle.svg":vu,"../../assets/map-icons/maki/caution.svg":bu,"../../assets/map-icons/maki/cemetery-JP.svg":wu,"../../assets/map-icons/maki/cemetery.svg":xu,"../../assets/map-icons/maki/charging-station.svg":_u,"../../assets/map-icons/maki/cinema.svg":Su,"../../assets/map-icons/maki/circle-stroked.svg":ku,"../../assets/map-icons/maki/circle.svg":Au,"../../assets/map-icons/maki/city.svg":Cu,"../../assets/map-icons/maki/clothing-store.svg":Tu,"../../assets/map-icons/maki/college-JP.svg":Bu,"../../assets/map-icons/maki/college.svg":Du,"../../assets/map-icons/maki/commercial.svg":Iu,"../../assets/map-icons/maki/communications-tower.svg":Eu,"../../assets/map-icons/maki/confectionery.svg":Lu,"../../assets/map-icons/maki/construction.svg":Ru,"../../assets/map-icons/maki/convenience.svg":Fu,"../../assets/map-icons/maki/cricket.svg":Mu,"../../assets/map-icons/maki/cross.svg":Pu,"../../assets/map-icons/maki/dam.svg":Hu,"../../assets/map-icons/maki/danger.svg":zu,"../../assets/map-icons/maki/defibrillator.svg":Ou,"../../assets/map-icons/maki/dentist.svg":Ku,"../../assets/map-icons/maki/diamond.svg":Uu,"../../assets/map-icons/maki/doctor.svg":$u,"../../assets/map-icons/maki/dog-park.svg":Xu,"../../assets/map-icons/maki/drinking-water.svg":Wu,"../../assets/map-icons/maki/elevator.svg":Vu,"../../assets/map-icons/maki/embassy.svg":Gu,"../../assets/map-icons/maki/emergency-phone.svg":ju,"../../assets/map-icons/maki/entrance-alt1.svg":Zu,"../../assets/map-icons/maki/entrance.svg":Yu,"../../assets/map-icons/maki/farm.svg":Ju,"../../assets/map-icons/maki/fast-food.svg":Qu,"../../assets/map-icons/maki/fence.svg":qu,"../../assets/map-icons/maki/ferry-JP.svg":ep,"../../assets/map-icons/maki/ferry.svg":tp,"../../assets/map-icons/maki/fire-station-JP.svg":op,"../../assets/map-icons/maki/fire-station.svg":sp,"../../assets/map-icons/maki/fitness-centre.svg":ap,"../../assets/map-icons/maki/florist.svg":rp,"../../assets/map-icons/maki/fuel.svg":ip,"../../assets/map-icons/maki/furniture.svg":np,"../../assets/map-icons/maki/gaming.svg":lp,"../../assets/map-icons/maki/garden-centre.svg":cp,"../../assets/map-icons/maki/garden.svg":dp,"../../assets/map-icons/maki/gate.svg":up,"../../assets/map-icons/maki/gift.svg":pp,"../../assets/map-icons/maki/globe.svg":mp,"../../assets/map-icons/maki/golf.svg":hp,"../../assets/map-icons/maki/grocery.svg":gp,"../../assets/map-icons/maki/hairdresser.svg":fp,"../../assets/map-icons/maki/harbor.svg":yp,"../../assets/map-icons/maki/hardware.svg":Np,"../../assets/map-icons/maki/heart.svg":vp,"../../assets/map-icons/maki/heliport.svg":bp,"../../assets/map-icons/maki/highway-rest-area.svg":wp,"../../assets/map-icons/maki/historic.svg":xp,"../../assets/map-icons/maki/home.svg":_p,"../../assets/map-icons/maki/horse-riding.svg":Sp,"../../assets/map-icons/maki/hospital-JP.svg":kp,"../../assets/map-icons/maki/hospital.svg":Ap,"../../assets/map-icons/maki/hot-spring.svg":Cp,"../../assets/map-icons/maki/ice-cream.svg":Tp,"../../assets/map-icons/maki/industry.svg":Bp,"../../assets/map-icons/maki/information.svg":Dp,"../../assets/map-icons/maki/jewelry-store.svg":Ip,"../../assets/map-icons/maki/karaoke.svg":Ep,"../../assets/map-icons/maki/landmark-JP.svg":Lp,"../../assets/map-icons/maki/landmark.svg":Rp,"../../assets/map-icons/maki/landuse.svg":Fp,"../../assets/map-icons/maki/laundry.svg":Mp,"../../assets/map-icons/maki/library.svg":Pp,"../../assets/map-icons/maki/lift-gate.svg":Hp,"../../assets/map-icons/maki/lighthouse-JP.svg":zp,"../../assets/map-icons/maki/lighthouse.svg":Op,"../../assets/map-icons/maki/lodging.svg":Kp,"../../assets/map-icons/maki/logging.svg":Up,"../../assets/map-icons/maki/marae.svg":$p,"../../assets/map-icons/maki/marker-stroked.svg":Xp,"../../assets/map-icons/maki/marker.svg":Wp,"../../assets/map-icons/maki/mobile-phone.svg":Vp,"../../assets/map-icons/maki/monument-JP.svg":Gp,"../../assets/map-icons/maki/monument.svg":jp,"../../assets/map-icons/maki/mountain.svg":Zp,"../../assets/map-icons/maki/museum.svg":Yp,"../../assets/map-icons/maki/music.svg":Jp,"../../assets/map-icons/maki/natural.svg":Qp,"../../assets/map-icons/maki/nightclub.svg":qp,"../../assets/map-icons/maki/observation-tower.svg":em,"../../assets/map-icons/maki/optician.svg":tm,"../../assets/map-icons/maki/paint.svg":om,"../../assets/map-icons/maki/park-alt1.svg":sm,"../../assets/map-icons/maki/park.svg":am,"../../assets/map-icons/maki/parking-garage.svg":rm,"../../assets/map-icons/maki/parking-paid.svg":im,"../../assets/map-icons/maki/parking.svg":nm,"../../assets/map-icons/maki/pharmacy.svg":lm,"../../assets/map-icons/maki/picnic-site.svg":cm,"../../assets/map-icons/maki/pitch.svg":dm,"../../assets/map-icons/maki/place-of-worship.svg":um,"../../assets/map-icons/maki/playground.svg":pm,"../../assets/map-icons/maki/police-JP.svg":mm,"../../assets/map-icons/maki/police.svg":hm,"../../assets/map-icons/maki/post-JP.svg":gm,"../../assets/map-icons/maki/post.svg":fm,"../../assets/map-icons/maki/prison.svg":ym,"../../assets/map-icons/maki/racetrack-boat.svg":Nm,"../../assets/map-icons/maki/racetrack-cycling.svg":vm,"../../assets/map-icons/maki/racetrack-horse.svg":bm,"../../assets/map-icons/maki/racetrack.svg":wm,"../../assets/map-icons/maki/rail-light.svg":xm,"../../assets/map-icons/maki/rail-metro.svg":_m,"../../assets/map-icons/maki/rail.svg":Sm,"../../assets/map-icons/maki/ranger-station.svg":km,"../../assets/map-icons/maki/recycling.svg":Am,"../../assets/map-icons/maki/religious-buddhist.svg":Cm,"../../assets/map-icons/maki/religious-christian.svg":Tm,"../../assets/map-icons/maki/religious-jewish.svg":Bm,"../../assets/map-icons/maki/religious-muslim.svg":Dm,"../../assets/map-icons/maki/religious-shinto.svg":Im,"../../assets/map-icons/maki/residential-community.svg":Em,"../../assets/map-icons/maki/restaurant-bbq.svg":Lm,"../../assets/map-icons/maki/restaurant-noodle.svg":Rm,"../../assets/map-icons/maki/restaurant-pizza.svg":Fm,"../../assets/map-icons/maki/restaurant-seafood.svg":Mm,"../../assets/map-icons/maki/restaurant-sushi.svg":Pm,"../../assets/map-icons/maki/restaurant.svg":Hm,"../../assets/map-icons/maki/road-accident.svg":zm,"../../assets/map-icons/maki/roadblock.svg":Om,"../../assets/map-icons/maki/rocket.svg":Km,"../../assets/map-icons/maki/school-JP.svg":Um,"../../assets/map-icons/maki/school.svg":$m,"../../assets/map-icons/maki/scooter.svg":Xm,"../../assets/map-icons/maki/shelter.svg":Wm,"../../assets/map-icons/maki/shoe.svg":Vm,"../../assets/map-icons/maki/shop.svg":Gm,"../../assets/map-icons/maki/skateboard.svg":jm,"../../assets/map-icons/maki/skiing.svg":Zm,"../../assets/map-icons/maki/slaughterhouse.svg":Ym,"../../assets/map-icons/maki/slipway.svg":Jm,"../../assets/map-icons/maki/snowmobile.svg":Qm,"../../assets/map-icons/maki/soccer.svg":qm,"../../assets/map-icons/maki/square-stroked.svg":e0,"../../assets/map-icons/maki/square.svg":t0,"../../assets/map-icons/maki/stadium.svg":o0,"../../assets/map-icons/maki/star-stroked.svg":s0,"../../assets/map-icons/maki/star.svg":a0,"../../assets/map-icons/maki/suitcase.svg":r0,"../../assets/map-icons/maki/swimming.svg":i0,"../../assets/map-icons/maki/table-tennis.svg":n0,"../../assets/map-icons/maki/taxi.svg":l0,"../../assets/map-icons/maki/teahouse.svg":c0,"../../assets/map-icons/maki/telephone.svg":d0,"../../assets/map-icons/maki/tennis.svg":u0,"../../assets/map-icons/maki/terminal.svg":p0,"../../assets/map-icons/maki/theatre.svg":m0,"../../assets/map-icons/maki/toilet.svg":h0,"../../assets/map-icons/maki/toll.svg":g0,"../../assets/map-icons/maki/town-hall.svg":f0,"../../assets/map-icons/maki/town.svg":y0,"../../assets/map-icons/maki/triangle-stroked.svg":N0,"../../assets/map-icons/maki/triangle.svg":v0,"../../assets/map-icons/maki/tunnel.svg":b0,"../../assets/map-icons/maki/veterinary.svg":w0,"../../assets/map-icons/maki/viewpoint.svg":x0,"../../assets/map-icons/maki/village.svg":_0,"../../assets/map-icons/maki/volcano.svg":S0,"../../assets/map-icons/maki/volleyball.svg":k0,"../../assets/map-icons/maki/warehouse.svg":A0,"../../assets/map-icons/maki/waste-basket.svg":C0,"../../assets/map-icons/maki/watch.svg":T0,"../../assets/map-icons/maki/water.svg":B0,"../../assets/map-icons/maki/waterfall.svg":D0,"../../assets/map-icons/maki/watermill.svg":I0,"../../assets/map-icons/maki/wetland.svg":E0,"../../assets/map-icons/maki/wheelchair.svg":L0,"../../assets/map-icons/maki/windmill.svg":R0,"../../assets/map-icons/maki/zoo.svg":F0})[`../../assets/map-icons/maki/${N}.svg`],import.meta.url).href}},K0=["aerialway","airfield","airport","alcohol-shop","american-football","amusement-park","animal-shelter","aquarium","arrow","art-gallery","attraction","bakery","bank","bar","barrier","baseball","basketball","bbq","beach","beer","bicycle-share","bicycle","blood-bank","bowling-alley","bridge","building-alt1","building","bus","cafe","campsite","car-rental","car-repair","car","casino","castle","caution","cemetery","charging-station","cinema","circle-stroked","circle","city","clothing-store","college","commercial","communications-tower","confectionery","construction","convenience","cricket","cross","dam","danger","defibrillator","dentist","diamond","doctor","dog-park","drinking-water","elevator","embassy","emergency-phone","entrance-alt1","entrance","farm","fast-food","fence","ferry","fire-station","fitness-centre","florist","fuel","furniture","gaming","garden-centre","garden","gate","gift","globe","golf","grocery","hairdresser","harbor","hardware","heart","heliport","highway-rest-area","historic","home","horse-riding","hospital","hot-spring","ice-cream","industry","information","jewelry-store","karaoke","landmark","landuse","laundry","library","lift-gate","lighthouse","lodging","logging","marae","marker-stroked","marker","mobile-phone","monument","mountain","museum","music","natural","nightclub","observation-tower","optician","paint","park-alt1","park","parking-garage","parking-paid","parking","pharmacy","picnic-site","pitch","place-of-worship","playground","police","post","prison","racetrack-boat","racetrack-cycling","racetrack-horse","racetrack","rail-light","rail-metro","rail","ranger-station","recycling","religious-buddhist","religious-christian","religious-jewish","religious-muslim","religious-shinto","residential-community","restaurant-bbq","restaurant-noodle","restaurant-pizza","restaurant-seafood","restaurant-sushi","restaurant","road-accident","roadblock","rocket","school","scooter","shelter","shoe","shop","skateboard","skiing","slaughterhouse","slipway","snowmobile","soccer","square-stroked","square","stadium","star-stroked","star","suitcase","swimming","table-tennis","taxi","teahouse","telephone","tennis","terminal","theatre","toilet","toll","town-hall","town","triangle-stroked","triangle","tunnel","veterinary","viewpoint","village","volcano","volleyball","warehouse","waste-basket","watch","water","waterfall","watermill","wetland","wheelchair","windmill","zoo"];function As(){return C.shouldShowFeatures(Dn)}function It(){const i=H(!1),e=H({}),t=H(!1),o=H(!1),a=xo(),r=Ys(),n=we(),l=Jt(),d=async(B,I={})=>{const{onSuccess:R,resetState:M=!0}=I;M&&(i.value=!0,e.value={},t.value=!1);try{const{data:D,error:k}=await B();return k?(console.log("API request error:",k),e.value=k.errors||{message:k.message||"An unexpected error occurred"},!1):(R&&await R(D),t.value=!0,!0)}catch(D){return console.error("handleApiRequest unexpected error:",D),e.value={message:"An unexpected error occurred"},!1}finally{i.value=!1}},m=()=>a.isAuthenticated,h=async B=>d(()=>_t.register({name:B.name,email:B.email,password:B.password,password_confirmation:B.password_confirmation,captcha_token:B.captcha_token}),{onSuccess:async I=>{a.token=I.token,await N(),n.hasActiveSubscription()||he.subscribePrompt()}}),f=async B=>d(()=>_t.login({email:B.email,password:B.password}),{onSuccess:async I=>{a.token=I.token,await N()}}),y=async()=>{const B=d(()=>_t.logout(a.token),{onSuccess:async()=>{try{await r.logOut()}catch(I){console.error("logout",I)}zt.disconnect(),l.clearUserLocationData()}});return a.$reset(),Kt.isToDesktop()&&window.location.reload(),B},N=async()=>(zt.connectAs(a.token),d(()=>_t.getUser(a.token),{onSuccess:async B=>{a.attributes={id:B.id,name:B.name,email:B.email},await r.logIn(B.revenuecat_id),await l.showIfVisible()}}));return{loading:i,errors:e,success:t,register:h,login:f,logout:y,setupUser:N,forgotPassword:async B=>d(()=>_t.forgotPassword({email:B}),{onSuccess:()=>{}}),resetPassword:async B=>d(()=>_t.resetPassword({email:B.email,password:B.password,password_confirmation:B.password_confirmation,token:B.token}),{onSuccess:I=>I}),changePassword:async B=>d(()=>_t.changePassword(a.token,{current_password:B.currentPassword,password:B.newPassword,password_confirmation:B.confirmPassword}),{onSuccess:()=>{}}),isAuthenticated:m,init:async()=>{m()&&await N(),o.value=!0},isInitialized:wr(o)}}const U0={class:"relative max-w-[400px]"},$0={class:"absolute top-0 right-0 z-50"},X0={class:"mb-10 mx-auto hyphens-auto w-full md:max-w-[90%] lg:max-w-[800px]"},W0={class:"bg-gradient-to-tr from-[#F6B91A] to-[#17274F] rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},V0={class:"absolute top-0 right-0 opacity-10"},G0={class:"flex items-center space-x-4"},j0={class:"text-3xl font-bold"},Z0={class:"flex items-center mt-2"},Y0={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},J0={class:"p-4 md:p-8"},Q0={key:0,class:"flex justify-center mb-8"},q0={class:"bg-gray-100 dark:bg-ww-blue-200 rounded-full p-1"},eh={key:1,class:"mx-auto mb-6"},th={class:"max-w-md mx-auto"},oh={key:0},sh={class:"relative"},ah={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},rh={key:0,class:"mt-1 text-sm text-red-600"},ih={key:0,class:"text-sm text-red-600 mt-3"},nh={class:"flex justify-between items-center mt-6"},lh=["disabled"],ch={key:0},dh={key:1},uh={key:1,class:"text-center py-6"},ph={class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900"},mh={class:"relative"},hh={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},gh={key:0,class:"mt-1 text-sm text-red-600"},fh={class:"relative"},yh={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Nh=["type"],vh={key:0,class:"mt-1 text-sm text-red-600"},bh={class:"flex items-center justify-between"},wh={class:"text-sm"},xh={key:0,class:"text-sm text-red-600"},_h=["disabled"],Sh={key:0},kh={key:1},Ah={class:"relative"},Ch={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Th={key:0,class:"mt-1 text-sm text-red-600"},Bh={class:"relative"},Dh={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ih={key:0,class:"mt-1 text-sm text-red-600"},Eh={class:"relative"},Lh={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Rh=["type"],Fh={key:0,class:"mt-1 text-sm text-red-600"},Mh={class:"relative"},Ph={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Hh=["type"],zh={key:0,class:"mt-1 text-sm text-red-600"},Oh={key:0,class:"text-sm text-red-600"},Kh={ref:"captcha-el",class:"mx-auto"},Uh={key:1,class:"mt-1 text-sm text-red-600"},$h=["disabled"],Xh={key:0},Wh={key:1},Vh={__name:"AuthModal",props:{startWithRegistration:{type:Boolean,default:!1}},emits:["close"],setup(i,{emit:e}){const t=i,o=e,{loading:a,errors:r,success:n,register:l,login:d,forgotPassword:m}=It(),h=H(!0),f=H(!1),y=H(!1),N=H(!1),w=At("captcha-el"),S=H(null),v=H({name:"",email:"",password:"",password_confirmation:""});Ge(()=>{t.startWithRegistration&&(h.value=!1)});const A=()=>{h.value=!h.value,f.value=!1,N.value=!1,v.value={name:"",email:"",password:"",password_confirmation:""},r.value={},y.value=!1},B=()=>{f.value=!0,N.value=!1,v.value={name:"",email:"",password:"",password_confirmation:""},r.value={}},I=()=>{f.value=!1,N.value=!1,r.value={}},R=()=>{o("close")},M=async D=>{D.preventDefault();let k=!1;f.value?(k=await m(v.value.email),k&&(N.value=!0)):h.value?(k=await d({email:v.value.email,password:v.value.password}),k&&R()):(k=await l({...v.value,captcha_token:S.value}),k&&R())};return vs(()=>{w.value&&window.hcaptcha.render(w.value,{sitekey:"9f488286-b100-466a-bbaa-3d24bd4ce7f0",callback(D){S.value=D}})}),(D,k)=>V((c(),p("div",U0,[s("div",$0,[s("button",{onClick:P(R,["prevent"]),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",X0,[s("div",W0,[s("div",V0,[b(u(T),{icon:"mdi:account-circle",class:"w-48 h-48"})]),s("div",G0,[s("div",null,[s("h2",j0,[f.value?(c(),p(z,{key:0},[L("Reset Password")],64)):(c(),p(z,{key:1},[L(_(h.value?"Welcome Back":"Create Account"),1)],64))]),s("p",Z0,[b(u(T),{icon:"mdi:account",class:"min-w-5 min-h-5 mr-2"}),f.value?(c(),p(z,{key:0},[L("Recover your account access")],64)):(c(),p(z,{key:1},[L(_(h.value?"Log in to your account":"Join our community"),1)],64))])])])]),s("div",Y0,[s("div",J0,[f.value?x("",!0):(c(),p("div",Q0,[s("div",q0,[s("button",{onClick:A,class:O(["px-6 py-2 rounded-full text-sm font-medium transition-all duration-200",h.value?"bg-white dark:bg-ww-blue text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"])}," Log in ",2),s("button",{onClick:A,class:O(["px-6 py-2 rounded-full text-sm font-medium transition-all duration-200",h.value?"text-gray-600 dark:text-gray-400":"bg-white dark:bg-ww-blue text-gray-900 dark:text-white shadow"])}," Register ",2)])])),(h.value||f.value)&&!N.value?(c(),p("div",eh,k[10]||(k[10]=[s("p",{class:"text-sm text-amber-600 dark:text-amber-400 font-medium text-center",style:{hyphens:"none","word-break":"keep-all"}}," This login is not connected to your Apple or Google account. If you haven't already, you'll need to create a WeatherWise account. ",-1)]))):x("",!0),s("div",th,[f.value?(c(),p("form",{key:0,class:"space-y-6",onSubmit:M},[N.value?(c(),p("div",uh,[s("div",ph,[b(u(T),{icon:"mdi:check",class:"h-6 w-6 text-green-600 dark:text-green-300"})]),k[13]||(k[13]=s("h3",{class:"mt-3 text-lg font-medium text-gray-900 dark:text-white"},"Password Reset Email Sent",-1)),k[14]||(k[14]=s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-300"}," We've sent a link to your email address. Please check your inbox and follow the instructions to reset your password. ",-1)),s("div",{class:"mt-6"},[s("button",{type:"button",onClick:I,class:"flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A]"}," Return to Login ")])])):(c(),p("div",oh,[k[12]||(k[12]=s("p",{class:"text-sm text-gray-600 dark:text-gray-300 mb-4"}," Enter your email address below and we'll send you a link to reset your password. ",-1)),s("div",null,[k[11]||(k[11]=s("label",{for:"reset-email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),s("div",sh,[s("div",ah,[b(u(T),{icon:"mdi:email",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"reset-email","onUpdate:modelValue":k[0]||(k[0]=F=>v.value.email=F),type:"email",required:"",class:O(["block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).email}]),placeholder:"you@example.com"},null,2),[[qe,v.value.email]])]),u(r).email?(c(),p("p",rh,_(u(r).email[0]),1)):x("",!0)]),u(r).message?(c(),p("div",ih,_(u(r).message),1)):x("",!0),s("div",nh,[s("button",{type:"button",onClick:I,class:"text-sm font-medium text-[#F6B91A] hover:text-[#F6B91A]/80 dark:text-[#F6B91A] dark:hover:text-[#F6B91A]/80"}," Back to login "),s("button",{type:"submit",disabled:u(a),class:"flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A] disabled:opacity-50 disabled:cursor-not-allowed"},[u(a)?(c(),p("span",ch,"Sending...")):(c(),p("span",dh,"Send Reset Link"))],8,lh)])]))],32)):h.value?(c(),p("form",{key:1,class:"space-y-6",onSubmit:M},[s("div",null,[k[15]||(k[15]=s("label",{for:"login-email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),s("div",mh,[s("div",hh,[b(u(T),{icon:"mdi:email",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"login-email","onUpdate:modelValue":k[1]||(k[1]=F=>v.value.email=F),type:"email",required:"",class:O(["block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).email}]),placeholder:"you@example.com"},null,2),[[qe,v.value.email]])]),u(r).email?(c(),p("p",gh,_(u(r).email[0]),1)):x("",!0)]),s("div",null,[k[16]||(k[16]=s("label",{for:"login-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),s("div",fh,[s("div",yh,[b(u(T),{icon:"mdi:lock",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"login-password","onUpdate:modelValue":k[2]||(k[2]=F=>v.value.password=F),type:y.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).password}]),placeholder:"••••••••"},null,10,Nh),[[jt,v.value.password]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[3]||(k[3]=F=>y.value=!y.value)},[b(u(T),{icon:y.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Toggle password visibility"},null,8,["icon"])])]),u(r).password?(c(),p("p",vh,_(u(r).password[0]),1)):x("",!0)]),s("div",bh,[s("div",wh,[s("a",{onClick:P(B,["prevent"]),href:"#",class:"font-medium text-[#F6B91A] hover:text-[#F6B91A]/80 dark:text-[#F6B91A] dark:hover:text-[#F6B91A]/80 cursor-pointer"}," Forgot your password? ")])]),u(r).message?(c(),p("div",xh,_(u(r).message),1)):x("",!0),s("button",{type:"submit",disabled:u(a),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A] disabled:opacity-50 disabled:cursor-not-allowed"},[u(a)?(c(),p("span",Sh,"Logging in...")):(c(),p("span",kh,"Log in"))],8,_h)],32)):(c(),p("form",{key:2,class:"space-y-6",onSubmit:M},[s("div",null,[k[17]||(k[17]=s("label",{for:"register-name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Full Name ",-1)),s("div",Ah,[s("div",Ch,[b(u(T),{icon:"mdi:account",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"register-name","onUpdate:modelValue":k[4]||(k[4]=F=>v.value.name=F),type:"text",required:"",class:O(["block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).name}]),placeholder:"John Doe"},null,2),[[qe,v.value.name]])]),u(r).name?(c(),p("p",Th,_(u(r).name[0]),1)):x("",!0)]),s("div",null,[k[18]||(k[18]=s("label",{for:"register-email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),s("div",Bh,[s("div",Dh,[b(u(T),{icon:"mdi:email",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"register-email","onUpdate:modelValue":k[5]||(k[5]=F=>v.value.email=F),type:"email",required:"",class:O(["block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).email}]),placeholder:"you@example.com"},null,2),[[qe,v.value.email]])]),u(r).email?(c(),p("p",Ih,_(u(r).email[0]),1)):x("",!0)]),s("div",null,[k[19]||(k[19]=s("label",{for:"register-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),s("div",Eh,[s("div",Lh,[b(u(T),{icon:"mdi:lock",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"register-password","onUpdate:modelValue":k[6]||(k[6]=F=>v.value.password=F),type:y.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).password}]),placeholder:"••••••••"},null,10,Rh),[[jt,v.value.password]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[7]||(k[7]=F=>y.value=!y.value)},[b(u(T),{icon:y.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Toggle password visibility"},null,8,["icon"])])]),u(r).password?(c(),p("p",Fh,_(u(r).password[0]),1)):x("",!0)]),s("div",null,[k[20]||(k[20]=s("label",{for:"register-password-confirm",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm Password ",-1)),s("div",Mh,[s("div",Ph,[b(u(T),{icon:"mdi:lock-check",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"register-password-confirm","onUpdate:modelValue":k[8]||(k[8]=F=>v.value.password_confirmation=F),type:y.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(r).password_confirmation}]),placeholder:"••••••••"},null,10,Hh),[[jt,v.value.password_confirmation]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[9]||(k[9]=F=>y.value=!y.value)},[b(u(T),{icon:y.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Toggle password visibility"},null,8,["icon"])])]),u(r).password_confirmation?(c(),p("p",zh,_(u(r).password_confirmation[0]),1)):x("",!0)]),u(r).message?(c(),p("div",Oh,_(u(r).message),1)):x("",!0),k[21]||(k[21]=ye('<div class="flex items-center" data-v-65a732e7><input id="terms" type="checkbox" required class="h-4 w-4 text-[#F6B91A] focus:ring-[#F6B91A] border-gray-300 rounded" data-v-65a732e7><label for="terms" class="ml-2 block text-sm text-gray-700 dark:text-gray-300" data-v-65a732e7> I agree to the <a href="https://www.weatherwise.app/eula.html" target="_blank" class="font-medium text-[#F6B91A] hover:text-[#F6B91A]/80 dark:text-[#F6B91A] dark:hover:text-[#F6B91A]/80" data-v-65a732e7>Terms of Service</a> and <a href="https://www.weatherwise.app/privacy-policy.html" target="_blank" class="font-medium text-[#F6B91A] hover:text-[#F6B91A]/80 dark:text-[#F6B91A] dark:hover:text-[#F6B91A]/80" data-v-65a732e7>Privacy Policy</a></label></div>',1)),s("div",Kh,null,512),u(r).captcha_token?(c(),p("p",Uh,_(u(r).captcha_token[0]),1)):x("",!0),s("button",{type:"submit",disabled:u(a),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A] disabled:opacity-50 disabled:cursor-not-allowed"},[u(a)?(c(),p("span",Xh,"Creating Account...")):(c(),p("span",Wh,"Create Account"))],8,$h)],32))])])])])])),[[u(De),R]])}},Za=G(Vh,[["__scopeId","data-v-65a732e7"]]),Gh={class:"absolute left-[5%] sm:relative w-full max-w-[90%] sm:max-w-[800px]"},jh={class:"absolute top-0 right-0 z-50"},Zh={class:"mb-10 mx-auto hyphens-auto"},Yh={class:"bg-gradient-to-tr from-[#F6B91A] to-[#17274F] rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},Jh={class:"absolute top-0 right-0 opacity-10"},Qh={class:"flex items-center space-x-4"},qh={class:"flex items-center mt-2"},eg={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg px-4 md:px-8"},tg={class:"flex justify-center pt-6 pb-4"},og={class:"bg-gray-100 dark:bg-ww-blue-200 rounded-full p-1"},sg={class:"py-4"},ag={key:0,class:"mx-auto space-y-6"},rg={class:"relative"},ig={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ng=["value"],lg={class:"relative"},cg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},dg=["value"],ug={class:"relative"},pg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-10"},mg={class:"flex"},hg=["value"],gg={class:"relative"},fg=["disabled"],yg={key:0,class:"absolute right-0 top-full mt-2 py-1 px-2 bg-gray-800 text-white text-xs font-medium rounded shadow z-10"},Ng={key:1,class:"mx-auto"},vg={class:"relative"},bg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},wg=["type"],xg={key:0,class:"mt-1 text-xs text-red-600"},_g={class:"relative"},Sg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},kg=["type"],Ag={key:0,class:"mt-1 text-xs text-red-600"},Cg={class:"relative"},Tg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Bg=["type"],Dg={key:0,class:"mt-1 text-xs text-red-600"},Ig={key:0,class:"text-sm text-red-600"},Eg={key:1,class:"flex items-center p-3 mb-4 text-sm text-green-800 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400",role:"alert"},Lg=["disabled"],Rg={key:0},Fg={key:1},Mg=ae({__name:"UserAccountModal",emits:["close"],setup(i,{emit:e}){const t=e,o=xo(),{logout:a,changePassword:r,loading:n,errors:l,success:d}=It(),m=H("details"),h=H(!1),f=H(!1),y=H(!1),N=H({currentPassword:"",newPassword:"",confirmPassword:""}),w=H(!1),{start:S}=ki(()=>{h.value=!1},1e3),v=()=>{t("close")},A=D=>{navigator.clipboard.writeText(D),h.value=!0,S()},B=async()=>{a(),v()},I=D=>{m.value=D,l.value={},d.value=!1,w.value=!1,N.value={currentPassword:"",newPassword:"",confirmPassword:""},f.value=!1,y.value=!1},R=async()=>{w.value=!1,await r(N.value)&&(w.value=!0,N.value={currentPassword:"",newPassword:"",confirmPassword:""},f.value=!1,y.value=!1)},M=de(()=>{var D;return((D=lo().revenueCatCustomerInfo)==null?void 0:D.originalAppUserId)||""});return(D,k)=>V((c(),p("div",Gh,[s("div",jh,[s("button",{onClick:P(v,["prevent"]),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",Zh,[s("div",Yh,[s("div",Jh,[b(u(T),{icon:"mdi:account-circle",class:"w-48 h-48"})]),s("div",Qh,[s("div",null,[k[10]||(k[10]=s("h2",{class:"text-3xl font-bold"},"My Account",-1)),s("p",qh,[b(u(T),{icon:"mdi:account",class:"min-w-5 min-h-5 mr-2"}),k[9]||(k[9]=L(" Account Details "))])])])]),s("div",eg,[s("div",tg,[s("div",og,[s("button",{onClick:k[0]||(k[0]=F=>I("details")),class:O(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200",m.value==="details"?"bg-white dark:bg-ww-blue text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"])}," Account Details ",2),s("button",{onClick:k[1]||(k[1]=F=>I("change-password")),class:O(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-200",m.value==="change-password"?"bg-white dark:bg-ww-blue text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400"])}," Change Password ",2)])]),s("div",sg,[m.value==="details"?(c(),p("div",ag,[s("div",null,[k[11]||(k[11]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Full Name ",-1)),s("div",rg,[s("div",ig,[b(u(T),{icon:"mdi:account",class:"h-5 w-5 text-gray-400"})]),s("input",{type:"text",value:u(o).attributes.name,disabled:"",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-ww-blue-200 text-gray-700 dark:text-gray-300 sm:text-sm cursor-not-allowed"},null,8,ng)])]),s("div",null,[k[12]||(k[12]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address ",-1)),s("div",lg,[s("div",cg,[b(u(T),{icon:"mdi:email",class:"h-5 w-5 text-gray-400"})]),s("input",{type:"email",value:u(o).attributes.email,disabled:"",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm bg-gray-100 dark:bg-ww-blue-200 text-gray-700 dark:text-gray-300 sm:text-sm cursor-not-allowed"},null,8,dg)])]),s("div",null,[k[13]||(k[13]=s("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Customer ID ",-1)),s("div",ug,[s("div",pg,[b(u(T),{icon:"mdi:tag",class:"h-5 w-5 text-gray-400"})]),s("div",mg,[s("input",{type:"text",value:M.value||"Loading...",disabled:"",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-l-md shadow-sm bg-gray-100 dark:bg-ww-blue-200 text-gray-700 dark:text-gray-300 sm:text-sm cursor-not-allowed"},null,8,hg),s("div",gg,[s("button",{onClick:k[2]||(k[2]=F=>A(M.value||"")),disabled:!M.value,class:"h-full flex items-center px-3 border border-gray-300 dark:border-gray-600 border-l-0 rounded-r-md shadow-sm bg-gray-50 dark:bg-ww-blue-200 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-ww-blue-300 disabled:opacity-50 disabled:cursor-not-allowed",title:"Copy to clipboard"},[b(u(T),{icon:"mdi:content-copy",class:"h-5 w-5"})],8,fg),h.value?(c(),p("div",yg," Copied! ")):x("",!0)])])])]),s("button",{onClickOnce:B,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A]"},[b(u(T),{icon:"mdi:logout",class:"mr-2 size-5"}),k[14]||(k[14]=L(" Logout "))],32)])):x("",!0),m.value==="change-password"?(c(),p("div",Ng,[s("form",{onSubmit:P(R,["prevent"]),class:"space-y-6"},[s("div",null,[k[15]||(k[15]=s("label",{for:"current-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Current Password ",-1)),s("div",vg,[s("div",bg,[b(u(T),{icon:"mdi:lock",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"current-password","onUpdate:modelValue":k[3]||(k[3]=F=>N.value.currentPassword=F),type:f.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(l).current_password}]),placeholder:"Enter your current password"},null,10,wg),[[jt,N.value.currentPassword]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[4]||(k[4]=F=>f.value=!f.value)},[b(u(T),{icon:f.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},null,8,["icon"])])]),u(l).current_password?(c(),p("p",xg,_(u(l).current_password[0]),1)):x("",!0)]),s("div",null,[k[16]||(k[16]=s("label",{for:"new-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," New Password ",-1)),s("div",_g,[s("div",Sg,[b(u(T),{icon:"mdi:lock-plus",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"new-password","onUpdate:modelValue":k[5]||(k[5]=F=>N.value.newPassword=F),type:y.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(l).password}]),placeholder:"Enter new password (min 8 chars)"},null,10,kg),[[jt,N.value.newPassword]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[6]||(k[6]=F=>y.value=!y.value)},[b(u(T),{icon:y.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},null,8,["icon"])])]),u(l).password?(c(),p("p",Ag,_(u(l).password[0]),1)):x("",!0)]),s("div",null,[k[17]||(k[17]=s("label",{for:"confirm-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm New Password ",-1)),s("div",Cg,[s("div",Tg,[b(u(T),{icon:"mdi:lock-check",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"confirm-password","onUpdate:modelValue":k[7]||(k[7]=F=>N.value.confirmPassword=F),type:y.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(l).password_confirmation}]),placeholder:"Confirm new password"},null,10,Bg),[[jt,N.value.confirmPassword]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:k[8]||(k[8]=F=>y.value=!y.value)},[b(u(T),{icon:y.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"},null,8,["icon"])])]),u(l).password_confirmation?(c(),p("p",Dg,_(u(l).password_confirmation[0]),1)):x("",!0)]),u(l).message&&!u(l).current_password&&!u(l).password&&!u(l).password_confirmation?(c(),p("p",Ig,_(u(l).message),1)):x("",!0),w.value?(c(),p("div",Eg,[b(u(T),{icon:"mdi:check-circle",class:"flex-shrink-0 inline w-4 h-4 me-3"}),k[18]||(k[18]=s("span",{class:"sr-only"},"Info",-1)),k[19]||(k[19]=s("div",null,[s("span",{class:"font-medium"},"Success!"),L(" Your password has been changed. ")],-1))])):x("",!0),s("button",{type:"submit",disabled:u(n),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A] disabled:opacity-50 disabled:cursor-not-allowed"},[u(n)?(c(),p("span",Rg,"Updating...")):(c(),p("span",Fg,"Change Password"))],8,Lg)],32)])):x("",!0)])])])])),[[u(De),v]])}}),Pg=G(Mg,[["__scopeId","data-v-41bce828"]]),Hg={class:"relative"},zg={class:"absolute top-0 right-0 z-50"},Og={class:"mb-10 mx-auto hyphens-auto w-full md:max-w-[90%] lg:max-w-[800px]"},Kg={class:"bg-gradient-to-tr from-[#F6B91A] to-[#17274F] rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},Ug={class:"absolute top-0 right-0 opacity-10"},$g={class:"flex items-center space-x-4"},Xg={class:"flex items-center mt-2"},Wg={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},Vg={class:"p-4 md:p-8"},Gg={class:"max-w-md mx-auto"},jg={key:0,class:"text-center py-6"},Zg={class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900"},Yg={class:"mt-2 text-sm text-gray-600 dark:text-gray-300"},Jg={class:"mt-6"},Qg={class:"relative"},qg={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},e1={key:0,class:"mt-1 text-sm text-red-600"},t1={class:"relative"},o1={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},s1=["type"],a1={key:0,class:"mt-1 text-sm text-red-600"},r1={class:"relative"},i1={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},n1=["type"],l1={key:0,class:"mt-1 text-sm text-red-600"},c1={key:0,class:"text-sm text-red-600"},d1=["disabled"],u1={key:0},p1={key:1},m1={key:2,class:"text-center py-6"},h1={class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900"},g1={class:"mt-6"},f1={__name:"ResetPasswordModal",emits:["close"],setup(i,{emit:e}){const t=e,{loading:o,errors:a,success:r,resetPassword:n}=It(),l=xr(),d=H(!1),m=H(!1),h=H(!1),f=H(""),y=H({email:"",password:"",password_confirmation:"",token:""}),N=()=>{t("close")};Ge(()=>{if(l.query.token&&l.query.email)y.value.token=l.query.token,y.value.email=l.query.email;else{const S=xe();if(S.deepLink)try{const v=new URL(S.deepLink),A=new URLSearchParams(v.search),B=A.get("token"),I=A.get("email");B&&I?(y.value.token=B,y.value.email=I):(h.value=!0,f.value="Missing required token or email parameters.")}catch(v){console.error("Error parsing deep link URL",v),h.value=!0,f.value="Invalid password reset link format."}finally{S.setDeepLink(null)}else h.value=!0,f.value="Missing password reset information."}});const w=async S=>{var A,B;S.preventDefault(),await n(y.value)?(m.value=!0,setTimeout(()=>{N()},3e3)):(a.value.token||(A=a.value.message)!=null&&A.toLowerCase().includes("token"))&&(h.value=!0,f.value=((B=a.value.token)==null?void 0:B[0])||a.value.message||"The password reset token is invalid or has expired.  Please try resetting your password again.")};return(S,v)=>V((c(),p("div",Hg,[s("div",zg,[s("button",{onClick:P(N,["prevent"]),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-gray-900 dark:text-white"})])]),s("div",Og,[s("div",Kg,[s("div",Ug,[b(u(T),{icon:"mdi:lock-reset",class:"w-48 h-48"})]),s("div",$g,[s("div",null,[v[9]||(v[9]=s("h2",{class:"text-3xl font-bold"},"Reset Password",-1)),s("p",Xg,[b(u(T),{icon:"mdi:lock",class:"min-w-5 min-h-5 mr-2"}),v[8]||(v[8]=L(" Create a new password for your account "))])])])]),s("div",Wg,[s("div",Vg,[s("div",Gg,[h.value?(c(),p("div",jg,[s("div",Zg,[b(u(T),{icon:"mdi:alert-circle",class:"h-6 w-6 text-red-600 dark:text-red-300"})]),v[10]||(v[10]=s("h3",{class:"mt-3 text-lg font-medium text-gray-900 dark:text-white"},"Password Reset Error",-1)),s("p",Yg,_(f.value),1),s("div",Jg,[s("button",{type:"button",onClick:v[0]||(v[0]=()=>{N(),u(he).auth()}),class:"flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A]"}," Back to Login ")])])):m.value?(c(),p("div",m1,[s("div",h1,[b(u(T),{icon:"mdi:check",class:"h-6 w-6 text-green-600 dark:text-green-300"})]),v[14]||(v[14]=s("h3",{class:"mt-3 text-lg font-medium text-gray-900 dark:text-white"},"Password Reset Successful",-1)),v[15]||(v[15]=s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-300"}," Your password has been successfully reset. You can now log in with your new password. ",-1)),s("div",g1,[s("button",{type:"button",onClick:v[7]||(v[7]=()=>{N(),u(he).auth()}),class:"flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A]"}," Log In ")])])):(c(),p("form",{key:1,class:"space-y-6",onSubmit:w},[s("div",null,[v[11]||(v[11]=s("label",{for:"reset-email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email address ",-1)),s("div",Qg,[s("div",qg,[b(u(T),{icon:"mdi:email",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"reset-email","onUpdate:modelValue":v[1]||(v[1]=A=>y.value.email=A),type:"email",disabled:"",class:O(["block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm bg-gray-100 dark:bg-ww-blue-300",{"border-red-500":u(a).email}]),placeholder:"you@example.com"},null,2),[[qe,y.value.email]])]),u(a).email?(c(),p("p",e1,_(u(a).email[0]),1)):x("",!0)]),s("div",null,[v[12]||(v[12]=s("label",{for:"reset-password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," New Password ",-1)),s("div",t1,[s("div",o1,[b(u(T),{icon:"mdi:lock",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"reset-password","onUpdate:modelValue":v[2]||(v[2]=A=>y.value.password=A),type:d.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(a).password}]),placeholder:"••••••••"},null,10,s1),[[jt,y.value.password]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:v[3]||(v[3]=A=>d.value=!d.value)},[b(u(T),{icon:d.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Toggle password visibility"},null,8,["icon"])])]),u(a).password?(c(),p("p",a1,_(u(a).password[0]),1)):x("",!0)]),s("div",null,[v[13]||(v[13]=s("label",{for:"reset-password-confirm",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Confirm New Password ",-1)),s("div",r1,[s("div",i1,[b(u(T),{icon:"mdi:lock-check",class:"h-5 w-5 text-gray-400"})]),V(s("input",{id:"reset-password-confirm","onUpdate:modelValue":v[4]||(v[4]=A=>y.value.password_confirmation=A),type:d.value?"text":"password",required:"",class:O(["block w-full pl-10 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-[#F6B91A] focus:border-[#F6B91A] dark:bg-ww-blue-200 dark:text-white sm:text-sm",{"border-red-500":u(a).password_confirmation}]),placeholder:"••••••••"},null,10,n1),[[jt,y.value.password_confirmation]]),s("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:v[5]||(v[5]=A=>d.value=!d.value)},[b(u(T),{icon:d.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Toggle password visibility"},null,8,["icon"])])]),u(a).password_confirmation?(c(),p("p",l1,_(u(a).password_confirmation[0]),1)):x("",!0)]),V(s("input",{type:"hidden","onUpdate:modelValue":v[6]||(v[6]=A=>y.value.token=A)},null,512),[[qe,y.value.token]]),u(a).message&&!h.value?(c(),p("div",c1,_(u(a).message),1)):x("",!0),s("button",{type:"submit",disabled:u(o),class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[#17274F] bg-[#F6B91A] hover:bg-[#F6B91A]/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#F6B91A] disabled:opacity-50 disabled:cursor-not-allowed"},[u(o)?(c(),p("span",u1,"Resetting password...")):(c(),p("span",p1,"Reset Password"))],8,d1)],32))])])])])])),[[u(De),N]])}},y1=G(f1,[["__scopeId","data-v-9e761159"]]),N1={class:"text-gray-800 dark:text-gray-200"},v1={class:"relative"},b1={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},w1=ae({__name:"UpgradeThroughMobile",setup(i){const t=`${uo.assetsBaseUrl()}/plus/upgrade-through-mobile.mp4`,o=H(!1),a=H(null),r=()=>{o.value=!0};return Bt(()=>{a.value&&(a.value.pause(),a.value.src="")}),(n,l)=>(c(),p("div",N1,[l[0]||(l[0]=s("p",{class:"mt-5"},"We currently only support the purchase of a WeatherWise Plus Subscription through our Android and iOS apps. Search your App Store for: WeatherWise.app",-1)),s("div",v1,[s("video",{ref_key:"videoRef",ref:a,src:t,onLoadeddata:r,class:O(["video mx-auto mt-4 max-h-[70vh]",{invisible:!o.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,34),o.value?x("",!0):(c(),p("div",b1,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])]))}}),x1={class:"pb-10 mx-auto hyphens-auto w-full md:max-w-[60%] relative"},_1={class:"absolute top-0 right-0 z-50"},S1={class:"bg-gradient-to-tr from-ww-blue to-black rounded-t-lg p-5 text-white relative overflow-hidden"},k1={class:"flex items-center space-x-4"},A1={class:"flex items-center mt-2"},C1={class:"bg-white dark:bg-ww-blue dark:text-white shadow-xl rounded-b-lg"},T1={class:"p-5"},B1={class:"text-sm text-gray-600 dark:text-gray-400 mt-4 text-center"},D1={key:0,class:"my-10"},I1={key:0},E1={class:"p-5"},L1={name:"AppUpdates",props:["updates","limit"],data(){return{listLimit:this.limit}}},R1=Object.assign(L1,{emits:["close","share"],setup(i,{emit:e}){const t=e;return(o,a)=>V((c(),p("div",x1,[s("div",_1,[s("button",{onClick:a[0]||(a[0]=r=>t("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",S1,[s("div",k1,[s("div",null,[a[3]||(a[3]=s("h2",{class:"text-3xl"},[s("span",{class:"font-bold capitalize"},"🚀 App Updates")],-1)),s("p",A1,[b(u(T),{icon:"mdi:clock-outline",class:"min-w-5 min-h-5 mr-2"}),L(" Last update: "+_(u(Pe)(i.updates.at(0).released_at)),1)])])])]),s("div",C1,[s("div",T1,[s("div",null,[(c(!0),p(z,null,ee(i.updates.slice(0,o.listLimit),(r,n)=>(c(),p(z,null,[(c(),q($s(r.component))),s("div",B1," Released: "+_(u(js)(r.released_at)),1),n+1!==i.updates.length?(c(),p("hr",D1)):x("",!0)],64))),256))]),o.listLimit<i.updates.length?(c(),p("div",I1,[s("button",{onClick:a[1]||(a[1]=r=>o.listLimit+=3),class:"w-full bg-ww-blue hover:bg-ww-blue-700 dark:border text-white font-bold py-2 px-4 rounded"}," Load More... ")])):x("",!0)]),s("div",E1,[s("button",{onClick:a[2]||(a[2]=r=>t("close")),class:"w-full bg-ww-blue hover:bg-ww-blue-700 dark:border text-white font-bold py-2 px-4 rounded"}," Close ")]),a[4]||(a[4]=s("div",{class:"border-t border-gray-100 dark:border-ww-blue-200 hidden"},[s("div",{class:"px-8 py-4"},[s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"})])],-1))])])),[[u(De),[()=>t("close")]]])}}),F1={class:"pb-10 mx-auto hyphens-auto w-full md:max-w-[60%] relative"},M1={class:"absolute top-0 right-0 z-50"},P1={class:"bg-gradient-to-tr from-blue-600 to-purple-900 rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},H1={class:"absolute top-0 right-0 opacity-10"},z1={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},O1={class:"p-4 md:p-8"},K1={class:"text-center mb-8"},U1={class:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"},$1={class:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto break-keep"},X1={class:"bg-blue-50 dark:bg-ww-blue-200 rounded-xl p-6 mb-8"},W1={class:"flex items-center mb-4 justify-center"},V1={class:"mt-4"},G1={class:"text-xl font-bold mb-4 text-[#FF5722] dark:text-[#F6B91A] text-center"},j1={class:"flex justify-center"},Z1={name:"WinBackModal"},Y1=Object.assign(Z1,{emits:["close","resubscribe"],setup(i,{emit:e}){const t=e;return(o,a)=>V((c(),p("div",F1,[s("div",M1,[s("button",{onClick:a[0]||(a[0]=r=>t("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",P1,[s("div",H1,[b(u(T),{icon:"ph:crown-bold",class:"w-48 h-48"})]),a[2]||(a[2]=s("div",{class:"flex items-center space-x-4"},[s("div",null,[s("h2",{class:"text-3xl"},[s("span",{class:"font-bold"},"We Miss You!")])])],-1))]),s("div",z1,[s("div",O1,[s("div",K1,[s("h3",U1,[a[3]||(a[3]=L(" Your ")),b(Ke,{textSizeClass:"text-base",show:!0}),a[4]||(a[4]=L(" features have expired "))]),s("p",$1,[a[5]||(a[5]=L(" We'd love to have you back! Resubscribe today to unlock the full WeatherWise experience with all ")),b(Ke,{show:!0}),a[6]||(a[6]=L(" features available instantly. "))])]),s("div",X1,[s("div",W1,[b(u(T),{icon:"mdi:star-off",class:"w-8 h-8 text-orange-500 mr-2"}),a[7]||(a[7]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"What You're Missing",-1))]),s("div",V1,[s("h3",G1,[b(Ke,{textSizeClass:"text-base",show:!0}),a[8]||(a[8]=L(" Benefits:"))]),a[9]||(a[9]=ye('<ul class="space-y-3"><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Globe Projection: 3D Map</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Split View Radar Visuals</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Radar Smoothing</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Playback with up to 100 Radar Scans</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">RenderStream Technology</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Enhanced Lightning Data</span></li></ul>',1))])]),s("div",j1,[s("button",{onClick:a[1]||(a[1]=r=>t("resubscribe")),class:"bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center text-lg hover:shadow-lg transition-all duration-300 hover:scale-105"},[b(u(T),{icon:"mdi:crown",class:"mr-2 text-xl"}),a[10]||(a[10]=L(" Resubscribe Now "))])])]),a[11]||(a[11]=s("div",{class:"border-t border-gray-100 dark:border-ww-blue-200"},[s("div",{class:"px-8 py-4"},[s("p",{class:"text-sm text-gray-500 dark:text-gray-400 text-center"},[L(" If you have any questions about your subscription, "),s("a",{href:"mailto:support@weatherwise.com",class:"text-blue-600 dark:text-blue-400 hover:underline"},"please contact us.")])])],-1))])])),[[u(De),[()=>t("close")]]])}}),J1={class:"pb-10 mx-auto hyphens-auto w-full md:max-w-[60%] relative"},Q1={class:"absolute top-0 right-0 z-50"},q1={class:"bg-gradient-to-tr from-[#3b82f6] to-[#8b5cf6] rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},ef={class:"absolute top-0 right-0 opacity-10"},tf={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},of={class:"p-4 md:p-8"},sf={class:"bg-blue-50 dark:bg-ww-blue-200 rounded-xl p-6 mb-8"},af={class:"flex items-center mb-4 justify-center"},rf={class:"flex flex-col justify-center gap-4"},nf={name:"CreateAccountModal"},lf=Object.assign(nf,{emits:["close","createAccount","signin"],setup(i,{emit:e}){const t=e;return(o,a)=>V((c(),p("div",J1,[s("div",Q1,[s("button",{onClick:a[0]||(a[0]=r=>t("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",q1,[s("div",ef,[b(u(T),{icon:"mdi:account-multiple-plus",class:"w-48 h-48"})]),a[3]||(a[3]=s("div",{class:"flex items-center space-x-4"},[s("div",null,[s("h2",{class:"text-3xl"},[s("span",{class:"font-bold"},"Complete Your Setup")])])],-1))]),s("div",tf,[s("div",of,[a[8]||(a[8]=s("div",{class:"text-center mb-8"},[s("h3",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"}," Create Your WeatherWise Account "),s("p",{class:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto break-keep"}," Thanks for subscribing! Create an account to unlock all the benefits of your subscription across all your devices. ")],-1)),s("div",sf,[s("div",af,[b(u(T),{icon:"mdi:star",class:"w-8 h-8 text-[#F6B91A] mr-2"}),a[4]||(a[4]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Account Benefits",-1))]),a[5]||(a[5]=ye('<div class="mt-4"><ul class="space-y-3"><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90 break-keep">Use your subscription on all your devices</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90 break-keep">Access our powerful desktop application</span></li></ul></div>',1))]),s("div",rf,[s("button",{onClick:a[1]||(a[1]=r=>t("createAccount")),class:"bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center text-lg hover:shadow-lg transition-all duration-300 hover:scale-105"},[b(u(T),{icon:"mdi:account-plus",class:"mr-2 text-xl"}),a[6]||(a[6]=L(" Create Account "))]),s("button",{onClick:a[2]||(a[2]=r=>t("signin")),class:"border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-ww-blue-200 text-gray-800 dark:text-gray-200 font-medium py-4 px-8 rounded-lg flex items-center justify-center"},[b(u(T),{icon:"mdi:login",class:"mr-2"}),a[7]||(a[7]=L(" Log In "))])])])])])),[[u(De),[()=>t("close")]]])}}),cf={class:"pb-10 mx-auto hyphens-auto w-full md:max-w-[60%] relative"},df={class:"absolute top-0 right-0 z-50"},uf={class:"bg-gradient-to-tr from-[#F6B91A] to-[#FF5722] rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},pf={class:"absolute top-0 right-0 opacity-10"},mf={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},hf={class:"p-4 md:p-8"},gf={class:"text-center mb-8"},ff={class:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto break-keep"},yf={class:"bg-blue-50 dark:bg-ww-blue-200 rounded-xl p-6 mb-8"},Nf={class:"flex items-center mb-4 justify-center"},vf={class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},bf={class:"flex flex-col gap-4"},wf={name:"SubscribePromptModal"},xf=Object.assign(wf,{emits:["close","subscribe","exploreApp"],setup(i,{emit:e}){const t=e;return(o,a)=>V((c(),p("div",cf,[s("div",df,[s("button",{onClick:a[0]||(a[0]=r=>t("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",uf,[s("div",pf,[b(u(T),{icon:"mdi:rocket-launch",class:"w-48 h-48"})]),a[3]||(a[3]=s("div",{class:"flex items-center space-x-4"},[s("div",null,[s("h2",{class:"text-3xl"},[s("span",{class:"font-bold"},"Upgrade Your Experience")])])],-1))]),s("div",mf,[s("div",hf,[s("div",gf,[a[6]||(a[6]=s("h3",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-4"}," Welcome to WeatherWise! ",-1)),s("p",ff,[a[4]||(a[4]=L(" Thanks for creating an account. Unlock the full power of WeatherWise with a ")),b(Ke,{show:!0}),a[5]||(a[5]=L(" subscription. "))])]),s("div",yf,[s("div",Nf,[s("h3",vf,[b(Ke,{textSizeClass:"text-base",show:!0}),a[7]||(a[7]=L(" Features"))])]),a[8]||(a[8]=ye('<div class="mt-4"><ul class="space-y-3"><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Globe Projection: 3D Map</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Split View Radar Visuals</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Radar Smoothing</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Playback with up to 100 Radar Scans</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">RenderStream Technology</span></li><li class="flex items-center gap-3"><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center"><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90">Enhanced Lightning Data</span></li></ul></div>',1))]),s("div",bf,[s("button",{onClick:a[1]||(a[1]=r=>t("subscribe")),class:"bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-white font-bold py-4 px-8 rounded-lg flex items-center justify-center text-lg hover:shadow-lg transition-all duration-300 hover:scale-105"},[b(u(T),{icon:"mdi:crown",class:"mr-2 text-xl"}),a[9]||(a[9]=L(" Subscribe Now "))]),s("button",{onClick:a[2]||(a[2]=r=>t("exploreApp")),class:"border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-ww-blue-200 text-gray-800 dark:text-gray-200 font-medium py-4 px-8 rounded-lg flex items-center justify-center"},[b(u(T),{icon:"mdi:compass",class:"mr-2"}),a[10]||(a[10]=L(" Explore Free Version "))])])])])])),[[u(De),[()=>t("close")]]])}}),_f={class:"video-container"},Sf={key:0,class:"retry-message"},kf={__name:"StormChaserVideo",props:{name:{type:String},videoSource:{type:String}},emits:["close"],setup(i,{emit:e}){const t=i,o=e,a=H(!0),r=At("videoRef");let n=null,l=null;const d=H(0),m=H(""),h=H(!1),f=()=>{a.value=!1,n&&n.dispose(),o("close")},y=S=>5e3,N=async()=>{h.value=!0,d.value++;const S=y(d.value);m.value=`Connection issue. Retrying in ${Math.round(S/1e3)} seconds... (Retries: ${d.value})`,await new Promise(v=>{l=setTimeout(v,S)}),n&&n.load()},w=S=>{document.querySelectorAll(".active-chaser-dialog").forEach(v=>{v.classList.remove("active-chaser-dialog")}),S.target.closest(".p-dialog-mask").classList.add("active-chaser-dialog")};return vs(()=>{r.value&&(n=Ai(r.value,{autoplay:!0,controls:!1,controlBar:{fullscreenToggle:!1},playsinline:!0,disablePictureInPicture:!0,responsive:!0,fluid:!0,sources:[{src:t.videoSource,type:"application/x-mpegURL"}],html5:{hls:{overrideNative:!0,enableLowInitialPlaylist:!0}}}),n.on("ready",()=>{console.log("Player is ready"),n.tech().on("retryplaylist",()=>{N()}),n.tech().on("canplay",()=>{d.value=0,m.value="",h.value=!1,l&&clearTimeout(l)})}),n.on("error",S=>{console.error("Video player error:",S),N()}),n.on("dispose",()=>{d.value=0,m.value="",h.value=!1,l&&clearTimeout(l)}))}),(S,v)=>(c(),q(u(Xs),{visible:a.value,"onUpdate:visible":v[0]||(v[0]=A=>a.value=A),header:t.name,maximizable:!1,draggable:!0,style:{width:"25rem"},autoZIndex:!0,pt:{root:{class:["!w-[90%]","sm:!w-2/4","dark:!bg-ww-blue","dark:!text-white"]},header:{class:["!py-0"]},pcCloseButton:{root:{class:["dark:!text-white","dark:hover:!bg-transparent"]}}},onMousedown:w,onHide:f},{default:ie(()=>[s("div",_f,[s("video",{ref_key:"videoRef",ref:r,class:"video-js vjs-default-skin vjs-big-play-centered",width:"100%",height:"auto",controlslist:"nofullscreen nodownload",playsinline:"true"},null,512),h.value?(c(),p("div",Sf,_(m.value),1)):x("",!0)])]),_:1},8,["visible","header"]))}},Af=G(kf,[["__scopeId","data-v-e2029ece"]]),Cf={class:"flex items-center"},Tf={class:"text-2xl font-bold text-gray-900 dark:text-white"},Bf=["src","alt"],Df={class:"space-y-4 dark:text-white"},If={class:"flex justify-between"},Ef={__name:"UserLocationModal",props:["feature"],setup(i){const e=i,t=H(!0),o=Jt(),a=async()=>{if(console.log("Deleting custom location"),!window.confirm("Are you sure you want to delete this location?"))return;(await o.destroy(e.feature.properties._id)).error===null&&o.removeLocation(e.feature),t.value=!1},r=()=>{t.value=!1},n=o.iconUrl(e.feature.properties.icon);return(l,d)=>(c(),q(u(Xs),{modal:"",visible:t.value,"onUpdate:visible":d[0]||(d[0]=m=>t.value=m),onHide:r,draggable:!1,dismissableMask:!0,pt:{headerTitle:{class:"text-gray-900 dark:text-white text-2xl font-bold"},root:{class:"border dark:!border-gray-700 dark:!bg-ww-blue"},header:{class:"border-b-0 mb-3"},closeButton:{class:"hover:bg-gray-100 dark:hover:bg-ww-blue-100 rounded-full size-8 flex items-center justify-center"},closeButtonIcon:{class:"text-gray-700 dark:text-gray-300"},content:{class:"p-0 pt-0"}}},{header:ie(()=>[s("div",Cf,[s("h2",Tf,[s("img",{src:u(n),class:"w-6 h-auto relative top-[-1px] mr-2 dark:invert",alt:e.feature.properties.name},null,8,Bf),L(_(i.feature.properties.name),1)])])]),footer:ie(()=>[s("div",If,[b(u(ro),{label:"Delete",text:"",severity:"danger",variant:"outlined",onClick:a})])]),default:ie(()=>[s("div",Df,[s("div",null,[d[1]||(d[1]=s("strong",null,"Coordinates:",-1)),L(" "+_(i.feature.geometry.coordinates.slice(0,2).reverse().map(m=>m.toFixed(4)).join(", ")),1)])])]),_:1},8,["visible"]))}},Lf=G(Ef,[["__scopeId","data-v-9b7c31f9"]]),Rf={class:"pb-4 space-y-4"},Ff={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Mf={class:"bg-white dark:bg-ww-blue-200 rounded-lg p-6 m-4 max-w-md w-full"},Pf={class:"text-center"},Hf={class:"text-sm text-gray-600 dark:text-white mb-4"},zf={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Of={key:0,class:"text-sm text-red-600 dark:text-red-400 mt-2"},Kf={key:1,class:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-gray-50 dark:bg-ww-blue-100/20"},Uf={class:"flex flex-col sm:flex-row gap-3"},$f=["disabled"],Xf=["disabled"],Wf={key:2,class:"border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-ww-blue-100/20"},Vf=["disabled"],Gf={class:"flex items-center space-x-3"},jf={key:0,class:"px-4 pb-4 space-y-3 border-t border-gray-200 dark:border-gray-700 pt-4"},Zf={class:"max-w-xl"},Yf=["disabled"],Jf={class:"flex flex-col items-center"},Qf={class:"mb-2 text-sm font-semibold text-gray-700 dark:text-gray-200"},qf={key:0,class:"mt-3 text-sm text-green-600 dark:text-green-400 font-bold"},ey={key:1,class:"mt-3 text-sm text-red-600 dark:text-red-200 font-bold"},ty={key:0,class:"mt-4 border border-red-200 dark:border-red-700 rounded-lg bg-red-50 dark:bg-red-900/20 p-4"},oy={class:"flex items-center justify-between mb-3"},sy={class:"font-semibold text-red-800 dark:text-red-200 flex items-center"},ay={class:"max-h-32 overflow-y-auto"},ry={class:"text-sm text-red-700 dark:text-red-300 space-y-1"},iy={key:3},ny={class:"flex items-center justify-between mb-3"},ly={key:0,class:"mb-4 space-y-3"},cy={class:"relative"},dy={class:"text-xs text-gray-600 dark:text-white"},uy={key:1,class:"text-center py-8 text-gray-600 dark:text-white"},py={key:2,class:"text-center py-8 text-gray-600 dark:text-white"},my={key:3,class:"max-h-96 overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-lg"},hy={class:"p-2 space-y-2"},gy=["onClick","title"],fy={class:"flex items-center space-x-3 flex-1 min-w-0 pointer-events-none"},yy=["src","alt"],Ny={class:"min-w-0 flex-1"},vy={class:"font-medium text-gray-900 dark:text-gray-100 truncate"},by={class:"text-sm text-gray-600 dark:text-white"},wy=["onClick"],xy={key:4,class:"mt-4 flex items-center justify-center"},_y={class:"text-sm text-gray-600 dark:text-white mx-4"},Sy={key:4,class:"text-center pt-8 pb-4 text-gray-600 dark:text-white"},ky={class:"mt-8"},Zo=20,Ay={__name:"UserLocationsManagerModal",setup(i){const e=H(!0),t=Jt(),o=Uo(),a=xo(),r=H([]),n=H(!1),l=H(""),d=H(1),m=H(!1),h=H(!1),f=H(!1),y=H(!1),N=H(""),w=H(""),S=H(null),v=H({current:0,total:0,errors:[]}),A=de(()=>o.mapLayerOn),B=de(()=>{if(!l.value)return r.value;const oe=l.value.toLowerCase();return r.value.filter(W=>W.properties.name.toLowerCase().includes(oe)||W.properties.icon.toLowerCase().includes(oe)||K(W.geometry.coordinates).toLowerCase().includes(oe))}),I=de(()=>{const oe=(d.value-1)*Zo,W=oe+Zo;return B.value.slice(oe,W)}),R=de(()=>Math.ceil(B.value.length/Zo)),M=de(()=>B.value.length>Zo);tt(l,()=>{d.value=1}),tt(h,oe=>{oe||(N.value="",w.value="",f.value=!1)});const D=Be(async(oe=!1)=>{var W,re,Ee;n.value=!0;try{if(a.isAuthenticated)if(!oe&&A.value){const Xe=((W=t.getLocations)==null?void 0:W.call(t))||[];r.value=Xe}else await((re=t.fetchData)==null?void 0:re.call(t)),r.value=((Ee=t.getLocations)==null?void 0:Ee.call(t))||[]}catch(Xe){console.error("Failed to load My locations:",Xe),r.value=[]}finally{n.value=!1}},300),k=()=>D(!0),F=async()=>{await t.toggle(),await D()},E=async oe=>{if(window.confirm(`Are you sure you want to delete "${oe.properties.name}"?`))try{const re=await t.destroy(oe.properties._id);re.error===null?(t.removeLocation(oe),await D()):(console.error("Failed to delete location:",re.error),alert("Failed to delete location. Please try again."))}catch(re){console.error("Error deleting location:",re),alert("Failed to delete location. Please try again.")}},K=oe=>oe.slice(0,2).reverse().map(W=>W.toFixed(4)).join(", "),U=()=>{A.value||t.show(),o.setSetterUI(!0),e.value=!1},X=oe=>{const[W,re]=oe.geometry.coordinates;A.value||t.show(),g.flyTo({center:[W,re],zoom:10,essential:!0}),e.value=!1},J=()=>{m.value||(e.value=!1)},$=oe=>{oe.preventDefault(),oe.stopPropagation(),oe.type==="dragenter"||oe.type==="dragover"?y.value=!0:oe.type==="dragleave"&&(y.value=!1)},ce=async oe=>{var W;oe.preventDefault(),oe.stopPropagation(),y.value=!1,(W=oe.dataTransfer)!=null&&W.files&&oe.dataTransfer.files.length>0&&await me(oe.dataTransfer.files[0])},ue=async oe=>{const W=oe.target;W.files&&W.files.length>0&&await me(W.files[0])},se=oe=>oe.name.toLowerCase().endsWith(".json"),me=async oe=>{if(N.value="",w.value="",f.value=!1,!se(oe)){w.value="Only JSON files are allowed",je();return}try{const W=await oe.text();await Re(W)}catch(W){console.error("Error reading file:",W),w.value=`Failed to read ${oe.name}`}finally{je()}},Re=async oe=>{try{const W=JSON.parse(oe);if(!Array.isArray(W)){w.value="JSON file must contain an array of locations";return}if(W.length===0){w.value="JSON file contains no locations";return}const re=[];if(W.forEach((Ee,Xe)=>{(!Ee.name||typeof Ee.name!="string")&&re.push(`Location ${Xe+1}: missing or invalid 'name'`),(!Ee.lat||typeof Ee.lat!="number")&&re.push(`Location ${Xe+1}: missing or invalid 'lat'`),(!Ee.lon||typeof Ee.lon!="number")&&re.push(`Location ${Xe+1}: missing or invalid 'lon'`)}),re.length>0){w.value=`Validation errors: ${re.slice(0,3).join(", ")}${re.length>3?"...":""}`;return}await Ue(W)}catch(W){console.error("Error parsing JSON:",W),w.value="Invalid JSON format"}},Ue=async oe=>{var Xe;m.value=!0,v.value={current:0,total:oe.length,errors:[]};const W=[],re=new Set,Ee=(pt,Ze)=>{const Fe=`${pt}: ${Ze}`;re.add(Fe),v.value.errors=Array.from(re)};try{A.value||await t.show();for(let pt=0;pt<oe.length;pt++){const Ze=oe[pt];v.value.current=pt+1;try{const Fe=await t.store(Ze.name.trim(),"marker",Ze.lon,Ze.lat);if((Fe==null?void 0:Fe.error)===null){const Z=ge(Fe.data);t.pushLocation(Z),W.push(Ze.name)}else Ee(Ze.name,((Xe=Fe==null?void 0:Fe.error)==null?void 0:Xe.message)||"Unknown error")}catch(Fe){console.error(`Error importing ${Ze.name}:`,Fe),Ee(Ze.name,Fe.message||"Unknown error")}await Zt(200)}W.length>0&&(N.value=`Successfully imported ${W.length} of ${oe.length} locations`,await k()),v.value.errors.length>0?(console.error("Bulk import errors:",v.value.errors),W.length===0?w.value=`Failed to import any locations. ${v.value.errors.length} error(s) occurred.`:w.value=`${v.value.errors.length} error(s) occurred during import.`,f.value=!0):W.length>0&&setTimeout(()=>{h.value=!1},2e3)}finally{m.value=!1}},je=()=>{S.value&&(S.value.value="")},it=()=>{e.value=!1,he.auth()},ft=()=>{e.value=!1,he.authRegister()};return Ge(()=>{D()}),(oe,W)=>(c(),q(u(Xs),{modal:"",visible:e.value,"onUpdate:visible":W[8]||(W[8]=re=>e.value=re),onHide:J,dismissableMask:!m.value,draggable:!1,style:{width:"90vw",maxWidth:"600px"},class:"custom-dialog",header:"My Locations",pt:{headerTitle:{class:"text-gray-900 dark:text-white text-2xl font-bold"},root:{class:"border dark:!border-gray-700 dark:!bg-ww-blue"},header:{class:"border-b-0 mb-3"},closeButton:{class:`hover:bg-gray-100 dark:hover:bg-ww-blue-100 rounded-full size-8 flex items-center justify-center ${m.value?"opacity-50 cursor-not-allowed":""}`},closeButtonIcon:{class:"text-gray-700 dark:text-gray-300"},content:{class:"p-0 pt-0"}},closable:!m.value},{header:ie(()=>W[9]||(W[9]=[s("div",{class:"flex items-center"},[s("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"My Locations")],-1)])),default:ie(()=>[s("div",Rf,[m.value?(c(),p("div",Ff,[s("div",Mf,[s("div",Pf,[b(u(T),{icon:"mdi:loading",class:"animate-spin size-8 mx-auto mb-4 text-blue-500"}),W[10]||(W[10]=s("h3",{class:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100"}," Importing Locations ",-1)),s("p",Hf," Processing "+_(v.value.current)+" of "+_(v.value.total)+" locations ",1),s("div",zf,[s("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:pe({width:`${v.value.current/v.value.total*100}%`})},null,4)]),v.value.errors.length>0?(c(),p("p",Of,_(v.value.errors.length)+" error(s) occurred ",1)):x("",!0)])])])):x("",!0),u(a).isAuthenticated?(c(),p("div",Kf,[s("div",Uf,[s("button",{onClick:P(F,["prevent"]),type:"button",class:O(["flex-1 text-white font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",{"bg-green-700 hover:bg-green-800":!A.value,"bg-red-500 hover:bg-red-600":A.value}]),disabled:m.value||n.value},_(A.value?"Hide":"Show on Map"),11,$f),s("button",{onClick:P(U,["prevent"]),type:"button",class:"flex-1 text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",disabled:m.value||n.value}," Add New Location ",8,Xf)])])):x("",!0),u(a).isAuthenticated?(c(),p("div",Wf,[s("div",null,[s("button",{onClick:W[0]||(W[0]=re=>h.value=!h.value),disabled:m.value,class:"w-full flex items-center justify-between text-left transition-colors hover:bg-gray-100 dark:hover:bg-ww-blue-100/30 rounded-lg p-2 disabled:opacity-50 disabled:cursor-not-allowed"},[s("div",Gf,[b(u(T),{icon:"mdi:upload-multiple",class:"size-5 text-blue-600 dark:text-blue-400 flex-shrink-0"}),W[11]||(W[11]=s("div",null,[s("h3",{class:"font-semibold text-gray-900 dark:text-white"},"Bulk Import"),s("p",{class:"text-sm text-gray-600 dark:text-white"},"Upload multiple locations from a JSON file")],-1))]),b(u(T),{icon:h.value?"mdi:chevron-up":"mdi:chevron-down",class:"size-5 text-gray-400 dark:text-gray-500 transition-transform duration-200 flex-shrink-0"},null,8,["icon"])],8,Vf)]),h.value?(c(),p("div",jf,[W[13]||(W[13]=s("div",{class:"text-sm text-gray-600 dark:text-white"},[L(" Upload a JSON file with an array of locations. Each location should have "),s("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"name"),L(", "),s("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"lat"),L(", and "),s("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"lon"),L(" properties. ")],-1)),s("div",Zf,[s("form",{onDragenter:$,onDragover:$,onDragleave:$,onDrop:ce,onSubmit:W[1]||(W[1]=P(()=>{},["prevent"])),class:"relative"},[s("input",{type:"file",accept:".json",onChange:ue,disabled:m.value,ref_key:"fileInputRef",ref:S,class:"absolute inset-0 w-full h-full opacity-0 z-10 cursor-pointer disabled:cursor-not-allowed"},null,40,Yf),s("div",{class:O(["p-6 border-2 border-dashed rounded-lg text-center transition-colors",y.value?"border-blue-400 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-700",w.value?"border-red-400 bg-red-50 dark:bg-red-900":"",m.value?"opacity-50 cursor-not-allowed":""])},[s("div",Jf,[b(u(T),{icon:"mdi:file-upload",class:"size-8 mb-2 text-gray-400"}),s("p",Qf,_(m.value?"Import in progress...":"Drop JSON file here or click to upload"),1),W[12]||(W[12]=s("p",{class:"text-xs text-gray-50 dark:text-white"}," Only .json files are accepted ",-1)),N.value?(c(),p("p",qf,_(N.value),1)):x("",!0),w.value?(c(),p("p",ey,_(w.value),1)):x("",!0)])],2)],32)]),f.value&&v.value.errors.length>0?(c(),p("div",ty,[s("div",oy,[s("h4",sy,[b(u(T),{icon:"mdi:alert-circle",class:"size-5 mr-2"}),L(" Import Errors ("+_(v.value.errors.length)+") ",1)]),b(u(ro),{onClick:W[2]||(W[2]=re=>f.value=!1),severity:"secondary",text:"",size:"small",class:"text-red-600 dark:text-red-400",pt:{root:{class:"text-xs font-medium hover:bg-red-100 dark:hover:bg-red-800/30"}}},{default:ie(()=>[b(u(T),{icon:"mdi:close",class:"size-4"})]),_:1})]),s("div",ay,[s("ul",ry,[(c(!0),p(z,null,ee(v.value.errors,re=>(c(),p("li",{key:re,class:"flex items-start"},[b(u(T),{icon:"mdi:circle-small",class:"size-4 mt-0.5 mr-1 flex-shrink-0"}),s("span",null,_(re),1)]))),128))])])])):x("",!0),W[14]||(W[14]=s("details",{class:"text-sm"},[s("summary",{class:"cursor-pointer text-gray-700 dark:text-gray-300 font-medium hover:text-gray-900 dark:hover:text-gray-100"}," Example JSON format "),s("pre",{class:"mt-2 p-3 bg-gray-100 dark:bg-gray-800 dark:text-white rounded text-xs overflow-x-auto"},[s("code",null,`[
  {
    "name": "Las Vegas",
    "lat": 36.1667474057883,
    "lon": -115.14871138330811
  },
  {
    "name": "New York City", 
    "lat": 40.7128,
    "lon": -74.0060
  }
]`)])],-1))])):x("",!0)])):x("",!0),u(a).isAuthenticated?(c(),p("div",iy,[s("div",ny,[W[16]||(W[16]=s("h3",{class:"font-semibold text-gray-900 dark:text-gray-100"},"Locations",-1)),b(u(ro),{onClick:u(D),loading:n.value,severity:"secondary",size:"small",text:"",pt:{root:{class:"text-sm font-medium dark:!text-white hover:dark:!text-black"},icon:{class:"mr-1"}}},{default:ie(()=>[b(u(T),{icon:"mdi:refresh",class:"mr-1"}),W[15]||(W[15]=L(" Refresh "))]),_:1},8,["onClick","loading"])]),r.value.length>0?(c(),p("div",ly,[s("div",cy,[b(u(T),{icon:"mdi:magnify",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-4 h-4"}),V(s("input",{"onUpdate:modelValue":W[3]||(W[3]=re=>l.value=re),type:"text",placeholder:"Search locations...",class:"w-full pl-10 pr-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-ww-blue-200 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-transparent"},null,512),[[qe,l.value]])]),s("div",dy," Showing "+_(I.value.length)+" of "+_(r.value.length)+" locations ",1)])):x("",!0),n.value?(c(),p("div",uy,[b(u(T),{icon:"mdi:loading",class:"animate-spin size-6 mx-auto mb-2"}),W[17]||(W[17]=L(" Loading locations... "))])):r.value.length===0?(c(),p("div",py,[b(u(T),{icon:"mdi:map-marker-off",class:"size-12 mx-auto mb-3 text-gray-400"}),W[18]||(W[18]=s("p",null,"No locations yet",-1)),W[19]||(W[19]=s("p",{class:"text-sm mt-2"},"Click 'Add New Location' to add your first location!",-1))])):(c(),p("div",my,[s("div",hy,[(c(!0),p(z,null,ee(I.value,re=>(c(),p("div",{key:re.properties._id,class:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-ww-blue-100/20 transition-colors cursor-pointer",onClick:Ee=>X(re),title:`Click to fly to ${re.properties.name}`},[s("div",fy,[s("img",{src:u(t).iconUrl(re.properties.icon),alt:re.properties.icon,class:"size-6 flex-shrink-0 dark:invert"},null,8,yy),s("div",Ny,[s("p",vy,_(re.properties.name),1),s("p",by,_(K(re.geometry.coordinates)),1)])]),s("button",{onClick:P(Ee=>E(re),["stop"]),class:"flex items-center justify-center w-8 h-8 p-1 border border-gray-200 dark:border-gray-700 rounded-full bg-white dark:bg-ww-blue-200 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:border-red-300 dark:hover:border-red-600 transition-all duration-200 flex-shrink-0 ml-2",title:"Delete location"},[b(u(T),{icon:"mdi:delete",class:"w-4 h-4"})],8,wy)],8,gy))),128))])])),M.value?(c(),p("div",xy,[b(u(ro),{label:"Previous",onClick:W[4]||(W[4]=re=>d.value-=1),disabled:d.value===1,severity:"secondary",size:"small",pt:{root:{class:"text-sm font-medium mr-2"},icon:{class:"mr-1"}}},null,8,["disabled"]),s("span",_y," Page "+_(d.value)+" of "+_(R.value)+" ("+_(B.value.length)+" total) ",1),b(u(ro),{label:"Next",onClick:W[5]||(W[5]=re=>d.value+=1),disabled:d.value===R.value,severity:"secondary",size:"small",pt:{root:{class:"text-sm font-medium ml-2"},icon:{class:"ml-1"}}},null,8,["disabled"])])):x("",!0)])):x("",!0),u(a).isAuthenticated?x("",!0):(c(),p("div",Sy,[b(u(T),{icon:"mdi:account-alert",class:"size-16 mx-auto mb-4 text-gray-400"}),W[20]||(W[20]=s("h3",{class:"text-lg font-semibold mb-2 text-gray-900 dark:text-gray-100"},"Authentication Required",-1)),s("div",ky,[s("button",{onClick:W[6]||(W[6]=P(re=>it(),["prevent"])),type:"button",class:"flex-1 text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5"}," Login "),s("button",{onClick:W[7]||(W[7]=P(re=>ft(),["prevent"])),type:"button",class:"flex-1 text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5 ml-3"}," Register ")]),W[21]||(W[21]=s("p",{class:"mt-8 dark:text-white"},"My Locations allows you to save and organize your favorite places on the map.",-1))]))])]),_:1},8,["visible","dismissableMask","pt","closable"]))}},_o={__name:"ToggleSwitch",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const e=_r(i,"modelValue");return(t,o)=>(c(),q(u(Ci),{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),"pt:handle:class":"!top-2.5 !h-5 !w-5 !bg-white border !border-gray-300","pt:root:class":"!w-11 !h-6","pt:slider:class":{"!bg-gray-200":!e.value,"!bg-blue-600":e.value}},null,8,["modelValue","pt:slider:class"]))}},Cy={class:"my-2"},Ty={class:"text-xl font-bold text-gray-800 dark:text-slate-300 mb-4"},By={class:"space-y-4"},Dy={key:0,class:"bg-white/50 dark:bg-ww-blue/50 rounded-lg"},Iy={class:"space-y-4"},Ey={class:"space-y-1"},Ly=["value"],Ry={class:"flex justify-between px-1 pointer-events-none"},Fy={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},My={class:"grid grid-cols-3 gap-4"},Py=["value"],Hy=["value"],zy={key:1,class:"bg-white/50 dark:bg-ww-blue/50 rounded-lg"},Oy={class:"space-y-6"},Ky={class:"grid grid-cols-3 gap-4"},Uy={key:0},$y={class:"flex items-center"},Xy=["value"],Wy={key:1},Vy=["value"],Gy={key:0},jy={class:"flex items-center justify-between mb-2"},Zy={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},Yy={class:"space-y-1"},Jy=["value"],Qy={key:1},qy={class:"flex items-center justify-between mb-1"},eN={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},tN={class:"space-y-1"},oN=["value"],sN={key:2},aN={class:"flex items-center justify-between mb-1"},rN=["value"],iN={key:3},nN={class:"flex items-center justify-between mb-1"},lN={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},cN={class:"space-y-1"},dN=["value"],uN=ae({__name:"RegionSettings",props:{title:{},kind:{},settings:{}},emits:["update:settings","change"],setup(i,{emit:e}){const t=i,o=e,a=(r,n)=>{const l=JSON.parse(JSON.stringify(t.settings)),d=r.split(".");let m=l;for(let h=0;h<d.length-1;h++)m=m[d[h]];m[d[d.length-1]]=n,o("update:settings",l),o("change")};return(r,n)=>(c(),p("div",Cy,[s("h3",Ty,_(r.title),1),s("div",By,[["country","state","county"].includes(r.kind)?(c(),p("div",Dy,[n[16]||(n[16]=s("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Borders",-1)),s("div",Iy,[s("div",null,[n[12]||(n[12]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1 pointer-events-none"}," Thickness ",-1)),s("div",Ey,[s("input",{type:"range",value:r.settings.border.thickness,min:"0",max:"8",step:"0.5",class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider",onInput:n[0]||(n[0]=l=>a("border.thickness",parseFloat(l.target.value)))},null,40,Ly),s("div",Ry,[n[10]||(n[10]=s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Thin",-1)),s("span",Fy,_(r.settings.border.thickness)+"px",1),n[11]||(n[11]=s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Thick",-1))])])]),s("div",My,[s("div",null,[n[14]||(n[14]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Style ",-1)),s("select",{value:r.settings.border.style,onChange:n[1]||(n[1]=l=>a("border.style",l.target.value)),class:"bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg block w-full p-2.5"},n[13]||(n[13]=[s("option",{value:"solid"},"Solid",-1),s("option",{value:"dashed"},"Dashed",-1)]),40,Py)]),s("div",null,[n[15]||(n[15]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1 pointer-events-none"}," Color ",-1)),s("input",{type:"color",value:r.settings.border.color,class:"h-11 w-16 rounded cursor-pointer border border-[#2563eb]",onInput:n[2]||(n[2]=l=>a("border.color",l.target.value))},null,40,Hy)])])])])):x("",!0),["country","state","settlement"].includes(r.kind)?(c(),p("div",zy,[n[28]||(n[28]=s("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Labels",-1)),s("div",Oy,[s("div",Ky,[s("div",null,[n[17]||(n[17]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Enabled ",-1)),b(_o,{modelValue:r.settings.label.enabled,"onUpdate:modelValue":n[3]||(n[3]=l=>r.settings.label.enabled=l)},null,8,["modelValue"])]),r.settings.label.enabled?(c(),p("div",Uy,[n[18]||(n[18]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Color ",-1)),s("div",$y,[s("input",{type:"color",value:r.settings.label.color,class:"h-11 w-16 rounded cursor-pointer border border-[#2563eb]",onInput:n[4]||(n[4]=l=>a("label.color",l.target.value))},null,40,Xy)])])):x("",!0),r.settings.label.enabled?(c(),p("div",Wy,[n[20]||(n[20]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Font Weight ",-1)),s("select",{value:r.settings.label.fontWeight,onChange:n[5]||(n[5]=l=>a("label.fontWeight",l.target.value)),class:"bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg block w-full p-2.5"},n[19]||(n[19]=[s("option",{value:"regular"},"Regular",-1),s("option",{value:"medium"},"Medium",-1),s("option",{value:"bold"},"Bold",-1)]),40,Vy)])):x("",!0)]),r.settings.label.enabled?(c(),p("div",Gy,[s("div",jy,[n[21]||(n[21]=s("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 pointer-events-none"}," Font Size ",-1)),s("span",Zy,_(r.settings.label.fontSize)+"px",1)]),s("div",Yy,[s("input",{type:"range",value:r.settings.label.fontSize,min:"8",max:"100",step:"1",class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider",onInput:n[6]||(n[6]=l=>a("label.fontSize",parseInt(l.target.value)))},null,40,Jy),n[22]||(n[22]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Small"),s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Large")],-1))])])):x("",!0),r.settings.label.enabled?(c(),p("div",Qy,[s("div",qy,[n[23]||(n[23]=s("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 pointer-events-none"}," Font Outline Size ",-1)),s("span",eN,_(r.settings.label.haloThickness.toFixed(1))+"px",1)]),s("div",tN,[s("input",{type:"range",value:r.settings.label.haloThickness,min:"1",max:"10",step:"0.5",class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider",onInput:n[7]||(n[7]=l=>a("label.haloThickness",parseFloat(l.target.value)))},null,40,oN),n[24]||(n[24]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Small"),s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Large")],-1))])])):x("",!0),r.settings.label.enabled?(c(),p("div",sN,[s("div",aN,[n[25]||(n[25]=s("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 pointer-events-none"}," Outline Color ",-1)),s("input",{type:"color",value:r.settings.label.haloColor,class:"h-11 w-16 rounded cursor-pointer border border-[#2563eb]",onInput:n[8]||(n[8]=l=>a("label.haloColor",l.target.value))},null,40,rN)])])):x("",!0),r.kind==="settlement"&&r.settings.label.enabled?(c(),p("div",iN,[s("div",nN,[n[26]||(n[26]=s("label",{class:"text-sm font-medium text-gray-600 dark:text-gray-400 pointer-events-none"}," Density ",-1)),s("span",lN,_(r.settings.label.density)+"/5",1)]),s("div",cN,[s("input",{type:"range",value:r.settings.label.density,min:"0",max:"5",step:"1",class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider",onInput:n[9]||(n[9]=l=>a("label.density",parseInt(l.target.value)))},null,40,dN),n[27]||(n[27]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Less"),s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"More")],-1))])])):x("",!0)])])):x("",!0)])]))}}),Yo=G(uN,[["__scopeId","data-v-1801a3f4"]]),pN="/assets/default-tile-Clyo-eRo.png",mN="/assets/satellite-tile-CHLOLiG-.png",hN="/assets/dark-tile-JLPkq6Bx.png",gN="/assets/light-tile-Cfc8NKsC.png",fN="/assets/navigation-day-tile-V_c1p3V8.png",yN="/assets/outdoors-tile-rjzoiPBY.png",NN={class:"mt-6 dark:text-slate-300"},vN={class:"flex flex-wrap gap-4 md:gap-6 justify-center"},bN={class:"w-[30%] md:w-auto"},wN={class:"w-[30%] md:w-auto"},xN={class:"w-[30%] md:w-auto"},_N={class:"w-[30%] md:w-auto"},SN={class:"w-[30%] md:w-auto"},kN={class:"w-[30%] md:w-auto"},AN={key:0,class:"mt-5"},CN={class:"text-xl font-bold text-gray-800 dark:text-slate-300 mb-4 inline sm:block"},TN={class:"ml-1"},BN=ae({__name:"StyleSettings",setup(i){const e=ws(),t=we(),o=Zs(),a=no(),r=()=>{o.change(g.defaultMapStyle()),no().satelliteTiles()},n=()=>{o.change(g.defaultMapStyle()),no().defaultTiles()},l=async h=>{e.setMapStyle(h);try{o.change(await g.getMapStyle(0))}catch(f){console.error("Failed to load external style",f)}};let d=H(0);const m=de({get:()=>e.getProjection===ht,set:h=>{h===!0&&t.isAtleast(t.tiers.PLUS)?a.setProjection(ht):h===!0&&!t.isAtleast(t.tiers.PLUS)?(a.setProjection(Ct),so("GLOBE_PROJECTION"),d.value++):a.setProjection(Ct)}});return(h,f)=>(c(),p("div",NN,[f[13]||(f[13]=s("h3",{class:"text-xl font-bold text-gray-800 mb-4 text-gray-800 dark:text-slate-300"},"Style",-1)),s("div",vN,[s("div",bN,[s("button",{onClick:P(n,["prevent"])},[s("img",{src:pN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="default"}])},null,2),f[5]||(f[5]=s("div",{class:"text-sm"},"Default",-1))])]),s("div",wN,[s("button",{onClick:P(r,["prevent"])},[s("img",{src:mN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="satellite"}])},null,2),f[6]||(f[6]=s("div",{class:"text-sm"},"Satellite",-1))])]),s("div",xN,[s("button",{onClick:f[0]||(f[0]=P(y=>l("dark-v11"),["prevent"]))},[s("img",{src:hN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="dark-v11"}])},null,2),f[7]||(f[7]=s("div",{class:"text-sm"},"Dark",-1))])]),s("div",_N,[s("button",{onClick:f[1]||(f[1]=P(y=>l("light-v11"),["prevent"]))},[s("img",{src:gN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="light-v11"}])},null,2),f[8]||(f[8]=s("div",{class:"text-sm"},"Light",-1))])]),s("div",SN,[s("button",{onClick:f[2]||(f[2]=P(y=>l("navigation-day-v1"),["prevent"]))},[s("img",{src:fN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="navigation-day-v1"}])},null,2),f[9]||(f[9]=s("div",{class:"text-sm"},"Day",-1))])]),s("div",kN,[s("button",{onClick:f[3]||(f[3]=P(y=>l("outdoors-v12"),["prevent"]))},[s("img",{src:yN,class:O(["w-full md:w-32 h-auto rounded-lg",{"border-sky-400 border-4":u(e).tileStyle==="outdoors-v12"}])},null,2),f[10]||(f[10]=s("div",{class:"text-sm"},"Outdoors",-1))])])]),u(C).shouldShowFeatures(u(ke))?(c(),p("div",AN,[s("h3",CN,[f[11]||(f[11]=L("Globe Projection ")),s("span",TN,[b(Ke)])]),(c(),q(_o,{modelValue:m.value,"onUpdate:modelValue":f[4]||(f[4]=y=>m.value=y),class:"sm:float-none float-right top-1",key:u(d)},null,8,["modelValue"])),f[12]||(f[12]=s("div",{class:"clearfix"},null,-1))])):x("",!0)]))}}),DN={class:"my-2"},IN={class:"text-xl font-bold text-gray-800 dark:text-slate-300 mb-4"},EN={class:"space-y-4"},LN={class:"bg-white/50 dark:bg-ww-blue/50 rounded-lg"},RN={class:"space-y-6"},FN={class:"grid grid-cols-3 gap-4"},MN=ae({__name:"RoadNetworkSettings",props:{title:{},kind:{},settings:{}},setup(i){return(e,t)=>(c(),p("div",DN,[s("h3",IN,_(e.title),1),s("div",EN,[s("div",LN,[t[2]||(t[2]=s("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Layer",-1)),s("div",RN,[s("div",FN,[s("div",null,[t[1]||(t[1]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Enabled ",-1)),b(_o,{modelValue:e.settings.enabled,"onUpdate:modelValue":t[0]||(t[0]=o=>e.settings.enabled=o)},null,8,["modelValue"])])])])])])]))}}),PN=G(MN,[["__scopeId","data-v-11ee4ef1"]]),HN={class:"my-2"},zN={class:"text-xl font-bold text-gray-800 dark:text-slate-300 mb-4"},ON={class:"space-y-4"},KN={class:"bg-white/50 dark:bg-ww-blue/50 rounded-lg"},UN={class:"space-y-6"},$N={class:"grid grid-cols-3 gap-4"},XN=ae({__name:"PoiLabelSettings",props:{title:{},kind:{},settings:{}},setup(i){return(e,t)=>(c(),p("div",HN,[s("h3",zN,_(e.title),1),s("div",ON,[s("div",KN,[t[2]||(t[2]=s("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Layer",-1)),s("div",UN,[s("div",$N,[s("div",null,[t[1]||(t[1]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Enabled ",-1)),b(_o,{modelValue:e.settings.enabled,"onUpdate:modelValue":t[0]||(t[0]=o=>e.settings.enabled=o)},null,8,["modelValue"])])])])])])]))}}),WN=G(XN,[["__scopeId","data-v-3f4ed1ca"]]),VN={class:"my-2"},GN={class:"text-xl font-bold text-gray-800 dark:text-slate-300 mb-4"},jN={class:"space-y-4"},ZN={class:"bg-white/50 dark:bg-ww-blue/50 rounded-lg"},YN={class:"space-y-6"},JN={class:"grid grid-cols-3 gap-4"},QN=ae({__name:"GraticulesSettings",props:{title:{},kind:{},settings:{}},setup(i){return(e,t)=>(c(),p("div",VN,[s("h3",GN,_(e.title),1),s("div",jN,[s("div",ZN,[t[4]||(t[4]=s("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"Layer",-1)),s("div",YN,[s("div",JN,[s("div",null,[t[2]||(t[2]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Enabled ",-1)),b(_o,{modelValue:e.settings.enabled,"onUpdate:modelValue":t[0]||(t[0]=o=>e.settings.enabled=o)},null,8,["modelValue"])]),s("div",null,[t[3]||(t[3]=s("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-400 mb-2 pointer-events-none"}," Color ",-1)),V(s("input",{type:"color","onUpdate:modelValue":t[1]||(t[1]=o=>e.settings.color=o),class:"h-11 w-16 rounded cursor-pointer border border-[#2563eb]"},null,512),[[qe,e.settings.color]])])])])])])]))}}),qN=G(QN,[["__scopeId","data-v-879e7d9a"]]),ev={class:"scrollable-content",ref:"scrollable-content"},tv={key:0},ov={key:1,class:"space-y-6 pr-3 sm:pr-6"},sv={class:"grid grid-cols-1 sm:grid-cols-2"},av={key:0},rv=ae({__name:"MapSettings",setup(i){const e=ws(),t=Zs();e.$subscribe((r,n)=>{e.applyToMapStyle()});const o=()=>{confirm("Are you sure you want to reset all settings to default?")&&(e.reset(),no().defaultTiles(),t.change(g.defaultMapStyle()))},a=de(()=>Yt().isVisible());return(r,n)=>(c(),p("div",ev,[a.value?(c(),p("div",tv,n[7]||(n[7]=[s("div",{class:"pt-6 text-center text-gray-500"}," Map settings are not available in Y'all mode. Turn off Y'all mode to change map settings. ",-1)]))):(c(),p("div",ov,[b(BN),b(Yo,{title:"Country Settings",kind:"country",settings:u(e).country,"onUpdate:settings":n[0]||(n[0]=l=>u(e).updateRegionSettings("country",l))},null,8,["settings"]),b(Yo,{title:"State Settings",kind:"state",settings:u(e).state,"onUpdate:settings":n[1]||(n[1]=l=>u(e).updateRegionSettings("state",l))},null,8,["settings"]),b(Yo,{title:"County Settings",kind:"county",settings:u(e).county,"onUpdate:settings":n[2]||(n[2]=l=>u(e).updateRegionSettings("county",l))},null,8,["settings"]),b(Yo,{title:"Settlement Settings",kind:"settlement",settings:u(e).settlement,"onUpdate:settings":n[3]||(n[3]=l=>u(e).updateRegionSettings("settlement",l))},null,8,["settings"]),s("div",sv,[b(PN,{title:"Road Network Settings",kind:"road_network",settings:u(e).road_network,"onUpdate:settings":n[4]||(n[4]=l=>u(e).updateRoadNetworkSettings("road_network",l))},null,8,["settings"]),b(WN,{title:"POI Label Settings",kind:"poi_labels",settings:u(e).poi_labels,"onUpdate:settings":n[5]||(n[5]=l=>u(e).updatePoiLabelSettings("poi_labels",l))},null,8,["settings"]),b(qN,{title:"Graticules Settings",kind:"graticules",settings:u(e).graticules,"onUpdate:settings":n[6]||(n[6]=l=>u(e).updateGraticulesSettings("graticules",l))},null,8,["settings"])]),u(e).anyChanged?(c(),p("div",av,[s("button",{class:"w-full mt-10 px-2.5 py-2 pt-1.5 text-sm font-medium text-white dark:text-gray-100 bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 rounded-lg",onClick:o}," Reset ")])):x("",!0)]))],512))}}),iv=G(rv,[["__scopeId","data-v-543d00b7"]]),nv={class:"flex flex-col gap-4"},lv={class:"flex items-center justify-between gap-32"},cv={class:"flex rounded-md shadow-sm",role:"group"},dv={class:"flex items-center justify-between gap-32 md:hidden"},uv={__name:"UserPreferences",setup(i){const e=bo(),{darkMode:t,isLeftHanded:o}=Oe(e),a=n=>{e.setDarkMode(n)},r=()=>{e.toggleLeftHanded()};return(n,l)=>(c(),p("div",nv,[s("div",lv,[l[2]||(l[2]=s("span",{class:"text-sm font-medium dark:text-gray-300"},"Dark Mode",-1)),s("div",cv,[s("button",{class:O(["px-3 py-1 text-sm border rounded-l-md border-r-0",u(t)==="on"?"bg-blue-700 text-white border-blue-700":"bg-white dark:bg-ww-blue border-gray-300 dark:border-gray-600 dark:text-gray-300"]),onClick:l[0]||(l[0]=d=>a("on"))}," On ",2),s("button",{class:O(["px-3 py-1 text-sm rounded-r-md border",u(t)==="off"?"bg-blue-700 text-white border-blue-700":"bg-white dark:bg-ww-blue border-gray-300 dark:border-gray-600 dark:text-gray-300"]),onClick:l[1]||(l[1]=d=>a("off"))}," Off ",2)])]),s("div",dv,[l[3]||(l[3]=s("span",{class:"text-sm font-medium dark:text-gray-300"},"Left-handed Mode",-1)),s("button",{class:O(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",u(o)?"bg-blue-700":"bg-gray-200"]),onClick:r},[s("span",{class:O(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",u(o)?"translate-x-6":"translate-x-1"])},null,2)],2)])]))}},pv={class:"text-lg font-bold"},mv={__name:"1_PlusInBrowser",setup(i){return(e,t)=>(c(),p(z,null,[s("h1",pv,[t[0]||(t[0]=L("Access WeatherWise ")),b(Ke,{textSizeClass:"text-base",show:!0}),t[1]||(t[1]=L(" Anywhere: Introducing WeatherWise Accounts!"))]),t[2]||(t[2]=ye('<h2 class="mt-3">Link your WeatherWise Plus subscription to a WeatherWise Account and unlock our premium features across all your devices - including your browser.</h2><p class="mt-3">Once your WeatherWise Plus subscription is linked; access your favorite features in your browser:</p><ul class="list-disc px-4"><li class="mt-2"><strong>3D Radar:</strong> Pitch the map to see radar scans in a lifelike 3D format that simulates the beam’s gradual rise into the sky</li><li class="mt-2"><strong>3D Map (Globe Projection):</strong> Spin into a new dimension – see the weather layered on top of a 3D sphere</li><li class="mt-2"><strong>Side-by-Side Radar Visuals:</strong> Display two radar products side-by-side to better understand what is going on</li><li class="mt-2"><strong>Smoothed Radar:</strong> Reduce visual noise in radar imagery by smoothing the data to get a clearer picture of overall storm trends</li><li class="mt-2"><strong>Enhanced Lightning Data:</strong> Pinpoint storm intensity and track the most active cells with greater precision</li><li class="mt-2"><strong>Configurable Playback Frames:</strong> Play through up to 100 radar scans to see storms from start to finish</li></ul>',3))],64))}},hv={key:1,class:"mt-3"},gv={__name:"2_WindowsMacApp",setup(i){return(e,t)=>(c(),p(z,null,[t[3]||(t[3]=s("h1",{class:"text-lg font-bold"},"WeatherWise Plus for Desktop: Introducing Our Mac & Windows App",-1)),t[4]||(t[4]=s("h2",{class:"mt-3"},"Today we're launching our dedicated desktop app, exclusively for WeatherWise Plus users.",-1)),t[5]||(t[5]=s("p",{class:"mt-3"},"Simply subscribe to WeatherWise Plus on your iOS or Android device, link your subscription with a WeatherWise Account, and enjoy premium weather features right on your desktop.",-1)),!u(Kt).isToDesktop()&&!u(C).isNativeApp()?(c(),p(z,{key:0},[t[0]||(t[0]=s("p",{class:"mt-3"},[L("Download for Mac: "),s("a",{href:"https://bit.ly/4j3bsXo",target:"_blank",class:"font-medium text-blue-600 dark:text-white hover:underline"},"https://bit.ly/4j3bsXo")],-1)),t[1]||(t[1]=s("p",{class:"mt-3"},[L("Download for Windows: "),s("a",{href:"https://bit.ly/41Lcr93",target:"_blank",class:"font-medium text-blue-600 dark:text-white hover:underline"},"https://bit.ly/41Lcr93")],-1))],64)):x("",!0),u(C).isNativeApp()?(c(),p("p",hv,t[2]||(t[2]=[L("To download the Mac & Windows App, please go to: "),s("a",{href:"https://www.weatherwise.app",target:"_blank",class:"font-medium text-blue-600 dark:text-white hover:underline"},"https://www.weatherwise.app",-1),L(" in your browser.")]))):x("",!0)],64))}},fv={};function yv(i,e){return c(),p(z,null,[e[0]||(e[0]=s("h1",{class:"text-lg font-bold"},"Introducing Wind, Dust, Fog, Smoke and Air Quality related Weather Alerts!",-1)),e[1]||(e[1]=s("p",{class:"mt-3"},"Alerts issued by the NWS appear instantly inside WeatherWise. Customize their look and feel like you can with other weather alerts.",-1)),e[2]||(e[2]=s("p",{class:"mt-3"},"Don't get caught off guard:",-1)),e[3]||(e[3]=s("ul",{class:"list-inside"},[s("li",null,"💨 Wind – hold onto your hats!"),s("li",null,"🌫️ Fog – mystery movie mode: ON"),s("li",null,"🌪️ Dust – not today, allergies"),s("li",null,"🔥 Smoke – nope, not a BBQ"),s("li",null,"😮‍💨 Air Quality – because breathing should be chill")],-1))],64)}const Nv=G(fv,[["render",yv]]),vv={key:0,class:"relative"},bv=["src"],wv={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},xv=ae({__name:"4_StreamYourLocation",setup(i){const e=uo.assetsBaseUrl(),t=H(`${e}/app-updates/4-stream-your-location.mp4`),o=H(!1),a=()=>{o.value=!0};return(r,n)=>(c(),p(z,null,[n[0]||(n[0]=s("h1",{class:"text-lg font-bold"},"Chasers! Stream your location to your PC!",-1)),n[1]||(n[1]=s("p",{class:"mt-3"},"We've released the ability to stream your location from our iOS & Android app to WeatherWise on your PC. ",-1)),n[2]||(n[2]=s("p",{class:"mt-3"},"Why not use WeatherWise as a map overlay with your live video?",-1)),t.value?(c(),p("div",vv,[s("video",{ref:"videoRef",src:t.value,onLoadeddata:a,class:O(["video mt-4",{invisible:!o.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,bv),o.value?x("",!0):(c(),p("div",wv,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0)],64))}}),_v={};function Sv(i,e){return e[0]||(e[0]=ye('<h1 class="text-lg font-bold">Quality-of-Life Boost - Click Less, Do More</h1><p class="mt-3">Today we&#39;re rolling out a handful of quality-of-life improvements: </p><ul class="mt-3 list-disc pl-5"><li><strong>Esc instantly clears map tooltips</strong> - get your map view back in a flash. </li><li><strong>Slimmer WeatherWise menu on desktop</strong> - see more map and less UI </li><li><strong>Radar-tilt shortcuts</strong> - rapidly move up or down through tilts </li><li><strong>A sticky drawing toolbar</strong> - hide or show it without losing without losing your place: the toolbar will remain where you drag it to during your visit </li></ul><p class="mt-3"> New radar shortcuts: </p><ul><li><strong>Shift + Ctrl + ↑</strong>: load a higher tilt </li><li><strong>Shift + Ctrl + ↓</strong>: load a lower tilt </li><li><strong>Shift + Ctrl + Space</strong>: jump to the lowest tilt </li></ul>',5))}const kv=G(_v,[["render",Sv]]),Av={key:0,class:"relative"},Cv=["src"],Tv={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},Bv=ae({__name:"6_Search",setup(i){const e=uo.assetsBaseUrl(),t=H(`${e}/app-updates/6-search.mp4`),o=H(!1),a=()=>{o.value=!0};return(r,n)=>(c(),p(z,null,[n[0]||(n[0]=ye('<h1 class="text-lg font-bold">Find It. See It. Track It - a powerful new search is here.</h1><p class="mt-3">You can now search for places like Texas or New York - completely free. 📍</p><p class="mt-3">WeatherWise Plus users unlock even more:</p><ul class="mt-3 list-disc pl-5"><li>Search for Chasers and Spotters via the Spotter Network</li><li>Find a Hazcam by name/location</li><li>Locate radar towers by their code</li><li>See if a location is under an active alert - and what it is</li></ul><p class="mt-3">And no matter what you search, we&#39;ll turn on the nearest radar - automatically.</p>',5)),t.value?(c(),p("div",Av,[s("video",{ref:"videoRef",src:t.value,onLoadeddata:a,class:O(["video mt-4",{invisible:!o.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,Cv),o.value?x("",!0):(c(),p("div",Tv,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0)],64))}}),Dv={},Iv={class:"sm:min-w-[60vw]"};function Ev(i,e){return c(),p("div",Iv,e[0]||(e[0]=[ye('<h1 class="text-lg font-bold">MEGA Weather Alerts Update</h1><p class="mt-3">This update brings powerful new ways to customize how alerts look, feel, and behave:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Toggle storm motion arrows on or off</li><li class="mt-1">Fine-tune alert flash settings: duration, frequency, and color</li><li class="mt-1">From any warning, activate one of the two nearest radar towers</li><li class="mt-1">Change the outline color for polygons on the map</li><li class="mt-1">Switch between simple and detailed pop-ups</li><li class="mt-1">Set a sound for new/updated alerts</li><li class="mt-1">See probabilities for Tornado and Severe Thunderstorm Watches</li></ul><p class="mt-3">And these extras for WeatherWise Plus subscribers:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Sort alerts by issuance, start time, or expiration</li><li class="mt-1">Filter to only the active alerts for a cleaner list and map</li><li class="mt-1">Filter to only alerts within a US state or issued by specific weather offices (WFOs)</li></ul>',5)]))}const Lv=G(Dv,[["render",Ev]]),Rv={},Fv={class:"sm:min-w-[60vw]"};function Mv(i,e){return c(),p("div",Fv,e[0]||(e[0]=[ye('<h1 class="text-lg font-bold">Maps: Dark, Styled, and More Customized</h1><p class="mt-3">You asked for a dark map, and it’s here. But we didn’t stop there.</p><p class="mt-3">This update adds powerful new ways to make the map your own:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Toggle Roads, POIs, and Latitude and Longitude Lines (Graticules)</li><li class="mt-1">Choose from 6 Unique Map Styles</li><li class="mt-1">Switch Borders Between Solid and Dashed </li><li class="mt-1">Fine-tune Labels: Show or Hide, Adjust Font Weight, Outline Thickness, and Outline Color</li></ul><p class="mt-3">It’s your map. Now it looks like it.</p>',5)]))}const Pv=G(Rv,[["render",Mv]]),Hv={class:"mt-3"},zv={key:0,class:"relative"},Ov=["src"],Kv={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},Uv=ae({__name:"9_YallMode",setup(i){const e=uo.assetsBaseUrl(),t=C.isNativeApp()?"mobile":"desktop",o=H(`${e}/plus/${t}/yall-mode.mp4`),a=H(!1),r=()=>{a.value=!0};return(n,l)=>(c(),p(z,null,[s("div",null,[l[2]||(l[2]=ye('<h1 class="text-lg font-bold">Y&#39;all Ready? WeatherWise x Ryan Hall Is Here</h1><p class="mt-3">We&#39;re proud to announce our official partnership with <strong>Ryan Hall</strong>, one of the most trusted voices in weather.</p><p class="mt-3">Ryan Hall brings the weather. We bring the app. Together, we&#39;re making vital weather information available to everyone, for free.</p><p class="mt-3">We&#39;re also introducing Y&#39;all Mode:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Get Y&#39;all Watches right in the app when Ryan and the team go live</li><li class="mt-1">See the radar like Ryan does, with the same colors and map style from the stream</li><li class="mt-1">Switch it on with one tap</li><li class="mt-1">Use it anywhere: phone, tablet, or desktop</li></ul>',5)),s("p",Hv,[l[0]||(l[0]=L("Y'all Mode is exclusively available to WeatherWise ")),b(Ke,{show:!0}),l[1]||(l[1]=L(" subscribers."))]),l[3]||(l[3]=s("p",{class:"mt-3"},"Our mission stays the same. We're building faster and delivering even more of what makes WeatherWise powerful and useful.",-1))]),o.value?(c(),p("div",zv,[s("video",{ref:"videoRef",src:o.value,onLoadeddata:r,class:O(["video mt-4",{invisible:!a.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,Ov),a.value?x("",!0):(c(),p("div",Kv,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0)],64))}}),$v={};function Xv(i,e){return e[0]||(e[0]=ye('<h1 class="text-lg font-bold">Introducing Heat &amp; Fire related Weather Alerts!</h1><p class="mt-3">Alerts issued by the NWS appear instantly inside WeatherWise <strong>for free</strong>. Customize their look and feel like you can with other weather alerts.</p><p class="mt-3">Don&#39;t get caught off guard, with these new alerts:</p><ul class="list-disc ml-4 mt-2"><li class="font-bold">Fire Warning</li><li class="font-bold">Extreme Heat Warning</li><li class="font-bold">Red Flag Warning</li><li class="font-bold">Heat Advisory</li><li class="font-bold">Extreme Heat Watch</li><li class="font-bold">Fire Weather Watch</li></ul>',4))}const Wv=G($v,[["render",Xv]]),Vv={key:0,class:"relative"},Gv=["src"],jv={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},Zv=ae({__name:"11_StormChasers",setup(i){const e=uo.assetsBaseUrl(),t=H(`${e}/app-updates/11-storm-chasers.mp4`),o=H(!1),a=()=>{o.value=!0};return(r,n)=>(c(),p(z,null,[n[0]||(n[0]=s("h1",{class:"text-lg font-bold"},"Let's welcome Storm Chasers Brandon Copic & Corey Gerken inside WeatherWise",-1)),n[1]||(n[1]=s("p",{class:"mt-3"},"They're joining our Hazcams chasers to bring even more live coverage into the app. Now, when Brandon and Corey are out chasing, you can follow their live video and real-time locations using the new Storm Chaser layer within WeatherWise.",-1)),n[2]||(n[2]=s("p",{class:"mt-3"},"Open the app, enable the Storm Chaser layer, and watch the chase unfold.",-1)),t.value?(c(),p("div",Vv,[s("video",{ref:"videoRef",src:t.value,onLoadeddata:a,class:O(["video mt-4",{invisible:!o.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,Gv),o.value?x("",!0):(c(),p("div",jv,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0)],64))}}),Yv={};function Jv(i,e){return e[0]||(e[0]=ye('<h1 class="text-lg font-bold">New Radar Tools, You Get the Controls</h1><p class="mt-3">This update gives you new ways to interact with and customize radar like never before:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1"> Use the new Radar Scan Slider to scrub through frames at your own pace (Tip: you can also use the left and right arrow keys) </li><li class="mt-1">Toggle Radar Towers on or off, and hide smaller towers if you prefer a cleaner map</li><li class="mt-1">Choose how much you see with new 5 and 10 max scan options</li><li class="mt-1">Adjust Radar Opacity to fit your style and background</li><li class="mt-1">Optionally display the Radar Range Ring to visualize coverage radius</li><li class="mt-1">On mobile, swipe between radar products directly from the drawer lip for faster navigation</li></ul><p class="mt-3">It&#39;s radar the way you want it: flexible and built around your preferences.</p>',4))}const Qv=G(Yv,[["render",Jv]]),qv="/assets/13-tropical-alerts-DI_x8XIA.jpg",eb={};function tb(i,e){return e[0]||(e[0]=ye('<h1 class="text-lg font-bold">Introducing Tropical Weather Alerts!</h1><p class="mt-3">Hurricane season is coming - stay one step ahead with <strong>free</strong>, real-time warnings &amp; watches for:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Storm Surges</li><li class="mt-1">Hurricanes</li><li class="mt-1">Typhoons</li><li class="mt-1">Tropical Storms</li></ul><p class="mt-3">And we already have the hurricane tracks, cone of uncertainty and discussions from the National Hurricane Center (NHC).</p><img src="'+qv+'" class="mt-3 rounded-lg md:block md:mx-auto md:max-w-[420px]"><p class="mt-3">And, we added two extra wind/air related alert types:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Hurricane Force Wind</li><li class="mt-1">Storm</li></ul>',7))}const ob=G(eb,[["render",tb]]),sb={};function ab(i,e){return e[0]||(e[0]=ye('<h1 class="text-lg font-bold">Introducing the Climate Prediction Center (CPC) Global Tropics Hazards (GTH) Outlook</h1><p class="mt-3 md:max-w-[1000px]">Each week, the Climate Prediction Center publishes the Global Tropics Hazards Outlook, a deterministic forecast highlighting precipitation, temperature hazards, and potential tropical cyclone threats for the next 2–3 weeks, with confidence noted subjectively.</p><p class="mt-3">We&#39;ve got you covered with all the outlooks available for free:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Tropical Cyclone Formation Probability</li><li class="mt-1">Enhanced Precipitation Probability</li><li class="mt-1">Suppressed Precipitation Probability</li><li class="mt-1">Above Average Temperatures Probability</li><li class="mt-1">Below Average Temperatures Probability</li><li class="mt-1">Combined Probabilities</li></ul>',4))}const rb=G(sb,[["render",ab]]),ib={key:0,class:"relative"},nb=["src"],lb={key:0,class:"absolute top-[50%] ml-[-26px] left-[50%] mt-[-26px]"},cb=ae({__name:"15_UserLocations",setup(i){const e=uo.assetsBaseUrl(),t=H(`${e}/app-updates/15-user-locations.mp4`),o=H(!1),a=()=>{o.value=!0};return(r,n)=>(c(),p(z,null,[n[0]||(n[0]=ye('<h1 class="text-lg font-bold">Put Your People and Places on the Map!</h1><p class="mt-3 md:max-w-[1000px]">You asked - we listened. Add the locations of your loved ones, property, business premises directly to the map to keep a closer eye on them.</p><p class="mt-3">Today, we&#39;re adding for <strong>free</strong>:</p><ul class="mt-3 list-disc pl-5"><li class="mt-1">Add up to 500 locations anywhere on the map</li><li class="mt-1">Choose from 200+ custom icons to make each one your own</li><li class="mt-1">Upload a list to bulk import many locations</li><li class="mt-1">Sync everything across devices using your WeatherWise account</li></ul><p class="mt-3">Plus subscribers can also search for their custom locations, making it even easier to stay connected to what matters</p>',5)),t.value?(c(),p("div",ib,[s("video",{ref:"videoRef",src:t.value,onLoadeddata:a,class:O(["video mt-4",{invisible:!o.value}]),autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,42,nb),o.value?x("",!0):(c(),p("div",lb,[b(u(T),{icon:"line-md:loading-twotone-loop",class:"size-14 text-gray-900 dark:text-white"})]))])):x("",!0)],64))}}),Ve=(i,e,t)=>({version:i,component:Ti(e),released_at:t}),Cs=[Ve(1,mv,"2025-03-25 16:00:00"),Ve(2,gv,"2025-03-27 15:50:00"),Ve(3,Nv,"2025-04-03 16:00:00"),Ve(4,xv,"2025-04-09 16:00:00"),Ve(5,kv,"2025-04-17 16:00:00"),Ve(6,Bv,"2025-04-22 15:55:00"),Ve(7,Lv,"2025-05-02 16:50:00"),Ve(8,Pv,"2025-05-09 15:50:00"),Ve(9,Uv,"2025-05-12 17:00:00"),Ve(10,Wv,"2025-05-15 16:00:00"),Ve(11,Zv,"2025-05-19 19:30:00"),Ve(12,Qv,"2025-05-22 15:40:00"),Ve(13,ob,"2025-05-28 16:00:00"),Ve(14,rb,"2025-05-30 16:00:00"),Ve(15,cb,"2025-06-03 16:00:00")],Js=()=>({showModal:(t=!1)=>{let o=window.localStorage.getItem("seenAppUpdateVersion");typeof o!="string"&&(o="0");const a=parseInt(o);let r=3;if(a>0&&(r=Cs.filter(n=>n.version>a).length),r===0){if(!t)return;r=3}he.appUpdates(Cs.slice().reverse(),r)},seenAll:()=>{const t=Cs.at(-1);window.localStorage.setItem("seenAppUpdateVersion",t.version)}});class db{chaserVideo(e){return ne({defaultModelValue:!0,component:Af,attrs:e})}userLocation(e){return ne({defaultModelValue:!0,component:Lf,attrs:e})}userLocationsManager(){return ne({defaultModelValue:!0,component:Ay})}disclaimer(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Disclaimer"},slots:{default:le({component:Rl})}})}credits(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Credits"},slots:{default:le({component:Ul})}})}support(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Support"},slots:{default:le({component:Wl})}})}share(){return ne({defaultModelValue:!0,component:fo,attrs:{title:"Share"},slots:{default:le({component:tc})}})}apps(){return ne({defaultModelValue:!0,component:fo,attrs:{title:"Download our Apps"},slots:{default:le({component:yc})}})}mapSettings(){return ne({defaultModelValue:!0,component:Cl,attrs:{title:"Map Settings"},slots:{default:le({component:iv})}})}userPreferences(){return ne({defaultModelValue:!0,component:fo,attrs:{title:"My Preferences"},slots:{default:le({component:uv})}})}keyboardShortcuts(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Keyboard Shortcuts"},slots:{default:le({component:_c})}})}gawx(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"GAWX"},slots:{default:le({component:Cc})}})}shareLocationWith(){const e=ne({defaultModelValue:!0,component:fo,attrs:{title:"Share Your Location",onClosed(){xe().setDeepLink(null)}},slots:{default:le({component:Xc,attrs:{recipient:{name:"Rob West",shortName:"Rob",avatar:"/test/robwest_avatar.webp"},onClose(){e.close()}}})}});return e}yallMode(){const e=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:md,attrs:{onClose(){e.close()}}})}});return e}upgradePrompt(e){const t=this,o=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:Sd,attrs:{featureKey:e,onClose(){o.close()},onUpgrade(){if(C.isNativeApp()){if(!C.isNativeVersionAtleast(ke)){console.warn("Feature unavailable in this version");return}No().open()}else t.upgradeThroughMobile();o.close()}}})}});return o}auth(){const e=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:Za,attrs:{onClose(){e.close()}}})}});return e}authRegister(){const e=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:Za,attrs:{startWithRegistration:!0,onClose(){e.close()}}})}});return e}userAccount(){const e=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:Pg,attrs:{onClose(){e.close()}}})}});return e}resetPassword(){const e=ne({defaultModelValue:!0,component:mt,attrs:{title:""},slots:{default:le({component:y1,attrs:{onClose(){e.close()}}})}});return e}upgradeThroughMobile(){return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Upgrade through our App"},slots:{default:le({component:w1})}})}appUpdates(e,t){const o=ne({defaultModelValue:!0,component:mt,slots:{default:le({component:R1,attrs:{updates:e,limit:t,onClose(){o.close(),Js().seenAll()}}})}});return o}winBack(){var o;if(((o=Bi().openedModals)==null?void 0:o.length)>0)return null;const e=this,t=ne({defaultModelValue:!0,component:mt,attrs:{onClosed(){fs().markCompletedSubscriptionWinBack()}},slots:{default:le({component:Y1,attrs:{onClose(){t.close()},onResubscribe(){if(C.isNativeApp()){if(!C.isNativeVersionAtleast(ke)){console.warn("Feature unavailable in this version");return}No().open()}else e.upgradeThroughMobile();t.close()}}})}});return t}createAccount(){const e=this,t=ne({defaultModelValue:!0,component:mt,attrs:{onClosed(){fs().markCompletedSubscriptionAccountSetup()}},slots:{default:le({component:lf,attrs:{onClose(){t.close()},onCreateAccount(){t.close(),e.authRegister()},onSignin(){t.close(),e.auth()}}})}});return t}subscribePrompt(){const e=this,t=ne({defaultModelValue:!0,component:mt,slots:{default:le({component:xf,attrs:{onClose(){t.close()},onSubscribe(){if(t.close(),C.isNativeApp()){if(!C.isNativeVersionAtleast(ke)){console.warn("Feature unavailable in this version");return}No().open()}else e.upgradeThroughMobile()},onExploreApp(){t.close()}}})}});return t}}const he=new db,Wr={FREE:0,PLUS:1},Ya={[Wr.PLUS]:["plus"]};function we(){const i=lo(),e=Dt(),t=()=>i.hasActiveSubscription,o=()=>{const m=i.activeSubscription;if(!m)return 0;for(let h in Ya)if(Ya[h].includes(m.identifier))return Number.parseInt(h);return 0};return{activeTier:o,isAtleast:m=>t()?o()>=m:!1,hasActiveSubscription:t,tiers:Wr,manage:()=>{window.open(i.revenueCatCustomerInfo.managementURL,"_blank")},enablePlusFeatures:()=>{console.log("enabling plus features"),g.applyPlusFeatures(),C.radar.redrawScanAll()},disablePlusFeatures:()=>{console.log("disabling plus features"),g.resetNorthPitch(),g.disableMapRotation(),no().setProjection(Ct),e.resetMaxScans(),e.resetLightning(),e.reset3D();const m=Yt();(m.isVisible()||m.isYallWatching())&&(m.turnOff(),m.remove()),C.radar.redrawScanAll()},canManage:()=>{var m;return!(!t()||!gs((m=i.revenueCatCustomerInfo)==null?void 0:m.managementURL))}}}function so(i){he.upgradePrompt(i)}const Le=H(null);function Vr(){const i=()=>{Le.value||(Le.value=new AudioContext)};return{playSound:async(o,a=3,r=120)=>{if(o!=="none"&&(i(),!!Le.value))for(let n=0;n<a;n++){const l=Le.value.createOscillator(),d=Le.value.createGain();switch(l.connect(d),d.connect(Le.value.destination),o){case"default":l.frequency.setValueAtTime(440,Le.value.currentTime),d.gain.setValueAtTime(.1,Le.value.currentTime);break;case"urgent":l.frequency.setValueAtTime(880,Le.value.currentTime),d.gain.setValueAtTime(.2,Le.value.currentTime);break;case"emergency":l.frequency.setValueAtTime(1760,Le.value.currentTime),d.gain.setValueAtTime(.3,Le.value.currentTime);break}l.start(),d.gain.exponentialRampToValueAtTime(1e-5,Le.value.currentTime+.5),l.stop(Le.value.currentTime+.5),a>1&&await Zt(r)}},playSoundFile:async(o,a=1)=>{if(i(),!!Le.value)try{const n=await(await fetch(o)).arrayBuffer(),l=await Le.value.decodeAudioData(n),d=Le.value.createBufferSource(),m=Le.value.createGain();d.buffer=l,m.gain.value=a,d.connect(m),m.connect(Le.value.destination),d.start(0)}catch(r){console.error("Error playing sound file:",r)}}}}const Jo="vendors:ryanhall:watches";let Qo=!1;const Yt=()=>{const i=Ir(),e=Dt(),t=gt(),o=$t(),a=Zs(),r=we(),n=["REF","VEL","CC"],l=F=>{console.log("hide yall mode",F),F={...{redrawRadar:!0},...F??{}},a.change(g.defaultMapStyle());for(const X of n)!i.radar.colortable_backup||!i.radar.colortable_backup[X]||(e.colortable[X]=JSON.parse(JSON.stringify(ge(i.radar.colortable_backup[X]))));i.isYallWatching=0,m(),F.redrawRadar&&C.radar.redrawScanAll();const K=JSON.parse(JSON.stringify(ge(i.warnings.backup))),U=ms();for(const X in U)K.config.USA[X]===void 0&&(K.config.USA[X]=U[X]);t.$patch(K),o.setFeatureList(k(o.features))},d=()=>{l({redrawRadar:!1}),y();for(const F of n)e.colortable[F]="DEFAULT";C.radar.redrawScanAll()},m=()=>{o.setFeatureList(k(o.features)),D()},h=()=>{r.isAtleast(r.tiers.PLUS)&&(R(),M())},f=()=>{if(console.log("show yall mode"),!r.isAtleast(r.tiers.PLUS))return;a.change(Ur()),i.isYallWatching=1,h(),i.radar.colortable_backup=JSON.parse(JSON.stringify(ge(e.colortable)));for(const E of n)e.colortable[E]="RH1";C.radar.redrawScanAll(),i.warnings.backup=JSON.parse(JSON.stringify(ge(t.$state)));const F={"TO.W":"#FF0000","TO.A":"#ff3333","SV.W":"#FFA500","SV.A":"#FFB733","FF.W":"#39B54A","FF.A":"#A7E2FF","WS.W":"#FF69B4","WS.A":"#4169E1","WW.Y":"#87CEEB","BZ.W":"#E67300","IS.W":"#8B008B","MA.W":"#731e56","FZ.W":"#483D8B","FZ.A":"#ADD8E6","SP.S":"#9370DB","SQ.W":"#00BFFF","LE.W":"#008B8B","EC.W":"#1B4F72","EC.A":"#2874A6","CW.Y":"#5DADE2","WC.Y":"#85C1E9","AV.W":"#1E90FF","FL.W":"#006400","FA.W":"#008B45","CF.W":"#20B2AA","LS.W":"#3CB371","FL.Y":"#90EE90","FA.Y":"#98FB98","CF.Y":"#B0E0E6","LS.Y":"#ADD8E6","FL.A":"#4F9B82","FA.A":"#5F9EA0","CF.A":"#87CEEB","LS.A":"#79CDCD","CF.S":"#B8D8D8","FR.Y":"#6495ED"};for(const E in t.config.USA){if(F[E]===void 0)continue;const K=E.split(".")[1],U=["TO.W","SV.W"].includes(E)?.55:.3;t.config.USA[E].color=F[E],t.config.USA[E].fill_opacity=U,K==="W"||E==="SP.S"?t.config.USA[E].line_width=4:t.config.USA[E].line_width=0}t.polygons.line_halo_color="#000000",A()},y=()=>i.isYallModeOn=0,N=()=>i.isYallModeOn=1,w=()=>i.isYallModeOn,S=()=>i.isYallWatching,v=()=>he.yallMode(),A=()=>{t.config.USA["SP.S"].line_width<.1&&(t.config.USA["SP.S"].line_width=4)},B=()=>{};async function I(){if(S())return Se.instance().get(`/vendors/ryanhall/watches.geojson?_=${new Date().getTime()}`);throw new Error("Y'all mode watches are not enabled")}async function R(){if(S())try{const F=await I();for(const E of F.features)console.log("yallmode feature",E),$t().push(E)}catch(F){console.warn(F)}}function M(){if(Qo||!S())return;Qo=!0;const F=E=>{console.log("yallmode socket",E),R()};te.roomJoin(Jo),te.on(Jo,F)}function D(){Qo&&(te.roomLeave(Jo),te.removeAllListeners(Jo),Qo=!1)}function k(F){return F.filter(E=>E.properties.product!=="RHY")}return{show:f,hide:l,isVisible:w,showSettings:v,applyCustomModifications:A,removeCustomModifications:B,isYallWatching:S,showYallWatches:h,hideYallWatches:m,loadAlerts:R,subscribeToAlerts:M,turnOff:y,turnOn:N,remove:d}},ub="Mapbox Navigation Night",pb="mapbox://fonts/mapbox/{fontstack}/{range}.pbf",mb="public",hb=8,gb=[0,0],fb=3,yb=[{id:"land",type:"background",layout:{},paint:{"background-color":"hsl(214, 17%, 31%)"}},{id:"landcover",type:"fill",source:"composite","source-layer":"landcover",maxzoom:7,layout:{},paint:{"fill-color":["match",["get","class"],"snow","hsl(214, 19%, 53%)","hsl(152, 18%, 19%)"],"fill-opacity":["interpolate",["exponential",1.5],["zoom"],2,.3,7,0],"fill-antialias":!1}},{id:"national-park",type:"fill",source:"composite","source-layer":"landuse_overlay",minzoom:5,filter:["==",["get","class"],"national_park"],layout:{},paint:{"fill-color":"hsl(170, 18%, 32%)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,.5,10,.5]}},{id:"landuse",type:"fill",source:"composite","source-layer":"landuse",minzoom:5,filter:["match",["get","class"],["park","airport","glacier","pitch","sand","facility"],!0,"cemetery",!0,"school",!0,"hospital",!0,"parking",["step",["zoom"],!1,15,!0],!1],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,["match",["get","class"],"park","hsl(170, 18%, 32%)","airport","hsl(230, 20%, 36%)","cemetery","hsl(152, 19%, 38%)","glacier","hsl(197, 5%, 63%)","hospital","hsl(252, 13%, 32%)","pitch","hsl(170, 19%, 27%)","sand","hsl(213, 18%, 20%)","school","hsl(200, 15%, 26%)","parking","hsl(215, 15%, 37%)","hsl(214, 21%, 29%)"],16,["match",["get","class"],"park","hsl(170, 18%, 32%)","airport","hsl(230, 34%, 34%)","cemetery","hsl(152, 19%, 38%)","glacier","hsl(197, 5%, 63%)","hospital","hsl(252, 7%, 34%)","pitch","hsl(170, 19%, 27%)","sand","hsl(213, 18%, 20%)","school","hsl(200, 15%, 26%)","parking","hsl(215, 15%, 37%)","hsl(214, 21%, 29%)"]],"fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,["match",["get","class"],"glacier",.5,1]]}},{id:"pitch-outline",type:"line",source:"composite","source-layer":"landuse",minzoom:15,filter:["==",["get","class"],"pitch"],layout:{},paint:{"line-color":"hsl(152, 10%, 19%)"}},{id:"waterway",type:"line",source:"composite","source-layer":"waterway",minzoom:8,layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},paint:{"line-color":"hsl(197, 15%, 43%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{id:"water",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(197, 15%, 43%)"}},{id:"land-structure-polygon",type:"fill",source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],layout:{},paint:{"fill-color":"hsl(214, 17%, 31%)"}},{id:"land-structure-line",type:"line",source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.99],["zoom"],14,.75,20,40],"line-color":"hsl(214, 17%, 31%)"}},{id:"aeroway-polygon",type:"fill",source:"composite","source-layer":"aeroway",minzoom:11,filter:["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],!0,!1]],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(230, 19%, 27%)",16,"hsl(230, 18%, 29%)"],"fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]}},{id:"aeroway-line",type:"line",source:"composite","source-layer":"aeroway",minzoom:9,filter:["==",["geometry-type"],"LineString"],layout:{},paint:{"line-color":["interpolate",["linear"],["zoom"],15,"hsl(230, 19%, 27%)",16,"hsl(230, 18%, 29%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,.5],18,["match",["get","type"],"runway",80,20]]}},{id:"building-outline",type:"line",source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"line-color":"hsl(214, 13%, 26%)","line-width":["interpolate",["exponential",1.5],["zoom"],15,.75,20,3],"line-opacity":["interpolate",["linear"],["zoom"],15,0,16,1]}},{id:"building",type:"fill",source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(214, 16%, 31%)",16,"hsl(214, 12%, 29%)"],"fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,1],"fill-outline-color":"hsl(214, 13%, 26%)"}},{id:"tunnel-minor-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"hsl(217, 4%, 19%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-dasharray":[3,3]}},{id:"tunnel-street-low-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,maxzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"hsl(213, 9%, 19%)"}},{id:"tunnel-street-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"hsl(217, 4%, 19%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20],"line-dasharray":[3,3]}},{id:"tunnel-secondary-tertiary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"hsl(217, 4%, 19%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-dasharray":[3,3]}},{id:"tunnel-primary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:10,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"hsl(217, 4%, 19%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-dasharray":[3,3]}},{id:"tunnel-major-link-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":["match",["get","class"],"motorway_link","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-dasharray":[3,3]}},{id:"tunnel-motorway-trunk-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":["match",["get","class"],"motorway","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-dasharray":[3,3]}},{id:"tunnel-construction-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20],"line-color":"hsl(217, 11%, 32%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]}},{id:"tunnel-major-link-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":["match",["get","class"],"motorway","hsl(215, 21%, 50%)","hsl(221, 21%, 50%)"]}},{id:"tunnel-minor-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"hsl(213, 9%, 19%)"}},{id:"tunnel-street-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"hsl(213, 9%, 19%)"}},{id:"tunnel-secondary-tertiary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-color":"hsl(213, 9%, 19%)"}},{id:"tunnel-primary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"hsl(213, 9%, 19%)"}},{id:"tunnel-motorway-trunk-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":["match",["get","class"],"motorway","hsl(215, 21%, 50%)","hsl(221, 21%, 50%)"]}},{id:"ferry",type:"line",source:"composite","source-layer":"road",minzoom:8,filter:["==",["get","type"],"ferry"],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":["interpolate",["linear"],["zoom"],15,"hsl(206, 8%, 36%)",17,"hsl(231, 8%, 36%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1],"line-dasharray":["step",["zoom"],["literal",[1,0]],13,["literal",[12,4]]]}},{id:"ferry-auto",type:"line",source:"composite","source-layer":"road",filter:["==",["get","type"],"ferry_auto"],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-color":["interpolate",["linear"],["zoom"],15,"hsl(206, 8%, 36%)",17,"hsl(231, 8%, 36%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"turning-feature-outline-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["geometry-type"],"Point"],["match",["get","class"],["turning_circle","turning_loop"],!0,!1]],layout:{"icon-image":"turning-circle-outline","icon-size":["interpolate",["exponential",1.5],["zoom"],15,.06,22,1.4],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-padding":0,"icon-rotation-alignment":"map"},paint:{}},{id:"road-minor-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10]}},{id:"road-street-low-navigation",type:"line",source:"composite","source-layer":"road",minzoom:11,maxzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"hsl(213, 9%, 19%)"}},{id:"road-street-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20]}},{id:"road-secondary-tertiary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28]}},{id:"road-primary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32]}},{id:"road-major-link-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:11,filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":["match",["get","class"],"motorway_link","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"road-motorway-trunk-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":["match",["get","class"],"motorway","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"road-construction-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","class"],"construction"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20],"line-color":"hsl(213, 9%, 19%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]}},{id:"road-major-link-navigation",type:"line",source:"composite","source-layer":"road",minzoom:11,filter:["all",["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",13,"round"],"line-join":["step",["zoom"],"miter",13,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":["match",["get","class"],"motorway_link","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]}},{id:"road-minor-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"hsl(213, 9%, 19%)"}},{id:"traffic-tunnel-link-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["link","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,0,15,3.5,18,7]}},{id:"traffic-tunnel-minor-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"service"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.75,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],15,1,18,7]}},{id:"road-street-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"hsl(213, 9%, 19%)"}},{id:"traffic-tunnel-street-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"street"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],14,1,18,6]}},{id:"road-secondary-tertiary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:8,filter:["all",["match",["get","class"],["secondary","tertiary"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,.175,10,.75,18,28],"line-color":"hsl(213, 9%, 19%)"}},{id:"traffic-tunnel-secondary-tertiary-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,15,3,18,7]}},{id:"road-primary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:6,filter:["all",["==",["get","class"],"primary"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"hsl(213, 9%, 19%)"}},{id:"traffic-tunnel-primary-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,18,10]}},{id:"road-motorway-trunk-case-low-navigation",type:"line",source:"composite","source-layer":"road",minzoom:5,maxzoom:13,filter:["all",["step",["zoom"],["==",["get","class"],"motorway"],6,["match",["get","class"],["motorway","trunk"],!0,!1]],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":["match",["get","class"],"motorway","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"traffic-tunnel-major-link-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:6,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,0,15,3.5,18,7]}},{id:"road-motorway-trunk-navigation",type:"line",source:"composite","source-layer":"road",minzoom:5,filter:["all",["match",["get","class"],["motorway","trunk"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",8,"round"],"line-join":["step",["zoom"],"miter",8,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":["step",["zoom"],["match",["get","class"],"motorway","hsl(215, 28%, 48%)","hsl(213, 9%, 19%)"],6,["match",["get","class"],"motorway","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]]}},{id:"traffic-tunnel-motorway-trunk-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],6,1,13,4,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 46%, 30%)","moderate","hsl(35, 65%, 45%)","heavy","hsl(0, 65%, 45%)","severe","hsl(340, 25%, 50%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],7,0,9,1,15,3,18,7]}},{id:"road-rail",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["major_rail","minor_rail"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(229, 24%, 26%)",16,"hsl(217, 0%, 47%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"road-rail-tracks",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["match",["get","class"],["major_rail","minor_rail"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(229, 24%, 26%)",16,"hsl(217, 0%, 47%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[.1,15],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]}},{id:"level-crossing-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:16,filter:["==",["get","class"],"level_crossing"],layout:{"icon-image":"level-crossing","icon-size":["interpolate",["exponential",1.5],["zoom"],16,.25,22,1],"icon-allow-overlap":!0},paint:{}},{id:"turning-feature-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["geometry-type"],"Point"],["match",["get","class"],["turning_circle","turning_loop"],!0,!1]],layout:{"icon-image":"turning-circle","icon-size":["interpolate",["exponential",1.5],["zoom"],15,.05,22,1.5],"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-padding":0,"icon-rotation-alignment":"map"},paint:{}},{id:"bridge-minor-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],15,.75,18,1.5],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10]}},{id:"bridge-street-low-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,maxzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2],"line-color":"hsl(213, 9%, 19%)"}},{id:"bridge-street-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.5,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20]}},{id:"bridge-secondary-tertiary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28]}},{id:"bridge-primary-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":"hsl(217, 11%, 32%)","line-gap-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32]}},{id:"bridge-major-link-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":["match",["get","class"],"motorway_link","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"bridge-motorway-trunk-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":["match",["get","class"],"motorway","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"bridge-construction-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"construction"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,2,18,20],"line-color":"hsl(217, 11%, 32%)","line-dasharray":["step",["zoom"],["literal",[.4,.8]],15,["literal",[.3,.6]],16,["literal",[.2,.3]],17,["literal",[.2,.25]],18,["literal",[.15,.15]]]}},{id:"bridge-major-link-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":["match",["get","class"],"motorway_link","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]}},{id:"bridge-minor-navigation",type:"line",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["track","secondary_link","tertiary_link","service"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,["match",["get","class"],"track",1,.5],18,10],"line-color":"hsl(213, 9%, 19%)"}},{id:"bridge-street-navigation",type:"line",source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["street","street_limited","primary_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.5,14,2,18,20],"line-color":"hsl(213, 9%, 19%)"}},{id:"bridge-secondary-tertiary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":["step",["zoom"],"miter",11,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,.75,18,28],"line-color":"hsl(213, 9%, 19%)"}},{id:"bridge-primary-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1.125,18,32],"line-color":"hsl(213, 9%, 19%)"}},{id:"bridge-motorway-trunk-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk"],!0,!1],["<=",["get","layer"],1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":["match",["get","class"],"motorway","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]}},{id:"bridge-major-link-2-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,.75,18,2],"line-color":["match",["get","class"],"motorway_link","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20]}},{id:"bridge-motorway-trunk-2-case-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.2],["zoom"],10,1,18,2],"line-color":["match",["get","class"],"motorway","hsl(215, 18%, 28%)","hsl(221, 13%, 28%)"],"line-gap-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32]}},{id:"bridge-major-link-2-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],12,.75,14,2,18,20],"line-color":["match",["get","class"],"motorway_link","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]}},{id:"bridge-motorway-trunk-2-navigation",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],[">=",["get","layer"],2],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1.25,18,32],"line-color":["match",["get","class"],"motorway","hsl(215, 28%, 48%)","hsl(221, 20%, 44%)"]}},{id:"bridge-rail",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(229, 24%, 26%)",16,"hsl(217, 0%, 47%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"bridge-rail-tracks",type:"line",source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["major_rail","minor_rail"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":["interpolate",["linear"],["zoom"],13,"hsl(229, 24%, 26%)",16,"hsl(217, 0%, 47%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],14,4,20,8],"line-dasharray":[.1,15],"line-opacity":["interpolate",["linear"],["zoom"],13.75,0,14,1]}},{id:"traffic-bridge-road-link-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["==",["geometry-type"],"LineString"],["!=",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["link","primary_link"],!0,!1]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,0,15,3.5,18,7]}},{id:"traffic-bridge-road-minor-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:15,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"service"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.75,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],15,1,18,7]}},{id:"traffic-bridge-road-street-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:13,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"street"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],14,1,18,7]}},{id:"traffic-bridge-road-secondary-tertiary-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:8,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["secondary","tertiary"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,15,3,18,7]}},{id:"traffic-bridge-road-primary-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:6,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["==",["get","class"],"primary"],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,18,10]}},{id:"traffic-bridge-road-major-link-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:6,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["motorway_link","trunk_link"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],10,1,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,0,15,3.5,18,7]}},{id:"traffic-bridge-road-motorway-trunk-case-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:5,maxzoom:13,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],6,2,13,7,18,10],"line-color":"hsl(214, 17%, 39%)","line-offset":["interpolate",["exponential",1.5],["zoom"],7,0,9,1,15,3,18,7]}},{id:"traffic-bridge-road-motorway-trunk-navigation",type:"line",source:"mapbox-traffic","source-layer":"traffic",minzoom:5,filter:["all",["!=",["get","structure"],"tunnel"],["has","congestion"],["match",["get","class"],["motorway","trunk"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-round-limit":1.5,"line-join":"round","line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],6,1,13,4,18,7],"line-color":["match",["get","congestion"],"low","hsl(180, 56%, 33%)","moderate","hsl(35, 80%, 50%)","heavy","hsl(0, 80%, 65%)","severe","hsl(340, 40%, 35%)","hsla(0, 0%, 0%, 0)"],"line-offset":["interpolate",["exponential",1.5],["zoom"],7,0,9,1,15,3,18,7]}},{id:"traffic-level-crossing-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:16,filter:["==",["get","class"],"level_crossing"],layout:{"icon-image":"level-crossing","icon-size":["interpolate",["exponential",1.5],["zoom"],16,.25,22,1],"icon-allow-overlap":!0},paint:{}},{id:"traffic-tunnel-oneway-arrow-blue-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","street","street_limited","tertiary"],!0,!1],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],!0,!1]]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.25,20,1],"icon-rotation-alignment":"map"},paint:{}},{id:"traffic-tunnel-oneway-arrow-white-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"tunnel"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link"],!0,!1],["==",["get","oneway"],"true"]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.4,20,1]},paint:{}},{id:"traffic-road-oneway-arrow-blue-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],!0,!1],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],!0,!1]],["match",["get","structure"],["none","ford"],!0,!1]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.25,20,1],"icon-rotation-alignment":"map"},paint:{}},{id:"traffic-road-oneway-arrow-white-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","oneway"],"true"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],!0,!1],["match",["get","structure"],["none","ford"],!0,!1]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.4,20,1]},paint:{}},{id:"traffic-bridge-oneway-arrow-blue-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["==",["get","oneway"],"true"],["step",["zoom"],["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],!0,!1],16,["match",["get","class"],["primary","secondary","tertiary","street","street_limited","primary_link","secondary_link","tertiary_link","service","track"],!0,!1]]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-small",17,["match",["get","class"],["primary","secondary","tertiary","street","street_limited"],"oneway-large","oneway-small"],18,"oneway-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.25,20,1],"icon-rotation-alignment":"map"},paint:{}},{id:"traffic-bridge-oneway-arrow-white-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","structure"],"bridge"],["match",["get","class"],["motorway","trunk","motorway_link","trunk_link"],!0,!1],["==",["get","oneway"],"true"]],layout:{"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],15,400,18,600,22,1200],"icon-image":["step",["zoom"],"oneway-white-small",17,"oneway-white-large"],"icon-size":["interpolate",["exponential",1.5],["zoom"],15,.45,20,1]},paint:{}},{id:"incident-closure-lines-navigation",type:"line",source:"mapbox-incidents","source-layer":"closures",minzoom:8,filter:["all",["==",["get","type"],"full"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-round-limit":1.5},paint:{"line-color":"hsl(214, 17%, 39%)","line-width":["interpolate",["exponential",1.5],["zoom"],5,1,18,7],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,18,10]}},{id:"incident-closure-line-highlights-navigation",type:"line",source:"mapbox-incidents","source-layer":"closures",minzoom:8,filter:["all",["==",["get","type"],"full"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round","line-round-limit":1.5},paint:{"line-color":"hsl(214, 0%, 71%)","line-width":["interpolate",["exponential",1.5],["zoom"],5,.6,18,4.2],"line-offset":["interpolate",["exponential",1.5],["zoom"],12,1,18,10],"line-dasharray":["step",["zoom"],["literal",[1,0]],14,["literal",[1,1]]]}},{id:"incident-endpoints-navigation",type:"symbol",source:"mapbox-incidents","source-layer":"closures",minzoom:8,filter:["all",["==",["get","type"],"endpoint:full"],["match",["geometry-type"],["LineString","Point"],!0,!1]],layout:{"icon-image":"road-closure","icon-size":["interpolate",["exponential",1.5],["zoom"],5,.15,18,.6,22,1],"icon-allow-overlap":!0},paint:{}},{id:"incident-startpoints-navigation",type:"symbol",source:"mapbox-incidents","source-layer":"closures",minzoom:8,filter:["all",["==",["get","type"],"startpoint:full"],["match",["geometry-type"],["LineString","Point"],!0,!1]],layout:{"icon-image":"road-closure","icon-size":["interpolate",["exponential",1.5],["zoom"],5,.15,18,.6,22,1],"icon-allow-overlap":!0},paint:{}},{id:"aerialway",type:"line",source:"composite","source-layer":"road",minzoom:12,filter:["==",["get","class"],"aerialway"],layout:{"line-join":"round"},paint:{"line-color":"hsl(217, 0%, 47%)","line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,20,1]}},{id:"admin-2-boundary-bg",type:"line",source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],paint:{"line-color":"hsl(250, 30%, 43%)","line-width":["interpolate",["linear"],["zoom"],3,3.9000000000000004,12,7.800000000000001],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.5],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,12,3.9000000000000004]}},{id:"admin-1-boundary-bg",type:"line",source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"bevel"},paint:{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(214, 17%, 31%)",16,"hsl(250, 30%, 46%)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.75],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{id:"admin-0-boundary-bg",type:"line",source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{},paint:{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(214, 17%, 31%)",8,"hsl(250, 30%, 46%)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{minzoom:5,layout:{},filter:["all",["==",["get","admin_level"],2],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],type:"line",source:"composite",id:"admin-2-boundary",paint:{"line-dasharray":["step",["zoom"],["literal",[3,2,5]],7,["literal",[2,1.5]]],"line-width":["interpolate",["linear"],["zoom"],3,.39,12,1.3],"line-opacity":["interpolate",["linear"],["zoom"],5,0,6,1],"line-color":"hsl(250, 10%, 70%)"},"source-layer":"admin"},{id:"admin-1-boundary",type:"line",source:"composite","source-layer":"admin",minzoom:2,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],3,.6,12,3],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(250, 6%, 60%)",7,"hsl(250, 10%, 70%)"]}},{id:"admin-0-boundary",type:"line",source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(250, 10%, 65%)","line-width":["interpolate",["linear"],["zoom"],3,1.75,10,2],"line-dasharray":[10,0]}},{id:"admin-0-boundary-disputed",type:"line",source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":"hsl(250, 10%, 65%)","line-width":["interpolate",["linear"],["zoom"],3,1.75,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{id:"admin-0-boundary-all",source:"country-boundaries","source-layer":"country_boundaries",type:"line",minzoom:1,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(250, 10%, 65%)","line-width":["interpolate",["linear"],["zoom"],3,1.75,10,2],"line-dasharray":[10,0]}},{id:"road-intersection",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["all",["==",["get","class"],"intersection"],["has","name"]],layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"icon-image":"intersection","icon-text-fit":"both","icon-text-fit-padding":[1,2,1,2],"text-size":12,"text-font":["DIN Pro Bold","Arial Unicode MS Bold"]},paint:{"text-color":"hsl(230, 57%, 52%)"}},{id:"road-label-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:13,filter:["step",["zoom"],["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],!0,!1],15.25,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street"],!0,!1],16,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],!0,!1],16.5,["match",["get","class"],["pedestrian","golf","ferry","aerialway","path"],!1,!0]],layout:{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],11,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],8.8,7.15],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],17.6,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],15.400000000000002,14.3],22,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],55.00000000000001,["motorway_link","trunk_link","primary_link","secondary_link","tertiary_link","street","street_limited"],44,33]],"text-max-angle":30,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","symbol-spacing":["interpolate",["linear"],["zoom"],10,150,18,450,22,1500],"text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.01},paint:{"text-color":"hsl(0, 0%, 90%)","text-halo-color":["match",["get","class"],["motorway","trunk"],"hsla(214, 24%, 30%, 0.75)","hsl(213, 9%, 19%)"],"text-halo-width":1,"text-halo-blur":1}},{id:"road-number-shield-navigation",type:"symbol",source:"composite","source-layer":"road",minzoom:6,filter:["all",["has","reflen"],["<=",["get","reflen"],6],["step",["zoom"],["==",["geometry-type"],"Point"],11,[">",["get","len"],5e3],12,[">",["get","len"],2500],13,[">",["get","len"],1e3],14,!0]],layout:{"text-size":["interpolate",["exponential",1.5],["zoom"],6,14,22,26],"icon-image":["concat",["get","shield"],"-",["to-string",["get","reflen"]]],"icon-size":["interpolate",["exponential",1.5],["zoom"],6,.5,13,.5,22,1],"icon-rotation-alignment":"viewport","text-max-angle":38,"symbol-placement":["step",["zoom"],"point",11,"line"],"symbol-spacing":["interpolate",["linear"],["zoom"],11,150,14,200,16,400,17,500,18,500,22,1200],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-rotation-alignment":"viewport","text-field":["get","ref"],"text-letter-spacing":.05},paint:{"text-color":["match",["get","shield_text_color"],"white","hsl(0, 0%, 78%)","yellow","hsl(50, 100%, 54%)","orange","hsl(25, 100%, 61%)","blue","hsl(230, 57%, 32%)","hsl(230, 18%, 10%)"]}},{id:"road-exit-shield-navigation",type:"symbol",source:"composite","source-layer":"motorway_junction",minzoom:14,filter:["all",["has","reflen"],["<=",["get","reflen"],9]],layout:{"text-field":["get","ref"],"text-size":["interpolate",["exponential",1.5],["zoom"],6,14,22,26],"text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"icon-image":["concat","motorway-exit-",["to-string",["get","reflen"]]],"icon-size":["interpolate",["exponential",1.5],["zoom"],6,.5,13,.5,22,1]},paint:{"text-color":"hsl(0, 0%, 78%)"}},{id:"ferry-aerialway-label",type:"symbol",source:"composite","source-layer":"road",minzoom:15,filter:["match",["get","class"],"aerialway",!0,"ferry",!0,!1],layout:{"text-size":["interpolate",["linear"],["zoom"],10,8.450000000000001,18,16.900000000000002],"text-max-angle":30,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.01},paint:{"text-color":["match",["get","class"],"ferry","hsl(197, 0%, 76%)","hsl(0, 0%, 90%)"],"text-halo-color":["match",["get","class"],"ferry","hsl(197, 15%, 43%)","hsl(215, 20%, 25%)"],"text-halo-width":1,"text-halo-blur":1}},{id:"waterway-label",type:"symbol",source:"composite","source-layer":"natural_label",minzoom:13,filter:["all",["match",["get","class"],["canal","river","stream"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_canal","disputed_river","disputed_stream"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":"hsl(197, 0%, 90%)"}},{id:"natural-line-label",type:"symbol",source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["glacier","landform"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_glacier","disputed_landform"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],0]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],19.8,5,13.200000000000001],17,["step",["get","sizerank"],19.8,13,13.200000000000001]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},paint:{"text-halo-width":.5,"text-halo-color":"hsl(215, 20%, 25%)","text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(236, 1%, 100%)",5,"hsl(236, 6%, 98%)"],17,["step",["get","sizerank"],"hsl(236, 1%, 100%)",13,"hsl(236, 6%, 98%)"]]}},{id:"natural-point-label",type:"symbol",source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],0]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],19.8,5,13.200000000000001],17,["step",["get","sizerank"],19.8,13,13.200000000000001]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(215, 20%, 25%)","text-halo-width":.5,"text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(236, 1%, 100%)",5,"hsl(236, 6%, 98%)"],17,["step",["get","sizerank"],"hsl(236, 1%, 100%)",13,"hsl(236, 6%, 98%)"]]}},{id:"water-line-label",type:"symbol",source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",.25,["sea","bay"],.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 11%, 63%)","hsl(197, 0%, 90%)"]}},{id:"water-point-label",type:"symbol",source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"]],layout:{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",.25,["bay","sea"],.15,.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 11%, 63%)","hsl(197, 0%, 90%)"]}},{id:"poi-label",type:"symbol",source:"composite","source-layer":"poi_label",minzoom:6,filter:["let","densityByClass",["match",["get","class"],"education",1,"landmark",2,"medical",1,"motorist",3,"park_like",1,0],["<=",["get","filterrank"],["case",["<",0,["var","densityByClass"]],["+",["step",["zoom"],0,16,1,17,2],["var","densityByClass"]],["var","densityByClass"]]]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],19.8,5,13.200000000000001],17,["step",["get","sizerank"],19.8,13,13.200000000000001]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(170, 23%, 17%)","education","hsl(200, 20%, 14%)","medical","hsl(252, 12%, 19%)","hsl(215, 20%, 25%)"],"text-halo-width":.5,"text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(232, 13%, 100%)","park_like","hsl(150, 52%, 77%)","education","hsl(200, 4%, 100%)","medical","hsl(252, 2%, 94%)","hsl(236, 1%, 100%)"],5,["match",["get","class"],"food_and_drink","hsl(232, 20%, 100%)","park_like","hsl(150, 51%, 66%)","education","hsl(200, 10%, 100%)","medical","hsl(252, 2%, 99%)","hsl(236, 6%, 98%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(232, 13%, 100%)","park_like","hsl(150, 52%, 77%)","education","hsl(200, 4%, 100%)","medical","hsl(252, 2%, 94%)","hsl(236, 1%, 100%)"],13,["match",["get","class"],"food_and_drink","hsl(232, 20%, 100%)","park_like","hsl(150, 51%, 66%)","education","hsl(200, 10%, 100%)","medical","hsl(252, 2%, 99%)","hsl(236, 6%, 98%)"]]]}},{id:"airport-label",type:"symbol",source:"composite","source-layer":"airport_label",minzoom:8,filter:["match",["get","class"],["military","civil"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_military","disputed_civil"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-line-height":1.1,"text-size":["step",["get","sizerank"],19.8,9,13.200000000000001],"icon-image":["step",["get","sizerank"],["concat",["get","maki"],"-15"],9,["concat",["get","maki"],"-11"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":[0,.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":.01,"text-max-width":9},paint:{"text-color":"hsl(230, 18%, 100%)","text-halo-color":"hsl(230, 39%, 19%)","text-halo-width":1}},{id:"settlement-subdivision-label",type:"symbol",source:"composite","source-layer":"place_label",minzoom:10,maxzoom:15,filter:["all",["match",["get","class"],"settlement_subdivision",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement_subdivision",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["<=",["get","filterrank"],3]],layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",.15,.1],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",12.100000000000001,11.55],15,["match",["get","type"],"suburb",18.700000000000003,17.6]]},paint:{"text-halo-color":"hsla(214, 24%, 30%, 0.75)","text-halo-width":1,"text-color":"hsl(215, 30%, 85%)","text-halo-blur":.5}},{id:"settlement-minor-label",type:"symbol",source:"composite","source-layer":"place_label",maxzoom:15,filter:["all",["<=",["get","filterrank"],6],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!0,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],layout:{"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-.3]],"bottom-left",["literal",[.3,-.1]],"left",["literal",[.45,.1]],"top-left",["literal",[.3,.1]],"top",["literal",[0,.3]],"top-right",["literal",[-.3,.1]],"right",["literal",[-.45,0]],"bottom-right",["literal",[-.3,-.1]],["literal",[0,-.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-.25]],"bottom-left",["literal",[.2,-.05]],"left",["literal",[.4,.05]],"top-left",["literal",[.2,.05]],"top",["literal",[0,.25]],"top-right",["literal",[-.2,.05]],"right",["literal",[-.4,.05]],"bottom-right",["literal",[-.2,-.05]],["literal",[0,-.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],3,["step",["get","symbolrank"],13.200000000000001,9,12.100000000000001,10,11.55,12,10.450000000000001,14,9.350000000000001,16,7.15,17,4.4],13,["step",["get","symbolrank"],27.500000000000004,9,25.3,10,23.1,11,20.900000000000002,12,19.8,13,18.700000000000003,15,16.5]]},paint:{"text-color":"hsl(215, 0%, 95%)","text-halo-color":"hsl(215, 20%, 25%)","text-halo-width":1,"text-halo-blur":1}},{id:"settlement-major-label",type:"symbol",source:"composite","source-layer":"place_label",maxzoom:15,filter:["all",["<=",["get","filterrank"],6],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!1,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],layout:{"icon-image":["step",["zoom"],["case",["==",["get","capital"],2],"border-dot-13",["step",["get","symbolrank"],"dot-11",9,"dot-10",11,"dot-9"]],8,""],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["match",["get","capital"],2,["match",["get","text_anchor"],"bottom",["literal",[0,-.3]],"bottom-left",["literal",[.3,-.1]],"left",["literal",[.45,.1]],"top-left",["literal",[.3,.1]],"top",["literal",[0,.3]],"top-right",["literal",[-.3,.1]],"right",["literal",[-.45,0]],"bottom-right",["literal",[-.3,-.1]],["literal",[0,-.3]]],["match",["get","text_anchor"],"bottom",["literal",[0,-.25]],"bottom-left",["literal",[.2,-.05]],"left",["literal",[.4,.05]],"top-left",["literal",[.2,.05]],"top",["literal",[0,.25]],"top-right",["literal",[-.2,.05]],"right",["literal",[-.4,.05]],"bottom-right",["literal",[-.2,-.05]],["literal",[0,-.25]]]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],["get","text_anchor"],8,"center"],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],8,["step",["get","symbolrank"],23.400000000000002,9,22.1,10,19.5],15,["step",["get","symbolrank"],36.4,9,33.800000000000004,10,29.900000000000002,11,27.3,12,26,13,24.7,15,20.8]]},paint:{"text-color":"hsl(215, 0%, 95%)","text-halo-color":"hsl(215, 20%, 25%)","text-halo-width":1,"text-halo-blur":1}},{id:"state-label",type:"symbol",source:"composite","source-layer":"place_label",minzoom:3,maxzoom:9,filter:["match",["get","class"],"state",["match",["get","worldview"],["all","US"],!0,!1],"disputed_state",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-size":["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,["step",["get","symbolrank"],12,6,11.4,7,10.799999999999999],9,["step",["get","symbolrank"],28.799999999999997,6,21.599999999999998,7,16.8]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":.15,"text-max-width":6},paint:{"text-color":"hsl(215, 0%, 95%)","text-halo-color":"hsl(215, 20%, 25%)","text-halo-width":1}},{id:"country-label",type:"symbol",source:"composite","source-layer":"place_label",minzoom:1,maxzoom:10,filter:["match",["get","class"],"country",["match",["get","worldview"],["all","US"],!0,!1],"disputed_country",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"icon-image":"","text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":1.1,"text-max-width":6,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["literal",[0,0]],"text-justify":["step",["zoom"],["match",["get","text_anchor"],["left","bottom-left","top-left"],"left",["right","bottom-right","top-right"],"right","center"],7,"center"],"text-size":["interpolate",["cubic-bezier",.2,0,.7,1],["zoom"],1,["step",["get","symbolrank"],15.399999999999999,4,12.6,5,11.2],9,["step",["get","symbolrank"],39.199999999999996,4,30.799999999999997,5,29.4]]},paint:{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(215, 0%, 95%)","text-halo-color":["interpolate",["linear"],["zoom"],2,"hsla(214, 24%, 30%, 0.75)",3,"hsl(215, 20%, 25%)"],"text-halo-width":1.25}}],Nb={"mapbox-traffic":{url:"mapbox://mapbox.mapbox-traffic-v1",type:"vector",data:{bounds:[-180,-90,180,90],cacheControl:"max-age=60,s-maxage=30",center:[-77.0325,38.9131,6],created:13965624e5,filesize:0,format:"pbf",id:"mapbox.mapbox-traffic-v1",mapbox_logo:!0,maxzoom:14,minzoom:6,modified:1594153892e3,name:"Mapbox Traffic v1",private:!1,scheme:"xyz",tilejson:"3.0.0",tiles:["https://a.tiles.mapbox.com/v4/mapbox.mapbox-traffic-v1/{z}/{x}/{y}.vector.pbf?access_token=sk.eyJ1IjoidXpkcml2ZXIiLCJhIjoiY2wwajkwN3U1MGFoNDNkcDZkZ3l4ejZuZCJ9.6nDTOCzVfOHTJRo991U9vg","https://b.tiles.mapbox.com/v4/mapbox.mapbox-traffic-v1/{z}/{x}/{y}.vector.pbf?access_token=sk.eyJ1IjoidXpkcml2ZXIiLCJhIjoiY2wwajkwN3U1MGFoNDNkcDZkZ3l4ejZuZCJ9.6nDTOCzVfOHTJRo991U9vg"],type:"overlay",vector_layers:[{id:"traffic",maxzoom:14,minzoom:6,source:"mapbox.mapbox-traffic-v1"}],version:"1",volatile:!0,webpage:"https://studio.mapbox.com/tilesets/mapbox.mapbox-traffic-v1"}},"mapbox-incidents":{url:"mapbox://mapbox.mapbox-incidents-v1",type:"vector",data:{bounds:[-180,-90,180,90],cacheControl:"max-age=60,s-maxage=30",center:[-77.0325,38.9131,6],created:13965624e5,filesize:0,format:"pbf",id:"mapbox.mapbox-incidents-v1",mapbox_logo:!0,maxzoom:14,minzoom:4,modified:1594153892e3,name:"Mapbox Incidents V1",private:!1,scheme:"xyz",tilejson:"3.0.0",tiles:["https://a.tiles.mapbox.com/v4/mapbox.mapbox-incidents-v1/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoid2VhdGhlcndpc2UtYXBwIiwiYSI6ImNseW96cjFxdTBtcmwydnM1dmt2cjhjczAifQ.NCw6Nqji8wed41RJEZ4SVQ","https://b.tiles.mapbox.com/v4/mapbox.mapbox-incidents-v1/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1Ijoid2VhdGhlcndpc2UtYXBwIiwiYSI6ImNseW96cjFxdTBtcmwydnM1dmt2cjhjczAifQ.NCw6Nqji8wed41RJEZ4SVQ"],type:"overlay",vector_layers:[{id:"closures",maxzoom:14,minzoom:4,source:"mapbox.mapbox-incidents-v1"}],version:"1",volatile:!0,webpage:"https://studio.mapbox.com/tilesets/mapbox.mapbox-incidents-v1"}},"country-boundaries":{type:"vector",url:"mapbox://mapbox.country-boundaries-v1"},composite:{url:"mapbox://mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2",type:"vector",data:{attribution:'<a href="https://www.mapbox.com/about/maps/" target="_blank" title="Mapbox" aria-label="Mapbox">&copy; Mapbox</a> <a href="https://www.openstreetmap.org/about/" target="_blank" title="OpenStreetMap" aria-label="OpenStreetMap">&copy; OpenStreetMap</a> <a class="mapbox-improve-map" href="https://www.mapbox.com/contribute/" target="_blank" title="Improve this map" aria-label="Improve this map">Improve this map</a>',bounds:[-180,-85,180,85],center:[0,0,0],constituents:[{maxzoom:16,minzoom:0,source:"mapbox.mapbox-streets-v8"},{maxzoom:15,minzoom:0,source:"mapbox.mapbox-terrain-v2"}],format:"pbf",language_options:{all:"Every available language",ar:"Arabic",ca:"Catalan",cs:"Czech",da:"Danish",de:"German",el:"Greek",en:"English",es:"Spanish",fa:"Farsi",fi:"Finnish",fr:"French",he:"Hebrew",hu:"Hungarian",id:"Indonesian",it:"Italian",ja:"Japanese",ka:"Georgian",ko:"Korean",local:"Renderable local language",lv:"Latvian",ms:"Malay",nb:"Norwegian Bokmål",nl:"Dutch",no:"Norwegian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sk:"Slovak",sl:"Slovenian",sr:"Serbian",sv:"Swedish",th:"Thai",tl:"Tagalog",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese","zh-Hans":"Simplified Chinese","zh-Hant":"Traditional Chinese"},mapbox_logo:!0,maskLevel:9,maxzoom:16,minzoom:0,name:"Mapbox Terrain v2 + Mapbox Streets v8",scheme:"xyz",tilejson:"3.0.0",tiles:["https://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoiYXBwY2FyczciLCJhIjoiY2p6aTM2NjR6MTIxZTNocWtqdmhkbnQxNSJ9.07YAddjJ7M528Wyqqmkkjw","https://b.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8,mapbox.mapbox-terrain-v2/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoiYXBwY2FyczciLCJhIjoiY2p6aTM2NjR6MTIxZTNocWtqdmhkbnQxNSJ9.07YAddjJ7M528Wyqqmkkjw"],vector_layers:[{id:"landuse",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"waterway",minzoom:7,source:"mapbox.mapbox-streets-v8"},{id:"water",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"aeroway",minzoom:9,source:"mapbox.mapbox-streets-v8"},{id:"structure",minzoom:13,source:"mapbox.mapbox-streets-v8"},{id:"building",minzoom:12,source:"mapbox.mapbox-streets-v8"},{id:"landuse_overlay",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"road",minzoom:3,source:"mapbox.mapbox-streets-v8"},{id:"admin",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"place_label",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"airport_label",minzoom:8,source:"mapbox.mapbox-streets-v8"},{id:"transit_stop_label",minzoom:5,source:"mapbox.mapbox-streets-v8"},{id:"natural_label",minzoom:0,source:"mapbox.mapbox-streets-v8"},{id:"poi_label",minzoom:6,source:"mapbox.mapbox-streets-v8"},{id:"motorway_junction",minzoom:9,source:"mapbox.mapbox-streets-v8"},{id:"housenum_label",minzoom:16,source:"mapbox.mapbox-streets-v8"},{id:"landcover",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{id:"hillshade",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"},{id:"contour",maxzoom:22,minzoom:0,source:"mapbox.mapbox-terrain-v2"}],worldview_default:"US",worldview_options:{ALL:"Every available worldview",AR:"Argentina",CN:"China",IN:"India",JP:"Japan",MA:"Morocco",RS:"Serbia",RU:"Russia",TR:"Turkey",US:"United States"}}}},vb="mapbox://sprites/mapbox/navigation-night-v1",bb="1970-01-01T00:00:00.000Z",wb="1970-01-01T00:00:00.000Z",xb="mapbox",_b="navigation-night-v1",Sb=!1,kb={name:ub,glyphs:pb,visibility:mb,version:hb,center:gb,zoom:fb,layers:yb,sources:Nb,sprite:vb,created:bb,modified:wb,owner:xb,id:_b,draft:Sb},Ab="pk.eyJ1Ijoid2VhdGhlcndpc2UtYXBwIiwiYSI6ImNtNmp2bW15ZzA1ZHIyanNjd3ZmMGZlcTkifQ.1UTOnh0BA0hiBvbFSZPH7w",Cb=2;class Tb{constructor(){this.currentId=0,this.mapTable={},this.components=[],this.stores=[],this.onLoadFirstMapCallbacks=[],this.onLoadCallbacks=[],this.defaultMaxPitch=85,this.defaultMinPitch=0,this.popups=new En(this),this.addComponent("nav-control",e=>{const t=new Te.NavigationControl({showZoom:!C.isNativeApp(),visualizePitch:!0});return this.subscription.hasActiveSubscription()===!0&&(e.hasControl(t)||e.addControl(t)),t}),this.mapsStore=null,this.mapSettingsStore=null,this.subscription=null}setup(){this.mapsStore=bs(),this.mapSettingsStore=ws(),this.mapStyle=no(),this.yallMode=Yt(),this.subscription=we(),this.push()}push(){const e=this.currentId++;if(this.mapsStore.mapsToLoad.length>=Cb)throw new Error("Max. maps reached");this.mapsStore.mapsToLoad.push({id:e}),this.forEach(t=>{t.getProjection().name===ht&&t.setProjection(Ct)})}pop(e){if(!(e in this.mapTable))return;this.mapsStore.activeMapId===e&&(this.mapsStore.activeMapId=this.mapsStore.maps[0].id);const t=this.map(e);t.off(),t.stop();const o=t.getStyle().layers||[];for(const r of o)t.getLayer(r.id)&&t.removeLayer(r.id);const a=Object.keys(t.getStyle().sources);for(const r of a)t.getSource(r)&&t.removeSource(r);t.remove(),this.mapsStore.maps=this.mapsStore.maps.filter(r=>r.id!==e),this.mapsStore.mapsToLoad=this.mapsStore.mapsToLoad.filter(r=>r.id!==e),delete this.mapTable[e],this.mapsStore.maps.length===1&&this.mapSettingsStore.getProjection===ht&&this.mapboxMapsFirst().setProjection(ht)}defaultMapStyle(){const e=JSON.parse(JSON.stringify(kb));return e.layers=e.layers.filter(t=>!t.id.startsWith("traffic-")).filter(t=>!t.id.startsWith("incident-")),"mapbox-incidents"in e.sources&&delete e.sources["mapbox-incidents"],"mapbox-traffic"in e.sources&&delete e.sources["mapbox-traffic"],this.mapStyle.applyMapStyleCustomisation(e)}async getMapStyle(e){if(e>0)return this.mapboxMapsFirst().getStyle();if(this.yallMode.isVisible())return Ur();if(["satellite","default"].includes(this.mapSettingsStore.tileStyle))return this.defaultMapStyle();const t=await this.mapStyle.loadExternalMapStyle(`${this.mapSettingsStore.tileStyle}.json`);return this.mapStyle.applyMapStyleCustomisation(t)}async create(e,t){const o=await this.getMapStyle(e),r=e===0?[[-130.689866,15.458159],[-62.009844,53.686814]]:this.mapboxMapsFirst().getBounds(),n=e===0?this.getProjection():"mercator",l={accessToken:Ab,container:t,style:o,bounds:r,projection:n,preserveDrawingBuffer:!0,fadeDuration:0,crossSourceCollisions:!1,transformRequest:(d,m)=>{if(m==="Image")return{url:d,headers:{Origin:window.location.origin}}}};return e===0&&(l.hash="map"),new Promise((d,m)=>{const h=new Te.Map(l);if(h.id=e,h.components={},h.stores={},this.loadCustomSprites(h),e>0){h.style.imageManager.images=this.mapboxMapsFirst().style.imageManager.images;for(const f in this.mapboxMapsFirst()._delegatedListeners)for(const y of this.mapboxMapsFirst()._delegatedListeners[f])h.on(f,Array.from(y.layers),y.listener)}if(typeof h.touchZoomRotate._touchRotate._isBelowThreshold!="function")throw new Error("Unable to monkey patch _isBelowThreshold in touchRotate");h.touchZoomRotate._touchRotate._isBelowThreshold=(function(f){function N(B,I){return B.angleWith(I)*180/Math.PI}this._minDiameter=Math.min(this._minDiameter,f.mag());const S=45/(Math.PI*this._minDiameter)*360,v=this._startVector;if(!v)return!1;const A=N(f,v);return Math.abs(A)<S}).bind(h.touchZoomRotate._touchRotate),Db(h),this.removeMapPitchRotation(h),h.scrollZoom.setZoomRate(.01*2.2),h.scrollZoom.setWheelZoomRate(.002222*2.2),e>0&&(hi(this.mapboxMapsFirst(),h),this.addMapPitchRotation(h),this.mapboxMapsFirst().setCenter(this.mapboxMapsFirst().getCenter())),this.stores.forEach(f=>{h.stores[f.key]=f.fn(h)}),h.on("load",()=>{this.components.forEach(f=>{h.components[f.key]=f.fn(h)}),this.mapsStore.maps.push({id:e}),this.userHasPlusSubscription()&&this.applyPlusFeaturesToMap(h),h.id===0?(C.init(),this.yallMode.isVisible()&&this.yallMode.applyCustomModifications(),this.onLoadFirstMapCallbacks.forEach(f=>f(h))):this.onLoadCallbacks.forEach(f=>f(h)),d(h)}),h.on("click",()=>{this.mapsStore.activeMapId=h.id}),h.id===0&&Kt.isToDesktop()&&["moveend","zoomend","rotateend","pitchend"].forEach(f=>{h.on(f,()=>{new Ne().save()})}),this.mapTable[e]=h})}onLoadFirstMap(e){if(this.mapsStore!==null&&this.mapsStore.maps.length>0)return e(this.mapboxMapsFirst());this.onLoadFirstMapCallbacks.push(e)}addMapPitchRotation(e){e.dragRotate.enable(),e.touchZoomRotate.enableRotation(),e.keyboard.enableRotation(),e.touchPitch.enable(),e.setMaxPitch(this.defaultMaxPitch),e.setMinPitch(this.defaultMinPitch)}loadCustomSprites(e){e.style._loadSprite(window.location.protocol+"//"+window.location.host+"/sprites/maki")}removeMapPitchRotation(e){e.dragRotate.disable(),e.touchZoomRotate.disableRotation(),e.keyboard.disableRotation(),e.touchPitch.disable(),e.setMaxPitch(0),e.setMinPitch(0)}applyFogToMap(e){e.setFog({"horizon-blend":.02,color:"#242B4B","high-color":"#161B36","space-color":"#0B1026","star-intensity":.5})}apply3DBuildingsToMap(e){const o=e.getStyle().layers.find(a=>a.type==="symbol"&&a.layout["text-field"]).id;this.getLayer("ww-3d-buildings")||e.addLayer({id:"ww-3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6},layout:{visibility:["satellite"].includes(this.mapSettingsStore.tileStyle)?"none":"visible"}},o)}map(e){return this.mapTable[e]}resetNorthPitch(){this.forEach(e=>e.resetNorthPitch())}resetNorth(){this.forEach(e=>e.resetNorth())}disableMapRotation(){this.mapboxMapsFirst()!==null&&this.forEach(e=>{this.removeMapPitchRotation(e),e.hasControl(e.components["nav-control"])&&e.removeControl(e.components["nav-control"])})}enableMapRotation(){this.mapboxMapsFirst()!==null&&this.forEach(e=>{this.addMapPitchRotation(e),e.hasControl(e.components["nav-control"])||e.addControl(e.components["nav-control"])})}applyPlusFeaturesToMap(e){this.applyFogToMap(e),this.apply3DBuildingsToMap(e),e.id===0&&this.mapSettingsStore.getProjection===ht&&e.setProjection(ht)}applyPlusFeatures(){this.userHasPlusSubscription()&&(this.enableMapRotation(),this.forEach(e=>this.applyPlusFeaturesToMap(e)))}getProjection(){return this.mapSettingsStore.getProjection===ht&&this.userHasPlusSubscription()?ht:Ct}userHasPlusSubscription(){return this.subscription.isAtleast(this.subscription.tiers.PLUS)}activeMap(){return this.mapTable[this.mapsStore.activeMapId]}mapsToLoad(){return this.mapsStore.mapsToLoad}maps(){return this.mapsStore.maps}mapsIds(){return this.mapsStore.maps.map(e=>e.id)}mapboxMaps(){return Object.values(this.mapTable)}mapboxMapsFirst(){return this.mapsStore.maps.length===0?null:this.mapTable[this.mapsStore.maps[0].id]}forEach(e){this.mapboxMaps().forEach(e)}asyncEach(e){return Promise.allSettled(this.mapboxMaps().map(e))}addComponent(e,t){this.components.push({key:e,fn:t}),this.mapboxMaps().forEach(o=>{o.components[e]=t(o)})}addStore(e,t){this.stores.push({key:e,fn:t}),this.mapboxMaps().forEach(o=>{o.stores[e]=t(o)})}onLoad(e){this.onLoadCallbacks.push(e)}isUserInteracting(){return this.mapsStore.isUserInteracting}getSource(...e){if(this.mapboxMapsFirst().getSource(...e)!==void 0)return{setData:(...t)=>{for(const o in this.mapTable)this.mapTable[o].getSource(...e).setData(...t)},setTiles:(...t)=>{for(const o in this.mapTable)this.mapTable[o].getSource(...e).setTiles(...t)}}}addSource(...e){for(const t in this.mapTable)this.mapTable[t].addSource(...e)}getLayer(...e){const t={};for(const o in this.mapTable){const a=this.mapTable[o].getLayer(...e);a!==void 0&&(t[o]=a)}if(Object.keys(t).length!==0)return t}removeSource(...e){for(const t in this.mapTable)try{this.mapTable[t].removeSource(...e)}catch{}}addLayer(...e){for(const t in this.mapTable)this.mapTable[t].addLayer(...e)}removeLayer(...e){for(const t in this.mapTable)try{this.mapTable[t].removeLayer(...e)}catch{}}hasImage(...e){return Object.keys(this.mapTable).map(t=>this.mapTable[t].hasImage(...e)).every(t=>t===!0)}addImage(...e){for(const t in this.mapTable)this.mapTable[t].hasImage(e[0])||this.mapTable[t].addImage(...e)}removeImage(...e){for(const t in this.mapTable)try{this.mapTable[t].removeImage(...e)}catch{}}async asyncLoadAndAddImage(...e){const t=[];for(const o in this.mapTable)t.push(this.mapTable[o].asyncLoadAndAddImage(...e));return await Promise.allSettled(t)}async loadImage(...e){const t=[];for(const o in this.mapTable)this.mapTable[o].hasImage(e[0])||t.push(new Promise((a,r)=>{this.mapTable[o].loadImage(e[0],(n,l)=>{if(n)return e[1](n),r(n);e[1](null,l),a()})}));return await Promise.allSettled(t)}setPaintProperty(...e){for(const t in this.mapTable)this.mapTable[t].setPaintProperty(...e)}setLayoutProperty(...e){for(const t in this.mapTable)try{this.mapTable[t].setLayoutProperty(...e)}catch{}}setFilter(...e){for(const t in this.mapTable)try{this.mapTable[t].setFilter(...e)}catch{}}setFeatureState(...e){for(const t in this.mapTable)this.mapTable[t].setFeatureState(...e)}setProjection(...e){for(const t in this.mapTable)this.mapTable[t].setProjection(...e)}fitBounds(...e){this.mapTable[Object.keys(this.mapTable)[0]].fitBounds(...e)}on(...e){for(const t in this.mapTable)this.mapTable[t].on(...e)}off(...e){for(const t in this.mapTable)this.mapTable[t].off(...e)}resize(){for(const e in this.mapTable)this.mapTable[e].resize()}flyTo(...e){this.mapboxMapsFirst().flyTo(...e)}easeTo(...e){this.mapboxMapsFirst().easeTo(...e)}triggerRepaint(){for(const e in this.mapTable)this.mapTable[e].triggerRepaint()}unproject(...e){return this.mapTable[Object.keys(this.mapTable)[0]].unproject(...e)}}const g=new Tb,Ja=(i,e)=>{let t;return(...o)=>{clearTimeout(t),t=setTimeout(()=>{i.apply(void 0,o)},e)}},Gr=i=>(...e)=>{const t=e[0];if(t.ww_stopPropagation_!==!0)return t.ww_stopPropagation_=!0,i.apply(void 0,e)};let ds=[];const Bb=Ja(i=>{g.popups.clear();const e=Ja(()=>{g.popups.clear()},1);ds.push(()=>{const t=window.document.createElement("div");return Tt(Xt(Bn,{lngLat:i.lngLat,onClose:()=>{e()}}),t),t}),g.mapboxMaps().forEach(t=>{const o=window.document.createElement("div"),a=window.document.createElement("div");a.style.maxHeight="30vh";const r=()=>{a.scrollHeight<=a.clientHeight+5||(a.style.overflowY="auto",a.style.position="relative",a.style.setProperty("--scrollbar-width","8px"),a.style.setProperty("--mask-height","40px"),a.style.overflowY="auto",a.style.paddingRight="8px",a.style.setProperty("--mask-image-content","linear-gradient(to bottom, black, black calc(100% - var(--mask-height) - 15px), transparent)"),a.style.setProperty("--mask-size-content","calc(100% - var(--scrollbar-width)) 100%"),a.style.setProperty("--mask-image-scrollbar","linear-gradient(black, black)"),a.style.setProperty("--mask-size-scrollbar","var(--scrollbar-width) 100%"),a.style.maskImage="var(--mask-image-content), var(--mask-image-scrollbar)",a.style.webkitMaskImage="var(--mask-image-content), var(--mask-image-scrollbar)",a.style.maskSize="var(--mask-size-content), var(--mask-size-scrollbar)",a.style.webkitMaskSize="var(--mask-size-content), var(--mask-size-scrollbar)",a.style.maskPosition="0 0, 100% 0",a.style.webkitMaskPosition="0 0, 100% 0",a.style.maskRepeat="no-repeat, no-repeat",a.style.webkitMaskRepeat="no-repeat, no-repeat",a.style.scrollbarWidth="thin",a.style.scrollbarColor="currentColor transparent",a.addEventListener("scroll",()=>{a.scrollHeight-a.scrollTop-a.clientHeight<5?(a.style.maskImage="none",a.style.webkitMaskImage="none"):(a.style.maskImage="var(--mask-image-content), var(--mask-image-scrollbar)",a.style.webkitMaskImage="var(--mask-image-content), var(--mask-image-scrollbar)")}))},n=ds.map(m=>m()),l=n.pop();n.forEach((m,h)=>{if(a.appendChild(m),h+1!==n.length){const f=document.createElement("hr");f.style="margin-top: 5px; margin-bottom: 3px;",a.appendChild(f)}}),o.appendChild(a),o.appendChild(l);const d=g.popups.create({focusAfterOpen:!1,closeButton:!1,maxWidth:"none"}).setLngLat(i.lngLat).setDOMContent(o).on("close",()=>{n.forEach(m=>Tt(null,m)),e()}).addTo(t);g.popups.push(d),r()}),ds=[]},50),lt=i=>(...e)=>{const t=e[0];if(t.ww_stopPropagation_===!0)return;const o=i.apply(void 0,e);if(o!==void 0){if(typeof o!="function"){console.error("Content for popup needs to be a function");return}ds.push(o),Bb(t)}},Db=i=>{const e=bs(),t=["mousedown","dragstart","zoomstart","rotatestart","pitchstart"],o=["mouseup","dragend","zoomend","rotateend","pitchend"];t.forEach(a=>{i.on(a,()=>{e.isUserInteracting=!0})}),o.forEach(a=>{i.on(a,()=>{e.isUserInteracting=!1})})},St=i=>{const t={...{size:128,color:"#FFFFFF",border_color:"#000000",border_size:4,text:"",text_font:"bold 16px Arial",text_color:"#313439"},...i};return{width:t.size,height:t.size,data:new Uint8Array(t.size*t.size*4),onAdd:function(){const o=document.createElement("canvas");o.width=this.width,o.height=this.height,this.context=o.getContext("2d");const a=t.size/2-2,r=this.context;r.beginPath(),r.arc(this.width/2,this.height/2,a,0,Math.PI*2),r.fillStyle=t.color,r.strokeStyle=t.border_color,r.lineWidth=t.border_size,r.fill(),r.stroke(),t.text.length>0&&(r.textBaseline="middle",r.textAlign="center",r.font=t.text_font,r.fillStyle=t.text_color,r.fillText(t.text,o.width/2,o.height/2+2)),this.data=r.getImageData(0,0,this.width,this.height).data},render:function(){return!0}}},Ts=i=>{const t={...{width:128,height:64,color:"#FF0000",border_color:"#FFFFFF",border_size:4,corner_radius:10,text:"",text_font:"bold 16px Arial",text_color:"#313439"},...i};return{width:t.width,height:t.height,data:new Uint8Array(t.width*t.height*4),onAdd:function(){const o=document.createElement("canvas");o.width=this.width,o.height=this.height,this.context=o.getContext("2d");const a=this.context,r=t.border_size/2,n=t.border_size/2,l=this.width-t.border_size,d=this.height-t.border_size,m=t.corner_radius;a.beginPath(),a.moveTo(r+m,n),a.lineTo(r+l-m,n),a.quadraticCurveTo(r+l,n,r+l,n+m),a.lineTo(r+l,n+d-m),a.quadraticCurveTo(r+l,n+d,r+l-m,n+d),a.lineTo(r+m,n+d),a.quadraticCurveTo(r,n+d,r,n+d-m),a.lineTo(r,n+m),a.quadraticCurveTo(r,n,r+m,n),a.closePath(),a.fillStyle=t.color,a.strokeStyle=t.border_color,a.lineWidth=t.border_size,a.fill(),a.stroke(),t.text.length>0&&(a.textBaseline="middle",a.textAlign="center",a.font=t.text_font,a.fillStyle=t.text_color,a.fillText(t.text,this.width/2,this.height/2)),this.data=a.getImageData(0,0,this.width,this.height).data},render:function(){return!0}}},Ib=i=>{const t={...{size:10,color:"#000000"},...i};return{width:t.size,height:t.size,data:new Uint8Array(t.size*t.size*4),onAdd:function(){const o=document.createElement("canvas");o.width=this.width,o.height=this.height,this.context=o.getContext("2d"),this.context.fillStyle=t.color,this.context.fillRect(2,7,1,1),this.context.fillRect(3,6,1,1),this.context.fillRect(4,5,1,1),this.context.fillRect(5,4,1,1),this.context.fillRect(6,3,1,1),this.context.fillRect(7,2,1,1),this.data=this.context.getImageData(0,0,this.width,this.height).data},render:function(){return!0}}},Eb=[{type:"Feature",geometry:{type:"Point",coordinates:[-92.262194,34.8365,649]},properties:{id:"KLZK",code:"KLZK",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-96.968056,32.926111,623]},properties:{id:"TDAL",code:"TDAL",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.528889,39.083889,472]},properties:{id:"TIAD",code:"TIAD",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-121.677833,38.501111,144]},properties:{id:"KDAX",code:"KDAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.7,41.358611,1056]},properties:{id:"KIWX",code:"KIWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-157.180278,21.132778,1444]},properties:{id:"PHMO",code:"PHMO",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.209722,46.836944,1542]},properties:{id:"KDLH",code:"KDLH",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-100.864444,48.393056,1590]},properties:{id:"KMBX",code:"KMBX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-120.397917,34.83855,1354]},properties:{id:"KVBX",code:"KVBX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.564161,36.175131,749]},properties:{id:"KINX",code:"KINX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-94.361889,35.290417,737]},properties:{id:"KSRX",code:"KSRX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.73,41.651111,764]},properties:{id:"TMDW",code:"TMDW",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-96.918056,33.065,584]},properties:{id:"TDFW",code:"TDFW",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.881111,40.588889,112]},properties:{id:"TJFK",code:"TJFK",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.007361,36.98405,255]},properties:{id:"KAKQ",code:"KAKQ",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-91.191111,43.822778,1357]},properties:{id:"KARX",code:"KARX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.736781,42.948789,790]},properties:{id:"KBUF",code:"KBUF",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.703167,24.5975,89]},properties:{id:"KBYX",code:"KBYX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.166431,44.511,431]},properties:{id:"KCXX",code:"KCXX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-114.89165,35.70135,4948]},properties:{id:"KESX",code:"KESX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-101.700278,39.366944,3716]},properties:{id:"KGLD",code:"KGLD",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.325556,47.527778,1083]},properties:{id:"KMVX",code:"KMVX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.78975,32.53665,560]},properties:{id:"KMXX",code:"KMXX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.873333,35.344722,435]},properties:{id:"KNQA",code:"KNQA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-118.852931,45.69065,1580]},properties:{id:"KPDT",code:"KPDT",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-98.127717,36.740617,1258]},properties:{id:"KVNX",code:"KVNX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-106.120033,33.077,4270]},properties:{id:"KHDX",code:"KHDX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[127.285561,37.207569,1521]},properties:{id:"RKSG",code:"RKSG",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-70.933056,42.158056,262]},properties:{id:"TBOS",code:"TBOS",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.241944,29.516111,118]},properties:{id:"THOU",code:"THOU",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.696944,36.001944,515]},properties:{id:"TRDU",code:"TRDU",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-67.806431,46.03925,860]},properties:{id:"KCBW",code:"KCBW",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.984722,42.199694,1703]},properties:{id:"KBGM",code:"KBGM",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.51125,27.784017,142]},properties:{id:"KCRP",code:"KCRP",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.984444,32.279944,609]},properties:{id:"KDGX",code:"KDGX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,1.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.410731,39.947089,230]},properties:{id:"KDIX",code:"KDIX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-99.254333,32.5385,1582]},properties:{id:"KDYX",code:"KDYX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-106.698,31.873056,4218]},properties:{id:"KEPZ",code:"KEPZ",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.443056,37.654444,1400]},properties:{id:"KICT",code:"KICT",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-100.4925,31.371278,2004]},properties:{id:"KSJT",code:"KSJT",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-114.656711,32.495281,239]},properties:{id:"KYUX",code:"KYUX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[126.622222,35.924167,192]},properties:{id:"RKJK",code:"RKJK",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-104.52611,39.728056,5702]},properties:{id:"TDEN",code:"TDEN",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.042194,32.655528,229]},properties:{id:"KCLX",code:"KCLX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.111111,44.498633,823]},properties:{id:"KGRB",code:"KGRB",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.219833,34.883306,1069]},properties:{id:"KGSP",code:"KGSP",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.943889,37.975278,833]},properties:{id:"KLVX",code:"KLVX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.876189,34.775908,145]},properties:{id:"KMHX",code:"KMHX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-117.626778,47.680417,2449]},properties:{id:"KOTX",code:"KOTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-93.400419,37.235239,1375]},properties:{id:"KSGF",code:"KSGF",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,1.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.328944,30.397583,177]},properties:{id:"KTLH",code:"KTLH",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-155.568889,19.095,1461]},properties:{id:"PHWA",code:"PHWA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.566944,30.065,253]},properties:{id:"TIAH",code:"TIAH",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.933056,44.871111,1122]},properties:{id:"TMSP",code:"TMSP",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-106.823889,35.149722,5951]},properties:{id:"KABX",code:"KABX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-104.806031,41.151919,6193]},properties:{id:"KCYS",code:"KCYS",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.429108,33.98915,145]},properties:{id:"KLTX",code:"KLTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.4875,38.976111,404]},properties:{id:"KLWX",code:"KLWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-147.501431,65.035114,2707]},properties:{id:"PAPD",code:"PAPD",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.51,35.276111,1309]},properties:{id:"TOKC",code:"TOKC",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.326111,28.343889,171]},properties:{id:"TMCO",code:"TMCO",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.518056,27.86,92]},properties:{id:"TTPA",code:"TTPA",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.30315,32.573,777]},properties:{id:"KFWS",code:"KFWS",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-119.632139,36.314181,340]},properties:{id:"KHNX",code:"KHNX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-116.8027,40.73955,6895]},properties:{id:"KLRX",code:"KLRX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-122.717369,42.081169,7561]},properties:{id:"KMAX",code:"KMAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NXB","N0B","NAB","N1B","NBB","N2B","N3B","NXG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","NXC","N0C","NAC","N1C","NBC","N2C","N3C","NXK","N0K","NAK","N1K","NBK","N2K","N3K","NXH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[-.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-93.565528,44.848889,1101]},properties:{id:"KMPX",code:"KMPX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-98.441944,40.320833,2057]},properties:{id:"KUEX",code:"KUEX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.403056,30.021944,98]},properties:{id:"TMSY",code:"TMSY",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-124.292167,40.498583,2516]},properties:{id:"KBHX",code:"KBHX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.859867,41.413217,860]},properties:{id:"KCLE",code:"KCLE",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.4,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.921667,30.565033,221]},properties:{id:"KEVX",code:"KEVX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.280278,39.7075,887]},properties:{id:"KIND",code:"KIND",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.548333,46.531111,1525]},properties:{id:"KMQT",code:"KMQT",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.277761,35.333361,1278]},properties:{id:"KTLX",code:"KTLX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-135.529167,56.852778,272]},properties:{id:"PACG",code:"PACG",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-96.729444,43.587778,1495]},properties:{id:"KFSD",code:"KFSD",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.001806,30.890278,330]},properties:{id:"KVAX",code:"KVAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-124.106667,47.116944,366]},properties:{id:"KLGX",code:"KLGX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.491111,25.758056,125]},properties:{id:"TMIA",code:"TMIA",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.27,40.593056,135]},properties:{id:"TEWR",code:"TEWR",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-98.413333,45.455833,1383]},properties:{id:"KABR",code:"KABR",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-116.236033,43.490217,3172]},properties:{id:"KCBX",code:"KCBX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.580833,41.611667,851]},properties:{id:"KDVN",code:"KDVN",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-94.264472,38.81025,1092]},properties:{id:"KEAX",code:"KEAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-104.545806,39.786639,5611]},properties:{id:"KFTG",code:"KFTG",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.083611,34.930556,1859]},properties:{id:"KHTX",code:"KHTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-112.862183,37.59105,10757]},properties:{id:"KICX",code:"KICX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.350833,32.675683,618]},properties:{id:"KJGX",code:"KJGX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.24,30.679444,289]},properties:{id:"KMOB",code:"KMOB",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.401944,36.168611,1434]},properties:{id:"KMRX",code:"KMRX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-112.447778,41.262778,6594]},properties:{id:"KMTX",code:"KMTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[0,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-72.863917,40.865528,199]},properties:{id:"KOKX",code:"KOKX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.976111,31.155278,473]},properties:{id:"KPOE",code:"KPOE",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-108.4773,43.066089,5633]},properties:{id:"KRIW",code:"KRIW",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-96.23255,38.99695,1415]},properties:{id:"KTWX",code:"KTWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-161.876389,60.791944,193]},properties:{id:"PABC",code:"PABC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[144.811111,13.455833,386]},properties:{id:"PGUA",code:"PGUA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","N0X","NAX","N1X","N0C","NAC","N1C","N0K","NAK","N1K","N0H","NAH","N1H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.885,35.336944,869]},properties:{id:"TCLT",code:"TCLT",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.61,38.046111,732]},properties:{id:"TSDF",code:"TSDF",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.407,30.519000000000002,44]},properties:{id:"KHDC",code:"KHDC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-71.136861,41.955778,232]},properties:{id:"KBOX",code:"KBOX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-99.968889,37.760833,2671]},properties:{id:"KDDC",code:"KDDC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-93.722869,41.7312,1095]},properties:{id:"KDMX",code:"KDMX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.313056,37.590833,1461]},properties:{id:"KJKL",code:"KJKL",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.654083,28.113194,149]},properties:{id:"KMLB",code:"KMLB",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-117.56075,35.09785,2873]},properties:{id:"KEYX",code:"KEYX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-159.5525,21.893889,340]},properties:{id:"PHKI",code:"PHKI",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.123056,40.021944,1020]},properties:{id:"TDAY",code:"TDAY",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.661944,35.98,817]},properties:{id:"TBNA",code:"TBNA",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-111.93,40.966944,4295]},properties:{id:"TSLC",code:"TSLC",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.436944,37.506944,1352]},properties:{id:"TICH",code:"TICH",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-70.256361,43.891306,474]},properties:{id:"KGYX",code:"KGYX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-119.462028,39.754056,8396]},properties:{id:"KRGX",code:"KRGX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[0,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-117.636,33.817733,3106]},properties:{id:"KSOX",code:"KSOX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.679861,43.755694,1960]},properties:{id:"KTYX",code:"KTYX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-66.078167,18.115667,2958]},properties:{id:"TJUA",code:"TJUA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-112.16305,33.421111,1089]},properties:{id:"TPHX",code:"TPHX",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-100.760556,46.770833,1755]},properties:{id:"KBIS",code:"KBIS",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-108.606806,45.853778,3703]},properties:{id:"KBLX",code:"KBLX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.440117,38.825767,164]},properties:{id:"KDOX",code:"KDOX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.544889,42.893889,875]},properties:{id:"KGRR",code:"KGRR",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-111.669917,33.289233,1426]},properties:{id:"KIWA",code:"KIWA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.084444,41.604444,760]},properties:{id:"KLOT",code:"KLOT",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-113.986222,47.041,7978]},properties:{id:"KMSX",code:"KMSX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NXB","N0B","NAB","N1B","NBB","N2B","N3B","NXG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","NXC","N0C","NAC","N1C","NBC","N2C","N3C","NXK","N0K","NAK","N1K","NBK","N2K","N3K","NXH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[-.2,.5,1.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-122.965,45.715039,1728]},properties:{id:"KRTX",code:"KRTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.401778,27.7055,122]},properties:{id:"KTBW",code:"KTBW",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.515,42.111111,771]},properties:{id:"TDTW",code:"TDTW",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.046111,42.818889,932]},properties:{id:"TMKE",code:"TMKE",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.993056,34.896111,482]},properties:{id:"TMEM",code:"TMEM",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.826944,36.071111,823]},properties:{id:"TTUL",code:"TTUL",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.412667,25.611083,111]},properties:{id:"KAMX",code:"KAMX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-121.631611,39.495639,221]},properties:{id:"KBBX",code:"KBBX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.56595,33.36355,972]},properties:{id:"KFFC",code:"KFFC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.382944,30.721833,603]},properties:{id:"KGRK",code:"KGRK",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.329194,33.896917,590]},properties:{id:"KGWX",code:"KGWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.285583,36.736972,613]},properties:{id:"KHPX",code:"KHPX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.7019,30.484633,160]},properties:{id:"KJAX",code:"KJAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-96.366819,41.320369,1262]},properties:{id:"KOAX",code:"KOAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.715,40.006111,1148]},properties:{id:"TCMH",code:"TCMH",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.58,38.898056,1053]},properties:{id:"TCVG",code:"TCVG",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-115.00694,36.143889,2057]},properties:{id:"TLAS",code:"TLAS",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-66.178889,18.473889,157]},properties:{id:"TSJU",code:"TSJU",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-101.709278,35.233333,3703]},properties:{id:"KAMA",code:"KAMA",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.770167,33.172417,759]},properties:{id:"KBMX",code:"KBMX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.4,.5,1.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.064083,42.586556,1935]},properties:{id:"KENX",code:"KENX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-85.459389,31.460556,537]},properties:{id:"KEOX",code:"KEOX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-103.618889,34.634167,4698]},properties:{id:"KFDX",code:"KFDX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-111.198444,34.574333,7514]},properties:{id:"KFSX",code:"KFSX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NXB","N0B","NAB","N1B","NBB","N2B","N3B","NXG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","NXC","N0C","NAC","N1C","NBC","N2C","N3C","NXK","N0K","NAK","N1K","NBK","N2K","N3K","NXH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[-.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-108.213761,39.062169,10101]},properties:{id:"KGJX",code:"KGJX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[0,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-104.18135,38.45955,5363]},properties:{id:"KPUX",code:"KPUX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-111.385333,47.459583,3805]},properties:{id:"KTFX",code:"KTFX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-82.008056,41.29,932]},properties:{id:"TLVE",code:"TLVE",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.486111,40.501111,1385]},properties:{id:"TPIT",code:"TPIT",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.961944,38.758889,344]},properties:{id:"TDCA",code:"TDCA",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.719533,44.90635,1561]},properties:{id:"KAPX",code:"KAPX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-98.028611,29.704056,767]},properties:{id:"KEWX",code:"KEWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.5625,36.247222,676]},properties:{id:"KOHX",code:"KOHX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.48975,35.665519,462]},properties:{id:"KRAX",code:"KRAX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.2,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-93.84125,32.450833,387]},properties:{id:"KSHV",code:"KSHV",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-165.295,64.511389,90]},properties:{id:"PAEC",code:"PAEC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.845,38.695,344]},properties:{id:"TADW",code:"TADW",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.858056,41.796944,745]},properties:{id:"TORD",code:"TORD",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-94.742,39.499,1089]},properties:{id:"TMCI",code:"TMCI",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.068889,39.948889,154]},properties:{id:"TPHL",code:"TPHL",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-78.003722,40.923167,2486]},properties:{id:"KCCX",code:"KCCX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-122.495694,48.194611,642]},properties:{id:"KATX",code:"KATX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.471667,42.7,1216]},properties:{id:"KDTX",code:"KDTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-110.63025,31.89365,5319]},properties:{id:"KEMX",code:"KEMX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-95.078733,29.4719,115]},properties:{id:"KHGX",code:"KHGX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.682778,38.698611,722]},properties:{id:"KLSX",code:"KLSX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-121.898444,37.155222,3550]},properties:{id:"KMUX",code:"KMUX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NYB","N0B","NAB","N1B","NBB","N2B","N3B","NYG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NYX","N0X","NAX","N1X","NBX","N2X","N3X","NYC","N0C","NAC","N1C","NBC","N2C","N3C","NYK","N0K","NAK","N1K","NBK","N2K","N3K","NYH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[0,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-146.303447,59.460767,132]},properties:{id:"PAIH",code:"PAIH",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-155.777778,20.125278,3966]},properties:{id:"PHKM",code:"PHKM",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.118278,33.948722,345]},properties:{id:"KCAE",code:"KCAE",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-106.624694,48.206361,2384]},properties:{id:"KGGW",code:"KGGW",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-93.215889,30.125306,137]},properties:{id:"KLCH",code:"KLCH",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-117.0418,32.919017,1052]},properties:{id:"KNKX",code:"KNKX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.771944,37.068333,506]},properties:{id:"KPAH",code:"KPAH",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","NZB","N0B","NAB","N1B","NBB","N2B","N3B","NZG","N0G","NAG","N1G","NBU","N2U","N3U","NXX","NZX","N0X","NAX","N1X","NBX","N2X","N3X","NZC","N0C","NAC","N1C","NBC","N2C","N3C","NZK","N0K","NAK","N1K","NBK","N2K","N3K","NZH","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.3,.5,.9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.722778,38.311111,1213]},properties:{id:"KRLX",code:"KRLX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-112.686133,43.1056,4539]},properties:{id:"KSFX",code:"KSFX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-156.629444,58.679444,144]},properties:{id:"PAKC",code:"PAKC",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-87.724528,38.26025,625]},properties:{id:"KVWX",code:"KVWX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-90.488889,38.805,646]},properties:{id:"TSTL",code:"TSTL",secondary:!0,products:["TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.273056,26.688056,135]},properties:{id:"TPBI",code:"TPBI",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.63,39.09,299]},properties:{id:"TBWI",code:"TBWI",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-100.280333,29.273139,1196]},properties:{id:"KDFX",code:"KDFX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-98.976667,34.362194,1315]},properties:{id:"KFDR",code:"KFDR",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-101.814167,33.654139,3378]},properties:{id:"KLBB",code:"KLBB",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.217967,40.531717,1266]},properties:{id:"KPBZ",code:"KPBZ",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-102.83,44.124722,3195]},properties:{id:"KUDX",code:"KUDX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-88.550667,42.9679,1023]},properties:{id:"KMKX",code:"KMKX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-151.351467,60.725914,356]},properties:{id:"PAHG",code:"PAHG",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-83.82145,39.420483,1170]},properties:{id:"KILN",code:"KILN",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.261944,33.646944,1076]},properties:{id:"TATL",code:"TATL",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.273969,37.0244,2965]},properties:{id:"KFCX",code:"KFCX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-102.18925,31.943461,2962]},properties:{id:"KMAF",code:"KMAF",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.343889,26.143056,121]},properties:{id:"TFLL",code:"TFLL",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.336792,40.1505,731]},properties:{id:"KILX",code:"KILX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-119.17875,34.412017,2807]},properties:{id:"KVTX",code:"KVTX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}},{type:"Feature",geometry:{type:"Point",coordinates:[-100.576222,41.957944,3113]},properties:{id:"KLNX",code:"KLNX",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,1.5,2.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-86.436111,39.636944,846]},properties:{id:"TIDS",code:"TIDS",secondary:!0,products:["NST","TZ0","TZ1","TZ2","TV0","TV1","TV2","TZL"],elevations:[]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.418967,25.916,88]},properties:{id:"KBRO",code:"KBRO",secondary:!1,products:["NSW","DHR","N0S","N1S","N2S","N3S","NST","DVL","EET","N0B","NAB","N1B","NBB","N2B","N3B","N0G","NAG","N1G","NBU","N2U","N3U","NXX","N0X","NAX","N1X","NBX","N2X","N3X","N0C","NAC","N1C","NBC","N2C","N3C","N0K","NAK","N1K","NBK","N2K","N3K","N0H","NAH","N1H","NBH","N2H","N3H","DAA","DTA"],elevations:[.5,.9,1.3]}}],Lb=[{type:"Feature",geometry:{type:"Point",coordinates:[-87.325439453125,35.25498962402344,303]},properties:{id:"FWLX",code:"FWLX",secondary:!0,products:["REF0","VEL0","CC0","ZDR0"],elevations:[.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.00341033935547,33.980499267578125,327]},properties:{id:"GAWX",code:"GAWX",secondary:!0,products:["REF0","REF1","REF2","REF3","VEL0","VEL1","VEL2","VEL3","CC0","CC1","CC2","CC3","ZDR0","ZDR1","ZDR2","ZDR2"],elevations:[1,3,5,7]}}],Rb=[{type:"Feature",geometry:{type:"Point",coordinates:[-107.44269,52.52048,532]},properties:{id:"CASRA",code:"CASRA",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-73.85892,45.70628,70.7]},properties:{id:"CASBV",code:"CASBV",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-101.08563,50.548748,552.5]},properties:{id:"CASFW",code:"CASFW",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-119.230432,55.694942,1015.8]},properties:{id:"CASSR",code:"CASSR",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.79385,49.28126,244.5]},properties:{id:"CASRF",code:"CASRF",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.380698,43.372425,303.8]},properties:{id:"CASET",code:"CASET",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-105.182848,50.571232,586.8]},properties:{id:"CASBE",code:"CASBE",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-65.699294,46.222378,100.9]},properties:{id:"CASCM",code:"CASCM",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-60.205246,45.949718,102.5]},properties:{id:"CASMB",code:"CASMB",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-84.596686,47.247807,527.1]},properties:{id:"CASMR",code:"CASMR",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-113.399366,51.20613,969.6]},properties:{id:"CASSM",code:"CASSM",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-77.808086,48.551355,394]},properties:{id:"CASLA",code:"CASLA",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-110.195362,50.312503,864]},properties:{id:"CASSU",code:"CASSU",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-92.797566,49.858047,411.3]},properties:{id:"CASDR",code:"CASDR",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-53.12667,47.326604,293.2]},properties:{id:"CASHR",code:"CASHR",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-71.913832,46.449476,106.1]},properties:{id:"CASSF",code:"CASSF",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-97.780482,50.153001,274.4]},properties:{id:"CASWL",code:"CASWL",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-67.601036,48.480468,713.8]},properties:{id:"CASVD",code:"CASVD",secondary:!1,products:[],elevations:[-.3,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-122.48736,49.01644,93]},properties:{id:"CASAG",code:"CASAG",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-80.53414,45.79309,190.3]},properties:{id:"CASBI",code:"CASBI",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-114.14447,53.56061,782.7]},properties:{id:"CASCV",code:"CASCV",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-76.11638,45.04115,145.5]},properties:{id:"CASFT",code:"CASFT",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-63.70494,45.09818,214.2]},properties:{id:"CASGO",code:"CASGO",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-79.57288,43.96366,358.5]},properties:{id:"CASKR",code:"CASKR",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-110.06138,54.37888,634.4]},properties:{id:"CASCL",code:"CASCL",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-89.100038,48.596001,504]},properties:{id:"CASSN",code:"CASSN",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-111.21515,56.375628,756.4]},properties:{id:"CASFM",code:"CASFM",secondary:!1,products:[],elevations:[.4,.8,1.2,1.6,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-57.834579,48.930228,542]},properties:{id:"CASMM",code:"CASMM",secondary:!1,products:[],elevations:[0,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-119.064196,50.369109,1884.5]},properties:{id:"CASSS",code:"CASSS",secondary:!1,products:[],elevations:[-.3,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-122.95469,53.61539,1114.2]},properties:{id:"CASPG",code:"CASPG",secondary:!1,products:[],elevations:[0,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-71.430833,47.977908,887]},properties:{id:"CASMA",code:"CASMA",secondary:!1,products:[],elevations:[0,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-123.853638,49.526953,572]},properties:{id:"CASHP",code:"CASHP",secondary:!1,products:[],elevations:[0,.4,.9,1.5,2.1,2.7,3.5,4.4,5.3,6.4]}}],Fb=[{type:"Feature",geometry:{type:"Point",coordinates:[-76.95566000416875,2.5178799591958523,2993]},properties:{id:"COCEM",code:"COCEM",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[1.5,2.4,3.1,5.1,6.4,8,10,12.5,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.11397552490234,4.675168991088867,2551]},properties:{id:"COBOG",code:"COBOG",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.5,1.5,2.5,3,4.35,4.7]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.52862548828125,6.19088077545166,2792]},properties:{id:"COSAN",code:"COSAN",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.5,1,2,4]}},{type:"Feature",geometry:{type:"Point",coordinates:[-72.62846997007728,2.5337500870227814,201]},properties:{id:"COGUA",code:"COGUA",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.5,1.5,2.4,3.1,5.1,6.4,8,10,12.5,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[-81.7080700211227,12.58859010413289,11]},properties:{id:"COAND",code:"COAND",secondary:!1,products:["REF","VEL","ZDR","KDP"],elevations:[.5,1,2,3,5,7,10,15,20,30]}},{type:"Feature",geometry:{type:"Point",coordinates:[-75.28299992904067,9.330999981611967,165]},properties:{id:"COCOR",code:"COCOR",secondary:!1,products:["REF","VEL","ZDR","KDP"],elevations:[.5,1,1.5,2.2,3,4,5.3,7.2,11,20]}},{type:"Feature",geometry:{type:"Point",coordinates:[-74.20369997620583,5.011800080537796,3506]},properties:{id:"COTAB",code:"COTAB",secondary:!1,products:["REF","VEL","ZDR","KDP"],elevations:[0,.5,1,2,4.5,7,10,15,25]}},{type:"Feature",geometry:{type:"Point",coordinates:[-71.33273988962173,4.563660118728876,170]},properties:{id:"COCAR",code:"COCAR",secondary:!1,products:["REF","VEL","ZDR","KDP"],elevations:[.5,1.5,2.4,3.1,5.1,6.4,8,10,12.5,15]}}],Mb=[{type:"Feature",geometry:{type:"Point",coordinates:[27.1081,60.9039,101]},properties:{id:"FIANJ",code:"FIANJ",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[27.3815,62.8626,239]},properties:{id:"FIKUO",code:"FIKUO",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.5,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[21.6434,60.1285,35]},properties:{id:"FIKOR",code:"FIKOR",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.4,.5,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[26.3189,64.7749,85]},properties:{id:"FIUTA",code:"FIUTA",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.7,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[26.8969,67.1391,514]},properties:{id:"FILUO",code:"FILUO",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.1,.4,.7,1.5,2,3,5,7,9,11]}},{type:"Feature",geometry:{type:"Point",coordinates:[23.8209,63.1048,172]},properties:{id:"FIVIM",code:"FIVIM",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.5,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[29.7977,61.9069,141]},properties:{id:"FIKES",code:"FIKES",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[25.4401,62.3045,241]},properties:{id:"FIPET",code:"FIPET",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.7,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[29.4489,63.8378,294]},properties:{id:"FINUR",code:"FINUR",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[24.4956,60.5562,148]},properties:{id:"FIVIH",code:"FIVIH",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,5,7,9,11]}},{type:"Feature",geometry:{type:"Point",coordinates:[22.502,61.8108,142]},properties:{id:"FIKAN",code:"FIKAN",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,4,5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[27.443989980965853,68.43442998826504,489]},properties:{id:"FIKAU",code:"FIKAU",secondary:!1,products:["REF","VEL","CC","ZDR","KDP","SW"],elevations:[.3,.4,.7,1.5,2,3,4,5,9]}}],Pb=[{type:"Feature",geometry:{type:"Point",coordinates:[-22.6353,64.0257,34]},properties:{id:"ISKEF",code:"ISKEF",secondary:!1,products:["REF"],elevations:[.3,.5,.8,1.3,1.8,2.5,3.5,4.8,7,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-15.0382,65.0279,693]},properties:{id:"ISEGS",code:"ISEGS",secondary:!1,products:["REF"],elevations:[.3,.5,.8,1.3,1.8,2.5,3.5,4.8,7,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-17.965098,63.774975,-20.6]},properties:{id:"ISX1",code:"ISX1",secondary:!1,products:["REF"],elevations:[.5,.8,1.4,2.3,3.9,6.5,10.8,18,30]}},{type:"Feature",geometry:{type:"Point",coordinates:[-22.396235,63.967778,-4.57]},properties:{id:"ISX2",code:"ISX2",secondary:!1,products:["REF"],elevations:[.5,.8,1.4,2.3,3.9,6.5,10.8,18,30]}},{type:"Feature",geometry:{type:"Point",coordinates:[-20.268,66.0557,156]},properties:{id:"ISSKA",code:"ISSKA",secondary:!1,products:["VEL"],elevations:[.3,.5,.8,1.3,1.8,2.5,3.5,4.8,7,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[-14.0618,65.2658,1083]},properties:{id:"ISBJO",code:"ISBJO",secondary:!1,products:["REF"],elevations:[.3,.5,.8,1.3,1.8,2.5,3.5,4.8,7,9]}}],Hb=[{type:"Feature",geometry:{type:"Point",coordinates:[24.6021,59.3977,32.7]},properties:{id:"EEHAR",code:"EEHAR",secondary:!1,products:["REF","VEL","ZDR","KDP","CC"],elevations:[.5,1.3,2,3,4.5,6.5,9]}},{type:"Feature",geometry:{type:"Point",coordinates:[25.5187,58.4823,13]},properties:{id:"EESUR",code:"EESUR",secondary:!1,products:["REF","VEL","ZDR","KDP","CC"],elevations:[.5,1.3,2,3,4.5,6.5,9]}}],zb=[{type:"Feature",geometry:{type:"Point",coordinates:[-8.919994,52.692787,92]},properties:{id:"IESHA",code:"IESHA",secondary:!1,products:["REF"],elevations:[.5,1.1,2.2,3.2,4.3,6.9,8.5,10.1,20,90]}},{type:"Feature",geometry:{type:"Point",coordinates:[-6.2443,53.4299,99]},properties:{id:"IEDUB",code:"IEDUB",secondary:!1,products:["REF"],elevations:[.5,1.1,1.9,2.9,4,5.4,7.2,10,11.9,15]}}],Ob=[{type:"Feature",geometry:{type:"Point",coordinates:[10.2192,48.0421,667]},properties:{id:"DEMEM",code:"DEMEM",secondary:!1,elevations:[.6,1.6,2.6,3.6,4.6,5.6,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.7129,49.9847,198]},properties:{id:"DEOFT",code:"DEOFT",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17.1,25.1],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[6.7482,53.564,4]},properties:{id:"DEASB",code:"DEASB",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[10.0468,54.0043,92]},properties:{id:"DEBOO",code:"DEBOO",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,24.9],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[12.058,54.1757,1]},properties:{id:"DEROS",code:"DEROS",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,7.9,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[9.6945,52.46,51]},properties:{id:"DEHNR",code:"DEHNR",secondary:!1,elevations:[.5,1.4,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[13.858,52.6486,136]},properties:{id:"DEPRO",code:"DEPRO",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[6.9669,51.4055,152]},properties:{id:"DEESS",code:"DEESS",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.802,51.3112,530]},properties:{id:"DEFLD",code:"DEFLD",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[11.1761,52.1601,159]},properties:{id:"DEUMD",code:"DEUMD",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[11.1351,50.5001,846]},properties:{id:"DENEU",code:"DENEU",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[13.7686,51.1246,225]},properties:{id:"DEDRS",code:"DEDRS",secondary:!1,elevations:[.4,1.4,2.5,3.5,4.5,5.5,7.9,11.9,16.9,24.9],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[6.5483,50.1097,552]},properties:{id:"DENHB",code:"DENHB",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[9.7828,48.5853,733]},properties:{id:"DETUR",code:"DETUR",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[12.4028,49.5407,771]},properties:{id:"DEEIS",code:"DEEIS",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.0039,47.8736,1495]},properties:{id:"DEFBG",code:"DEFBG",secondary:!1,elevations:[.4,1.4,2.4,3.4,4.4,5.4,7.9,11.9,16.9,24.9],products:["REF","VEL","CC","ZDR"]}},{type:"Feature",geometry:{type:"Point",coordinates:[12.1017,48.1747,630]},properties:{id:"DEISN",code:"DEISN",secondary:!1,elevations:[.5,1.5,2.5,3.5,4.5,5.5,8,12,17,25],products:["REF","VEL","CC","ZDR"]}}],Kb=[{type:"Feature",geometry:{type:"Point",coordinates:[13.8178,49.6583,916]},properties:{id:"CZBRD",code:"CZBRD",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.1,.5,.9,1.3,1.7,2.2,3.2,4.5,6.3,8.7]}},{type:"Feature",geometry:{type:"Point",coordinates:[16.7885,49.5011,767]},properties:{id:"CZSKA",code:"CZSKA",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.1,.5,.9,1.3,1.7,2.2,3.2,4.5,6.3,8.7]}}],Ub=[{type:"Feature",geometry:{type:"Point",coordinates:[32.54716,34.77085,392]},properties:{id:"CYPFO",code:"CYPFO",secondary:!1,products:["REF","VEL"],elevations:[.5]}},{type:"Feature",geometry:{type:"Point",coordinates:[33.56654,34.93654,105]},properties:{id:"CYLCA",code:"CYLCA",secondary:!1,products:["REF","VEL"],elevations:[.5]}}],$b=[{type:"Feature",geometry:{type:"Point",coordinates:[4.79061,52.9528,52]},properties:{id:"NLDHL",code:"NLDHL",secondary:!1,products:["REF","VEL","KDP","CC","SW"],elevations:[.3,.8,1.2,2,2.8,4.5,6,8,10,12]}},{type:"Feature",geometry:{type:"Point",coordinates:[5.138,51.8371,1]},properties:{id:"NLHRW",code:"NLHRW",secondary:!1,products:["REF","VEL","KDP","CC","SW"],elevations:[.3,.8,1.2,2,2.8,4.5,6,8,10,12]}}],Xb=[{type:"Feature",geometry:{type:"Point",coordinates:[12.4493,55.3262,42]},properties:{id:"DKSTE",code:"DKSTE",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.5,.7,2.4,1.5,1,4.5,8.5,10,13,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[8.552,55.1731,5]},properties:{id:"DKROM",code:"DKROM",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.5,.6,2.4,1.5,1,4.8,8.4,10,13,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[10.1365,57.4893,104]},properties:{id:"DKSIN",code:"DKSIN",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.5,.7,2.4,1,1.5,4.5,8.5,10,13,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[14.8875,55.1127,162]},properties:{id:"DKBOR",code:"DKBOR",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.5,.7,2.4,1,1.5,4.8,8.4,10,13,15]}},{type:"Feature",geometry:{type:"Point",coordinates:[10.585485,55.812009,24]},properties:{id:"DKSAM",code:"DKSAM",secondary:!1,products:["REF","VEL","CC","ZDR","SW"],elevations:[.5,.6,2.4,1.5,1,4.8,8.4,10,13,15]}}],Et=i=>i.map(e=>{const t=e.properties.products.map(o=>e.properties.elevations.map((a,r)=>`${o}${r}`)).flat();return e.properties.products=t,e}),Wb=Eb.map(i=>{if(i.properties.products.push("PRT"),i.properties.id.startsWith("K"))for(let e=0;e<3;++e)i.properties.products.push(`CC${e}`),i.properties.products.push(`ZDR${e}`),i.properties.products.push(`SW${e}`);return i}),Vb=Et(Rb.map(i=>(i.properties.products=["REF","VEL","CC","ZDR","KDP"],i))).map(i=>(i.properties.products.push("PRT"),i)),Gb=Et(Fb),jb=Mb.map(i=>{const e=i.properties.products.map(t=>i.properties.elevations.map((o,a)=>`${t}${a}`)).flat();return i.properties.products=e,i}),Zb=Et(Pb),Yb=Et(Hb),Jb=Et(zb),Qb=Et(Ob),qb=Et(Kb),e2=Et(Ub),t2=Et(Xb),o2=Et($b),s2=[Wb,Lb,Gb,Vb,jb,Zb,Yb,Jb,Qb,e2,qb,t2,o2].flat(),jr=Object.freeze({type:"FeatureCollection",features:s2}),a2=["BR","BV","CC","SW","PM"];function r2(i){if(typeof i!="string")throw new Error("A string of the pal colortable must be passed.");if(i.length>4096*2)throw new Error("Pal contents too big. Character length exceeds 4096.");const e={product:null,units:null,scale:null,offset:null,step:null,rf:null,colors:[]},t={product:/^Product:\s*(.+)/i,units:/^Units:\s*(.+)/i,scale:/^Scale:\s*(-?\d+(\.\d+)?)/i,offset:/^Offset:\s*(-?\d+(\.\d+)?)/i,step:/^Step:\s*(-?\d+(\.\d+)?)/i,rf:/^RF:\s*(\d+)\s+(\d+)\s+(\d+)/i,color:/^Color:\s*(-?\d+(\.\d+)?)\s+(\d+)\s+(\d+)\s+(\d+)(?:\s+(\d+)\s+(\d+)\s+(\d+))?(?:\s+(RAIN|MIX|SNOW))?$/i,color4:/^Color4:\s*(-?\d+(\.\d+)?)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)(?:\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+))?(?:\s+(RAIN|MIX|SNOW))?$/i,solidColor:/^SolidColor:\s*(-?\d+(\.\d+)?)\s+(\d+)\s+(\d+)\s+(\d+)(?:\s+(RAIN|MIX|SNOW))?/i,solidColor4:/^SolidColor4:\s*(-?\d+(\.\d+)?)\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+)(?:\s+(\d+)\s+(\d+)\s+(\d+)\s+(\d+))?(?:\s+(RAIN|MIX|SNOW))?$/i};if(i.trim().split(/\r?\n/).forEach(a=>{if(a=a.replace(/(\s*#.*|\/\/.*)/,"").trim(),!(a.startsWith("#")||!a))for(const[r,n]of Object.entries(t)){const l=a.match(n);if(l){switch(r){case"product":e.product=l[1].trim().toUpperCase();break;case"units":e.units=l[1].trim().toUpperCase();break;case"scale":e.scale=parseFloat(l[1]),isNaN(e.scale)&&(e.scale=null);break;case"offset":e.offset=parseFloat(l[1]),isNaN(e.offset)&&(e.offset=null);break;case"step":e.step=parseFloat(l[1]),isNaN(e.step)&&(e.step=null);break;case"rf":e.rf=[+l[1],+l[2],+l[3],255];break;case"color":{let d=l[9]!==void 0?l[9]:null;typeof d=="string"&&(d=d.toUpperCase()),e.colors.push({value:parseFloat(l[1]),color1:[+l[3],+l[4],+l[5],255],color2:l[6]?[+l[6],+l[7],+l[8],255]:null,section:d})}break;case"color4":{let d=l[11]!==void 0?l[11]:null;typeof d=="string"&&(d=d.toUpperCase()),e.colors.push({value:parseFloat(l[1]),color1:[+l[3],+l[4],+l[5],+l[6]],color2:l[7]?[+l[7],+l[8],+l[9],+l[10]]:null,section:d})}break;case"solidColor":{let d=l[6]!==void 0?l[6]:null;typeof d=="string"&&(d=d.toUpperCase()),e.colors.push({value:parseFloat(l[1]),color1:[+l[3],+l[4],+l[5],255],color2:[+l[3],+l[4],+l[5],255],section:d})}break;case"solidColor4":{let d=l[7]!==void 0?l[7]:null;typeof d=="string"&&(d=d.toUpperCase()),e.colors.push({value:parseFloat(l[1]),color1:[+l[3],+l[4],+l[5],+l[6]],color2:[+l[3],+l[4],+l[5],+l[6]],section:d})}break;default:console.warn(`Unrecognized line: "${a}"`)}return}}}),e.product===null)throw new Error(`Unable to detect product: ${i}`);if(!a2.includes(e.product))throw new Error(`Unsupported product: ${e.product}`);if(e.colors.length<2)throw new Error("Color Table must have atleast 2 colors");if(e.colors=e.colors.map(a=>(e.scale!==null&&(a.value=1/e.scale*a.value),e.offset!==null&&(a.value+=e.offset),a)),e.product==="PM"){for(const a of e.colors)if(a.section===null)throw new Error("Color line is missing precip. type (RAIN, SNOW or MIX)");for(const a of e.colors)a.value<cs?a.value=cs:a.value>yo&&(a.value=yo);for(const a of["RAIN","SNOW","MIX"]){const r=e.colors.filter(h=>h.section===a);if(r.length===0)throw new Error(`Colortable section: ${a} has not colors`);const{minObj:n,maxObj:l}=r.reduce((h,f)=>((!h.minObj||f.value<h.minObj.value)&&(h.minObj=f),(!h.maxObj||f.value>h.maxObj.value)&&(h.maxObj=f),h),{minObj:null,maxObj:null}),d=JSON.parse(JSON.stringify(n));d.color2=null,d.value=cs,e.colors.push(d);const m=JSON.parse(JSON.stringify(l));m.color2!==null&&(m.color1=m.color2),m.value=yo,e.colors.push(m)}e.colors=e.colors.map(a=>(a.section==="SNOW"?a.value+=Ut:a.section==="MIX"&&(a.value+=Ut*2),a))}return e.colors.sort((a,r)=>a.value-r.value),e}function Zr(i,e=1){const t=r2(i);return((a,r=1)=>{const n=a[0].value,l=a[a.length-1].value,d=parseInt((l-n)/r),m=[];function h(f,y,N){return f.map((w,S)=>Math.round(w+(y[S]-w)*N))}for(let f=0;f<=d;f++){const y=n+f*r;for(let N=0;N<a.length-1;N++)if(a[N].value<=y&&y<=a[N+1].value){let w=a[N+1].value-a[N].value;w===0&&(w=1e-5);const S=(y-a[N].value)/w;let v;a[N].color2===null?v=h(a[N].color1,a[N+1].color1,S):v=h(a[N].color1,a[N].color2,S),m.push(v);break}}return{pal:t,colors:m,min:n,max:l}})(t.colors,e)}class i2{constructor(){Y(this,"lookup",{});Ht.forEach(e=>{typeof e.id=="string"&&(this.lookup[e.id]={})})}parse(e,t,o,a=null){if(o&&o.startsWith("data:text/plain;base64")){const n=o.split(",");try{o=atob(n[1])}catch{console.error("Failed to decode colortable");return}}if(a===null&&(a={REF:1,PRT:.1,VEL:1,ZDR:.1,CC:.01,SW:.1,KDP:.1,HCA:1,SRV:1,DTA:1,OHA:.1,EET:.1,VIL:.1}[e],a===void 0))throw new Error(`Unable to locate colortable step for: ${e}`);this.lookup[e][t]=Zr(o,a)}get(e,t){return this.lookup[e]===void 0||this.lookup[e][t]===void 0?null:this.lookup[e][t]}getAsCssGradient(e,t){const o=this.get(e,t);if(o===null)return"background: #000000";const a=o.colors.length||0;return`background: linear-gradient(90deg, ${o.colors.map((n,l)=>`rgb(${n[0]},${n[1]},${n[2]}) ${l/a*100}%`).join(", ")});`}}const fe=new i2,n2=`
Product: BR
Units: dBZ
Step: 5
Scale: 1
Offset: 0

Color: -12 53 8 72
Color: -10 59 33 64
Color: -5 64 63 66
Color: 0 118 117 118
Color: 5 188 187 187
Color: 10 63 94 161
Color: 15 92 171 216
Color: 20 35 187 83
Color: 25 2 154 11
Color: 30 0 115 5
Color: 35 0 77 0
Color: 40 255 214 0
Color: 45 255 173 0
Color: 50 255 23 0
Color: 55 213 18 3 168 15 0
Color: 60 96 8 0 51 4 4
Color: 65 255 191 253
Color: 70 200 117 199 148 56 149
Color: 75 255 252 255
Color: 80 255 252 255
`;fe.parse("REF","DEFAULT",n2);const l2=`
Product: BR
Units: DBZ
Step: 5

Color4: -30 0 0 0 255
Color4: 0 255 255 255 233
Color4: 10 0 36 255 97
Color4: 34.9999 0 255 255 255
Color4: 35 255 237 0 255
Color4: 35.001 255 230 0 255 255 108 0 255
Color4 49.9999 255 108 0 255
Color4: 50 255 0 0 255
Color4: 64.9999 119 0 0 210
Color: 65 255 255 255
Color4: 74.999 209 7 236 255
Color4: 75 5 211 214 255
Color4: 92 1 56 56 255
`;fe.parse("REF","OTHER1",l2);const c2=`
Product: BR
Units: dBZ
Step: 5
Offset: 0
Scale: 1

Color: 0 244 241 254
Color: 10 100 96 133
Color: 15 110 105 182 123 124 241
Color: 20 108 113 253
Color: 25 16 25 255
Color: 30 7 108 7
Color: 35 25 176 94
Color: 40 0 211 0
Color: 45 241 219 27
Color: 50 255 165 5
Color: 55 254 88 64
Color: 60 162 30 16
Color: 65 113 24 81
Color: 70 138 30 170
Color: 75 243 33 234
Color: 80 251 96 255
Color: 85 225 224 222
Color: 90 71 49 83
`;fe.parse("REF","OTHER2",c2);const d2="data:text/plain;base64,cHJvZHVjdDpCUgogdW5pdHM6IGRCWgogc3RlcDogNQogQ09MT1I6IDAgICAgICAgMSAyNDMgMjQ3CiBDT0xPUjogMC41ICAgICAzIDIzMSAyMzkKIENPTE9SOiAxLjAgICAgIDUgMjE5IDIzMQogQ09MT1I6IDEuNSAgICAgNyAyMDcgMjIzCiBDT0xPUjogMi4wICAgICA5IDE5NSAyMTUKIENPTE9SOiAyLjUgICAgMTEgMTgzIDIwNwogQ09MT1I6IDMuMCAgICAxMyAxNzEgMTk5CiBDT0xPUjogMy41ICAgIDE1IDE5NSAxOTEKIENPTE9SOiA0LjAgICAgMTcgMTQ3IDE4MwogQ09MT1I6IDQuNSAgICAxOSAxMzUgMTc1CiBDT0xPUjogNS4wICAgIDIxIDEyMyAxNjcKIENPTE9SOiA1LjUgICAgMjMgMTEyIDE1OQogQ09MT1I6IDYuMCAgICAyMSAxMTQgMTYzCiBDT0xPUjogNi41ICAgIDIwIDExNyAxNjgKIENPTE9SOiA3LjAgICAgMTkgMTIwIDE3MwogQ09MT1I6IDcuNSAgICAxOCAxMjMgMTc4CiBDT0xPUjogOC4wICAgIDE3IDEyNiAxODIKIENPTE9SOiA4LjUgICAgMTYgMTI5IDE4NwogQ09MT1I6IDkuMCAgICAxNSAxMzIgMTkyCiBDT0xPUjogOS41ICAgIDE0IDEzNSAxOTcKIENPTE9SOiAxMC4wICAgMTIgMTM3IDIwMQogQ09MT1I6IDEwLjUgICAxMSAxNDAgMjA2CiBDT0xPUjogMTEuMCAgIDEwIDE0MyAyMTEKIENPTE9SOiAxMS41ICAgIDkgMTQ2IDIxNgogQ09MT1I6IDEyLjAgICAgOCAxNDkgMjIwCiBDT0xPUjogMTIuNSAgICA3IDE1MiAyNTUKIENPTE9SOiAxMy4wICAgIDYgMTU1IDIzMAogQ09MT1I6IDEzLjUgICAgNSAxNTggMjM1CiBDT0xPUjogMTQuMCAgIDIxIDE5MSAxODAKIENPTE9SOiAxNC41ICAgMzcgMjI1IDEyNQogQ09MT1I6IDE1LjAgICAzNiAyMjEgMTIxCiBDT0xPUjogMTUuNSAgIDM1IDIxOCAxMTgKIENPTE9SOiAxNi4wICAgMzQgMjE0IDExNQogQ09MT1I6IDE2LjUgICAzMyAyMTEgMTEyCiBDT0xPUjogMTcuMCAgIDMyIDIwNyAxMDgKIENPTE9SOiAxNy41ICAgMzEgMjA0IDEwNQogQ09MT1I6IDE4LjAgICAzMCAyMDAgMTAyCiBDT0xPUjogMTguNSAgIDI5IDE5NyAgOTkKIENPTE9SOiAxOS4wICAgMjggMTk0ICA5NgogQ09MT1I6IDE5LjUgICAyNyAxOTAgIDkzCiBDT0xPUjogMjAuMCAgIDI2IDE4NyAgOTAKIENPTE9SOiAyMC41ICAgMjggMTg0ICA4NwogQ09MT1I6IDIxLjAgICAyNCAxODAgIDg0CiBDT0xPUjogMjEuNSAgIDI0IDE3NyAgODEKIENPTE9SOiAyMi4wICAgMjMgMTc0ICA3NwogQ09MT1I6IDIyLjUgICAyMiAxNzAgIDc0CiBDT0xPUjogMjMuMCAgIDIxIDE2NyAgNzEKIENPTE9SOiAyMy41ICAgMjAgMTY0ICA2OAogQ09MT1I6IDI0LjAgICAxOSAxNjAgIDY1CiBDT0xPUjogMjQuNSAgIDE4IDE1NyAgNjIKIENPTE9SOiAyNS4wICAgMTcgMTU0ICA1OQogQ09MT1I6IDI1LjUgICAxNiAxNTAgIDU2CiBDT0xPUjogMjYuMCAgIDE1IDE0NyAgNTMKIENPTE9SOiAyNi41ICAgMTUgMTQ0ICA1MAogQ09MT1I6IDI3LjAgICAxNCAxNDAgIDQ2CiBDT0xPUjogMjcuNSAgIDEzIDEzNyAgNDMKIENPTE9SOiAyOC4wICAgMTIgMTMzICA0MAogQ09MT1I6IDI4LjUgICAxMSAxMzAgIDM3CiBDT0xPUjogMjkuMCAgIDEwIDEyNyAgMzQKIENPTE9SOiAyOS41ICAgIDkgMTIzICAzMQogQ09MT1I6IDMwLjAgICAgOCAxMjAgIDI3CiBDT0xPUjogMzAuNSAgICA3IDExNyAgMjQKIENPTE9SOiAzMS4wICAgIDYgMTEzICAyMQogQ09MT1I6IDMxLjUgICAgNSAxMTAgIDE4CiBDT0xPUjogMzIuMCAgICA0IDEwNyAgMTUKIENPTE9SOiAzMi41ICAgIDMgMTAzICAxMgogQ09MT1I6IDMzLjAgICAgMiAxMDAgICA5CiBDT0xPUjogMzMuNSAgICAxICA5NiAgIDUKIENPTE9SOiAzNC4wICAxMjggMTc1ICAxOQogQ09MT1I6IDM0LjUgIDI1NSAyNTUgIDMzCiBDT0xPUjogMzUuMCAgMjU1IDI0NyAgMjgKIENPTE9SOiAzNS41ICAyNTUgMjM5ICAyMwogQ09MT1I6IDM2LjAgIDI1NSAyMzEgIDE4CiBDT0xPUjogMzYuNSAgMjU1IDIyMyAgMTQKIENPTE9SOiAzNy4wICAyNTUgMjE1ICAgOQogQ09MT1I6IDM3LjUgIDI1NSAyMDcgICA0CiBDT0xPUjogMzguMCAgMjU1IDE5OSAgIDAKIENPTE9SOiAzOC41ICAyNTUgMTkxICAgMAogQ09MT1I6IDM5LjAgIDI1NSAxODMgICAwCiBDT0xPUjogMzkuNSAgMjU1IDE3NSAgIDAKIENPTE9SOiA0MC4wICAyNTUgMTU3ICAgMAogQ09MT1I6IDQwLjUgIDI1NSAxNDAgICAwCiBDT0xPUjogNDEuMCAgMjU1IDEyMiAgIDAKIENPTE9SOiA0MS41ICAyNTUgMTA1ICAgMAogQ09MT1I6IDQyLjAgIDI1NSAgODcgICAwCiBDT0xPUjogNDIuNSAgMjU1ICA3MCAgIDAKIENPTE9SOiA0My4wICAyNTUgIDUyICAgMAogQ09MT1I6IDQzLjUgIDI1NSAgMzUgICAwCiBDT0xPUjogNDQuMCAgMjU1ICAxNyAgIDAKIENPTE9SOiA0NC41ICAyNTUgICAwICAgMAogQ09MT1I6IDQ1LjAgIDI0OSAgIDAgICAwCiBDT0xPUjogNDUuNSAgMjQ0ICAgMCAgIDAKIENPTE9SOiA0Ni4wICAyMzkgICAwICAgMAogQ09MT1I6IDQ2LjUgIDIzMyAgIDAgICAwCiBDT0xPUjogNDcuMCAgMjI4ICAgMCAgIDAKIENPTE9SOiA0Ny41ICAyMjMgICAwICAgMAogQ09MT1I6IDQ4LjAgIDIxNyAgIDAgICAwCiBDT0xPUjogNDguNSAgMjEyICAgMCAgIDAKIENPTE9SOiA0OS4wICAyMDcgICAwICAgMAogQ09MT1I6IDQ5LjUgIDIwMSAgIDAgICAwCiBDT0xPUjogNTAuMCAgMTk1ICAgMCAgIDAKIENPTE9SOiA1MC41ICAxOTAgICAwICAgMAogQ09MT1I6IDUxLjAgIDE4NSAgIDAgICAwCiBDT0xPUjogNTEuNSAgMTgwICAgMCAgIDAKIENPTE9SOiA1Mi4wICAxNzUgICAwICAgMAogQ09MT1I6IDUyLjUgIDE3MCAgIDAgICAwCiBDT0xPUjogNTMuMCAgMTY1ICAgMCAgIDAKIENPTE9SOiA1My41ICAxNjAgICAwICAgMAogQ09MT1I6IDU0LjAgIDE1NCAgIDAgICAwCiBDT0xPUjogNTQuNSAgMTgwICAgMCAxODAKIENPTE9SOiA1NS4wICAxODYgICA5IDE4NQogQ09MT1I6IDU1LjUgIDE5MiAgMTkgMTkwCiBDT0xPUjogNTYuMCAgMTk4ICAyOSAxOTUKIENPTE9SOiA1Ni41ICAyMDQgIDM5IDIwMQogQ09MT1I6IDU3LjAgIDIxMCAgNDkgMjA2CiBDT0xPUjogNTcuNSAgMjE2ICA1OSAyMTEKIENPTE9SOiA1OC4wICAyMjMgIDY4IDIxNgogQ09MT1I6IDU4LjUgIDIyOSAgNzggMjIyCiBDT0xPUjogNTkuMCAgMjM1ICA4OCAyMjcKIENPTE9SOiA1OS41ICAyNDEgIDk4IDIzMgogQ09MT1I6IDYwLjAgIDI0NyAxMDggMjM3CiBDT0xPUjogNjAuNSAgMjUzIDExNyAyNDMKIENPTE9SOiA2MS4wICAyMzIgMTA5IDIzMgogQ09MT1I6IDYxLjUgIDIxMiAxMDQgMjA0CiBDT0xPUjogNjIuMCAgMTkyICA5MyAxODQKIENPTE9SOiA2Mi41ICAxNzEgIDg1IDE2NQogQ09MT1I6IDYzLjAgIDE1MSAgNzcgMTQ2CiBDT0xPUjogNjMuNSAgMTMxICA2OSAxMjYKIENPTE9SOiA2NC4wICAxMTEgIDYxIDEwNwogQ09MT1I6IDY0LjUgICA5MCAgNTMgIDg4CiBDT0xPUjogNjUuMCAgIDcwICA0NSAgNjgKIENPTE9SOiA2NS41ICAgNTAgIDM3ICA0OQogQ09MT1I6IDY2LjAgICAyOSAgMzAgIDI5CiBDT0xPUjogNjYuNSAgIDMzICAzNCAgMzMKIENPTE9SOiA2Ny4wICAgMzcgIDM4ICAzNwogQ09MT1I6IDY3LjUgICA0MSAgNDIgIDQxCiBDT0xPUjogNjguMCAgIDQ1ICA0NiAgNDUKIENPTE9SOiA2OC41ICAgNDkgIDUwICA0OQogQ09MT1I6IDY5LjAgICA1MyAgNTQgIDUzCiBDT0xPUjogNjkuNSAgIDU3ICA1OCAgNTcKIENPTE9SOiA3MC4wICAgNjEgIDYyICA2MQogQ09MT1I6IDcwLjUgICA2NSAgNjYgIDY1CiBDT0xPUjogNzEuMCAgIDY5ICA3MCAgNjkKIENPTE9SOiA3MS41ICAgNzMgIDc0ICA3MwogQ09MT1I6IDcyLjAgICA3NyAgNzggIDc3CiBDT0xPUjogNzIuNSAgIDgxICA4MiAgODEKIENPTE9SOiA3My4wICAgODUgIDg2ICA4NQogQ09MT1I6IDczLjUgICA4OSAgOTAgIDg5CiBDT0xPUjogNzQuMCAgIDkzICA5NCAgOTMKIENPTE9SOiA3NC41ICAgOTcgIDk4ICA5NwogQ09MT1I6IDc1LjAgIDEwMSAxMDIgMTAxCiBDT0xPUjogNzUuNSAgMTA1IDEwNiAxMDUKIENPTE9SOiA3Ni4wICAxMDkgMTEwIDEwOQogQ09MT1I6IDc2LjUgIDExMyAxMTQgMTEzCiBDT0xPUjogNzcuMCAgMTE3IDExOCAxMTcKIENPTE9SOiA3Ny41ICAxMjEgMTIyIDEyMQogQ09MT1I6IDc4LjAgIDEyNSAxMjYgMTI1CiBDT0xPUjogNzguNSAgMTI5IDEzMCAxMjkKIENPTE9SOiA3OS4wICAxMzMgMTM0IDEzMwogQ09MT1I6IDc5LjUgIDEzNyAxMzggMTM3CiBDT0xPUjogODAuMCAgMTQyIDE0MiAxNDIKIENPTE9SOiA4MC41ICAxNDYgMTQ2IDE0NgogQ09MT1I6IDgxLjAgIDE1MCAxNTAgMTUwCiBDT0xPUjogODEuNSAgMTU0IDE1NCAxNTQKIENPTE9SOiA4Mi4wICAxNTggMTU4IDE1OAogQ09MT1I6IDgyLjUgIDE2MiAxNjIgMTYyCiBDT0xPUjogODMuMCAgMTY2IDE2NiAxNjYKIENPTE9SOiA4My41ICAxNzAgMTcwIDE3MAogQ09MT1I6IDg0LjAgIDE3NCAxNzQgMTc0CiBDT0xPUjogODQuNSAgMTc4IDE3OCAxNzgKIENPTE9SOiA4NS4wICAxODIgMTgyIDE4MgogQ09MT1I6IDg1LjUgIDE4NiAxODYgMTg2CiBDT0xPUjogODYuMCAgMTkwIDE5MCAxOTAKIENPTE9SOiA4Ni41ICAxOTQgMTk0IDE5NAogQ09MT1I6IDg3LjAgIDE5OCAxOTggMTk4CiBDT0xPUjogODcuNSAgMjAyIDIwMiAyMDIKIENPTE9SOiA4OC4wICAyMDYgMjA2IDIwNgogQ09MT1I6IDg4LjUgIDIxMCAyMTAgMjEwCiBDT0xPUjogODkuMCAgMjE0IDIxNCAyMTQKIENPTE9SOiA4OS41ICAyMTggMjE4IDIxOAogQ09MT1I6IDkwLjAgIDIyMiAyMjIgMjIyCiBDT0xPUjogOTAuNSAgMjI2IDIyNiAyMjYKIENPTE9SOiA5MS4wICAyMzAgMjMwIDIzMAogQ09MT1I6IDkxLjUgIDIzNCAyMzQgMjM0CiBDT0xPUjogOTIuMCAgMjM4IDIzOCAyMzgKIENPTE9SOiA5Mi41ICAyNDIgMjQyIDI0MgogQ09MT1I6IDkzLjAgIDI0NiAyNDYgMjQ2CiBDT0xPUjogOTMuNSAgMjUwIDI1MCAyNTAKIENPTE9SOiA5NC4wICAyNTQgMjU0IDI1NAogQ09MT1I6IDk0LjUgIDI1OCAyNTggMjU4CiBDT0xPUjogOTUuMCAgMjYyIDI2MiAyNjIKIENPTE9SOiAxMDAuMCAyNjIgMjYyIDI2Mg==";fe.parse("REF","RH1",d2);const u2=`
Product: PM
Units: dBZ

# Rain
Color: -12 53 8 72 RAIN
Color: -10 59 33 64 RAIN
Color: -5 64 63 66 RAIN
Color: 0 118 117 118 RAIN
Color: 5 188 187 187 RAIN
Color: 10 63 94 161 RAIN
Color: 15 92 171 216 RAIN
Color: 20 35 187 83 RAIN
Color: 25 2 154 11 RAIN
Color: 30 0 115 5 RAIN
Color: 35 0 77 0 RAIN
Color: 40 255 214 0 RAIN
Color: 45 255 173 0 RAIN
Color: 50 255 23 0 RAIN
Color: 55 213 18 3 168 15 0 RAIN
Color: 60 96 8 0 51 4 4 RAIN
Color: 65 255 191 253 RAIN
Color: 70 200 117 199 148 56 149 RAIN
Color: 75 255 252 255 RAIN
Color: 80 255 252 255 RAIN

# Snow
color: -30 0 0 0 SNOW
color: -10.0 36 115 132 SNOW
color: 0.0 2 117 255 SNOW
color: 50.0 0 0 50 SNOW
color: 70.0 0 0 0 SNOW
color: 80 0 0 0 SNOW

# Mixed
Color: -30 0 0 0 MIX
Color: -10 121 93 89 MIX
Color: 0.0 224 80 68 MIX
Color: 50 34 17 20 MIX
Color: 70 0 0 0 MIX
Color: 80 0 0 0 MIX
`;fe.parse("PRT","DEFAULT",u2);const p2=`
Product: PM
Units: dBZ

Color4: 0.0 4 4 6 33 96 97 120 124 RAIN
Color4: 10.0 99 100 130 128 139 140 172 200 RAIN
Color4: 14.0 100 120 160 180 52 106 145 160 RAIN
Color4: 15.0 0 85 128 140 24 183 255 250 RAIN
Color: 22.0 22 188 243 RAIN
Color: 25.0 0 255 120 RAIN
Color: 32.0 0 35 0 255 243 46 RAIN
Color: 40.0 255 246 51 253 168 53 RAIN
Color: 44.0 253 160 53 205 25 8 RAIN
Color: 52.0 96 5 0 53 1 49 RAIN
Color: 56.0 67 1 60 204 0 166 RAIN
Color: 64.0 24 19 43 5 204 209 RAIN
Color: 74.5 255 255 255 13 13 13 RAIN
Color: 90.0 0 0 0 RAIN

Color4: -30.0 65 12 39 75 MIX
Color4: 0.0 121 52 87 110 MIX
Color4: 10.0 176 91 136 145 MIX
Color4: 20.0 232 131 184 240 MIX
Color: 30.0 195 106 152 MIX
Color: 40.0 158 80 121 MIX
Color: 50.0 121 55 89 MIX
Color: 60.0 84 29 58 MIX
Color: 90.0 47 4 26 MIX

Color4: -30.0 0 51 51 75 SNOW
Color4: 0.0 82 119 119 110 SNOW
Color4: 10.0 163 187 187 145 SNOW
Color4: 20.0 245 245 245 180 SNOW
Color: 30.0 197 213 218 SNOW
Color: 40.0 149 171 182 SNOW
Color: 50.0 101 128 145 SNOW
Color: 60.0 53 86 109 SNOW
Color: 90.0 5 44 72 SNOW
`;fe.parse("PRT","OTHER1",p2);const m2=`
Product: PM
Units: dBZ

Color: 5   37 225 125 RAIN
Color: 14    1  96   5 RAIN
Color: 35  255 255  33 255 128 0 RAIN
Color: 45  255   0   0 205   0 0 RAIN
Color: 55  180   0 180 RAIN
Color: 60  253 117 243 RAIN
Color: 65   29  29  29 RAIN
Color: 80  255 255 255 RAIN

Color4: -10.0 69 8 39 75 MIX
Color4: 0.0 124 54 90 115 MIX
Color4: 5.0 180 101 142 145 MIX
Color4: 10.0 235 147 193 180 MIX
Color: 20.0 199 121 163 MIX
Color: 25.0 164 96 132 MIX
Color: 30.0 128 70 102 MIX
Color: 45.0 93 45 71 MIX
Color: 70.0 57 19 41 MIX

Color4: -10.0 0 32 32 75 SNOW
Color4: 0.0 0 56 64 127 SNOW
Color4: 10.0 0 79 95 180 SNOW
Color: 20.0 0 128 255 SNOW
Color: 25.0 0 85 255 SNOW
Color: 30.0 0 0 255 SNOW
Color: 45.0 0 0 175 SNOW
Color: 70.0 0 0 50 SNOW
`;fe.parse("PRT","OTHER2",m2);const h2=`
Product: BV
Units: KTS
Scale: 1.942

Color: -120 252 0 131
Color: -100 110 3 152
Color: -90  24 39 164
Color: -80 30 111 187
Color: -70 47 222 225
Color: -50 181 237 240
Color: -40 3 234 3
Color: -10 78 121 77
Color: 0 137 117 123
Color: 10 109 0 1
Color: 40 249 51 77
Color: 55 253 160 202
Color: 60 253 228 159
Color: 80 254 142 79
Color: 120 110 14 8
`;fe.parse("VEL","DEFAULT",h2);const g2=`
Units: KTS
Step: 10
Product: BV
Scale: 1.942

Color: 100 172 169 171
Color: 70 15 0 7
Color: 50 246 0 13
Color: 40 193 3 253 154 0 156
Color: 30 252 151 252
Color: 27 151 82 30
Color: 20 200 119 25
Color: 10 249 239 96
Color: 5 148 113 125
Color: 0 120 122 120
Color: -5 136 146 129
Color: -10 127 185 113
Color: -30 3 65 5
Color: -40 3 133 136
Color: -60 32 9 228 1 245 253
Color: -63 0 3 46
Color: -90 48 49 90
Color: -100 68 68 100
`;fe.parse("VEL","OTHER1",g2);const f2=`
Units: KTS
Step: 10
Product: BV
Scale: 1.942

Color: 80 0 0 0
Color: 60 69 21 33
Color: 40 124 48 87
Color: 30 164 75 95
Color: 10 188 117 116
Color: 5 235 215 204

Color: 0 245 242 237

Color: -5 183 202 177
Color: -10 82 147 127
Color: -30 40 77 95
Color: -40 24 34 64
Color: -60 29 15 51
Color: -80 0 0 0
`;fe.parse("VEL","OTHER2",f2);const y2="data:text/plain;base64,UHJvZHVjdDogQlYKVW5pdHM6IE1QSApTdGVwOiAxMApTY2FsZTogMi4yMzY5NAoKQ09MT1I6IDAgMTMwIDEwNiAxMjAKQ09MT1I6IDEwIDEwNSAwIDAKQ09MT1I6IDQwIDI0OSA1OCA4NApDT0xPUjogNTUgMjU1IDE1NyAyMDYKQ09MT1I6IDYwIDI1NSAyMzAgMTY5CkNPTE9SOiA4MCAyNTQgMTM3IDgwCkNPTE9SOiAxMjAgOTcgNiAyCkNPTE9SOiAxNDAgNjAgMCAwCkNPTE9SOiAyMDAgNDUgMCAwCkNPTE9SOiAtMTAgNzIgMTEyIDcxCkNPTE9SOiAtNDAgMTAgMjQ4IDM1CkNPTE9SOiAtNTAgMTgwIDI0MCAyNDMKQ09MT1I6IC03MCA1NSAyMjYgMjI5CkNPTE9SOiAtOTAgMjUgMSAxNDIKQ09MT1I6IC0xMDAgMTA1IDIgMTQyCkNPTE9SOiAtMTIwIDI1MCA0IDEzMApDT0xPUjogLTE0MCAyNTUgMjAgMTgwCkNPTE9SOiAtMjAwIDI1NSAyMjAgMjIwClJGOiAxMjMgMCAyMDA=";fe.parse("VEL","RH1",y2);const N2=`
Product: BV

Color: -3.0 75 0 130      # Indigo (Hex: #4B0082) (Strong negative ZDR)
Color: -2.0 128 0 128     # Purple (Hex: #800080)
Color: -1.0 139 0 139     # Dark Magenta (Hex: #8B008B)
Color: 0.0 255 255 255    # White (Hex: #FFFFFF) (Neutral ZDR, near zero)
Color: 0.5 173 216 230    # Light Blue (Hex: #ADD8E6)
Color: 1.0 135 206 250    # Sky Blue (Hex: #87CEFA)
Color: 1.5 0 191 255      # Deep Sky Blue (Hex: #00BFFF)
Color: 2.0 0 128 0        # Green (Hex: #008000)
Color: 3.0 50 205 50      # Lime Green (Hex: #32CD32)
Color: 4.0 255 255 0      # Yellow (Hex: #FFFF00)
Color: 5.0 255 165 0      # Orange (Hex: #FFA500)
Color: 6.0 255 69 0       # Orange Red (Hex: #FF4500)
Color: 7.0 255 0 0        # Red (Hex: #FF0000) (Strong positive ZDR)
`;fe.parse("ZDR","DEFAULT",N2);const v2=`
Product: CC

Color: 0.2 0 0 0
Color: 0.4 148 148 148
Color: 0.6 117 147 255
Color: 0.2 0 69 189
Color: 0.8 173 244 255
Color: 1 194 0 71
Color: 1.2 255 235 242
`;fe.parse("CC","DEFAULT",v2);const b2=`
Product: CC
Units: %
Scale: 100
Step: 4

Color: 104 255 172 255
Color: 101.5 253 162 254
Color: 101 154 19 140
Color: 98 93 0 29
Color: 96 230 2 0
Color: 92 254 202 0
Color: 88 116 242 28
Color: 84 95 229 125
Color: 80 123 132 249
Color: 76 38 39 254
Color: 20 22 0 44
`;fe.parse("CC","OTHER1",b2);const w2=`
Product:  CC
Units:    %
Scale:    100
Step:     5

SolidColor4: 105    250 250 250 50
SolidColor: 104     240 200 240
Color: 103 77 0 77
Color: 95 128 0 0
Color: 85 204 153 0
Color: 75 0 153 0
Color: 65 51 102 204
Color: 55 0 0 102
Color: 45 41 61 61
Color: 35 38 38 38
Color: 25 0 0 0
Color: 15 153 153 153
Color: 0 255 255 255
`;fe.parse("CC","OTHER2",w2);const x2="data:text/plain;base64,UHJvZHVjdDogQ0MKVW5pdHM6IFJITwpTY2FsZTogIDEKU3RlcDogICAwLjEKCkNvbG9yOiAgMS4wNSAgMTY0ICAgNTQgIDE1MApDb2xvcjogIDEuMDAgIDI1NSAgMTgwICAyMTUKQ29sb3I6ICAwLjk5ICAgMTM5ICAgMzAgICA3NyAgMTM5ICAgMzAgICA3NwpDb2xvcjogIDAuOTcgICAyMjUgICAgMyAgICAwCkNvbG9yOiAgMC45NSAgIDI1NSAgMTQwICAgIDAKQ29sb3I6ICAwLjkwICAgMjU1ICAyNTUgICAgMApDb2xvcjogIDAuODUgICAxMzUgIDIxNSAgIDEwCkNvbG9yOiAgMC44MCAgICA5NSAgMjQ1ICAxMDAKQ29sb3I6ICAwLjc1ICAgMTIwICAxMjAgIDI1NQpDb2xvcjogIDAuNjAgICAgMTAgICAxMCAgMTkwCkNvbG9yOiAgMC40NSAgICAxNSAgIDE1ICAxNDAKY29sb3I6ICAwLjAwICAgMTUgICAxNSAgMTQw";fe.parse("CC","RH1",x2);const _2=`
Product: SW
Units: KTS
Step: 2
Scale: 1.9426

Color: 0 5 5 6
Color: 2 42 42 49
Color: 4 78 77 91
Color: 6 115 114 133
Color: 8 152 148 173
Color: 10 200 109 105
Color: 12 246 75 42
Color: 14 248 116 52
Color: 16 250 161 63
Color: 18 252 203 73
Color: 20 255 244 83
Color: 22 255 248 111
Color: 24 255 250 140
Color: 26 255 251 170
Color: 28 255 252 199
Color: 30 255 254 226
Color: 32 246 246 246
`;fe.parse("SW","DEFAULT",_2);const S2=`
Product: SW
Units:   KTS
Step:    2
Scale:   1.9426

color: 0 20 5 72
color: 2 50 20 140
color: 4 124 38 190
color: 7 218 55 120
color: 15 251 126 33
color: 18 255 255 0
color: 22 153 255 51
color: 30 0 153 230
color: 35 0 17 26
color: 40 255 255 255
`;fe.parse("SW","OTHER1",S2);const k2=`
Product: SW
Units: KTS
Step: 1
Scale: 1.9426

Color: 32 0 0 0
Color: 18 79 0 81
Color: 5 154 177 216
Color: 4 249 250 252

Color: 0 24 24 24
`;fe.parse("SW","OTHER2",k2);const A2=`
Product: BV

Color: -2.0 75 0 130       # Indigo (Hex: #4B0082) (Strong negative KDP, rare or noise)
Color: -1.0 139 0 139      # Dark Magenta (Hex: #8B008B)
Color: -0.5 128 0 128      # Purple (Hex: #800080)
Color: 0.0 255 255 255     # White (Hex: #FFFFFF) (Neutral, no specific differential phase)
Color: 0.5 173 216 230     # Light Blue (Hex: #ADD8E6)
Color: 1.0 0 191 255       # Deep Sky Blue (Hex: #00BFFF)
Color: 2.0 0 128 0         # Green (Hex: #008000)
Color: 3.0 50 205 50       # Lime Green (Hex: #32CD32)
Color: 4.0 255 255 0       # Yellow (Hex: #FFFF00)
Color: 5.0 255 165 0       # Orange (Hex: #FFA500)
Color: 6.0 255 69 0        # Orange Red (Hex: #FF4500)
Color: 7.0 255 0 0         # Red (Hex: #FF0000) (High positive KDP, intense rainfall)
`;fe.parse("KDP","DEFAULT",A2);const C2=`
Product: BV

solidcolor: 10 156 156 156
solidcolor: 20 118 118 118
solidcolor: 30 243 179 178
solidcolor: 40 117 250 243
solidcolor: 50 63 141 247
solidcolor: 60 115 247 154
solidcolor: 70 84 184 54
solidcolor: 80 208 207 112
solidcolor: 90 199 135 134
solidcolor: 100 234 51 36
solidcolor: 110 147 37 30
solidcolor: 120 255 254 84
solidcolor: 130 0 0 0
`;fe.parse("HCA","DEFAULT",C2);const T2=`
Product: BV

Color: -50.0 0 100 0 # Dark Green (Hex: #006400)
Color: -40.0 0 128 0 # Green (Hex: #008000)
Color: -30.0 0 192 0 # Lighter Green (Hex: #00C000)
Color: -20.0 128 224 128 # Light Green (Hex: #80E080)
Color: -10.0 192 255 192 # Very Light Green (Hex: #C0FFC0)
Color: 0.0 255 255 255 # White (Hex: #FFFFFF)
Color: 10.0 255 224 224 # Very Light Pink (Hex: #FFE0E0)
Color: 20.0 255 192 192 # Light Pink (Hex: #FFC0C0)
Color: 30.0 255 128 128 # Light Red (Hex: #FF8080)
Color: 40.0 255 0 0 # Red (Hex: #FF0000)
Color: 50.0 139 0 0 # Dark Red (Hex: #8B0000)
`;fe.parse("SRV","DEFAULT",T2);const B2=`
Product: BV

Color: 0 0 0 0
Color: 0.1 100 100 100
Color: 0.25 60 60 60
Color: 0.5 0 200 255
Color: 0.75 0 150 255
Color: 1 0 100 255
Color: 1.5 0 0 255
Color: 2 0 255 0
Color: 2.5 0 200 0
Color: 3 0 150 0
Color: 4 255 255 0
Color: 5 255 200 0
Color: 6 255 150 0
Color: 8 255 100 0
Color: 10 255 0 0
Color: 12 200 0 0
Color: 15 150 0 0
Color: 20 100 0 0
`;fe.parse("DTA","DEFAULT",B2);const D2=`
Product: BV

Color: 0.0 255 255 255    # White (0 inches, no precipitation)
Color: 0.1 173 216 230    # Light Blue (Hex: #ADD8E6) (0.1 inches)
Color: 0.2 135 206 250    # Sky Blue (Hex: #87CEFA) (0.2 inches)
Color: 0.3 0 191 255      # Deep Sky Blue (Hex: #00BFFF) (0.3 inches)
Color: 0.5 0 128 0        # Green (Hex: #008000) (0.5 inches)
Color: 0.75 50 205 50     # Lime Green (Hex: #32CD32) (0.75 inches)
Color: 1.0 255 255 0      # Yellow (Hex: #FFFF00) (1.0 inch)
Color: 1.5 255 165 0      # Orange (Hex: #FFA500) (1.5 inches)
Color: 2.0 255 69 0       # Orange Red (Hex: #FF4500) (2.0 inches)
Color: 2.5 255 0 0        # Red (Hex: #FF0000) (2.5 inches)
Color: 3.0 139 0 0        # Dark Red (Hex: #8B0000) (3.0 inches)
Color: 4.0 128 0 128      # Purple (Hex: #800080) (4.0 inches)
Color: 5.0 75 0 130       # Indigo (Hex: #4B0082) (5.0 inches and above)
`;fe.parse("OHA","DEFAULT",D2);const I2=`
Product: BV

Color: 0.0 255 255 255    # White (0 kft, no significant echo)
Color: 5.0 173 216 230    # Light Blue (Hex: #ADD8E6) (5 kft)
Color: 10.0 135 206 250   # Sky Blue (Hex: #87CEFA) (10 kft)
Color: 15.0 0 191 255     # Deep Sky Blue (Hex: #00BFFF) (15 kft)
Color: 20.0 0 128 0       # Green (Hex: #008000) (20 kft)
Color: 25.0 50 205 50     # Lime Green (Hex: #32CD32) (25 kft)
Color: 30.0 255 255 0     # Yellow (Hex: #FFFF00) (30 kft)
Color: 35.0 255 165 0     # Orange (Hex: #FFA500) (35 kft)
Color: 40.0 255 69 0      # Orange Red (Hex: #FF4500) (40 kft)
Color: 45.0 255 0 0       # Red (Hex: #FF0000) (45 kft)
Color: 50.0 139 0 139     # Dark Magenta (Hex: #8B008B) (50 kft)
Color: 55.0 128 0 128     # Purple (Hex: #800080) (55 kft)
Color: 60.0 75 0 130      # Indigo (Hex: #4B0082) (60 kft)
Color: 65.0 148 0 211     # Dark Violet (Hex: #9400D3) (65 kft)
`;fe.parse("EET","DEFAULT",I2);const E2=`
Product: BV

Color: 0.0 255 255 255    # White (0 kg/m², no significant VIL)
Color: 5.0 173 216 230    # Light Blue (Hex: #ADD8E6) (5 kg/m²)
Color: 10.0 135 206 250   # Sky Blue (Hex: #87CEFA) (10 kg/m²)
Color: 15.0 0 191 255     # Deep Sky Blue (Hex: #00BFFF) (15 kg/m²)
Color: 20.0 0 128 0       # Green (Hex: #008000) (20 kg/m²)
Color: 25.0 50 205 50     # Lime Green (Hex: #32CD32) (25 kg/m²)
Color: 30.0 255 255 0     # Yellow (Hex: #FFFF00) (30 kg/m²)
Color: 35.0 255 165 0     # Orange (Hex: #FFA500) (35 kg/m²)
Color: 40.0 255 69 0      # Orange Red (Hex: #FF4500) (40 kg/m²)
Color: 45.0 255 0 0       # Red (Hex: #FF0000) (45 kg/m²)
Color: 50.0 139 0 0       # Dark Red (Hex: #8B0000) (50 kg/m²)
Color: 55.0 128 0 128     # Purple (Hex: #800080) (55 kg/m²)
Color: 60.0 75 0 130      # Indigo (Hex: #4B0082) (60 kg/m²)
Color: 65.0 148 0 211     # Dark Violet (Hex: #9400D3) (65 kg/m²)
`;fe.parse("VIL","DEFAULT",E2);class L2{constructor(e){this.radar=e,this.pointsSourceId="ww-radar-storm-tracks-points-source",this.pointsLayerId="ww-radar-storm-tracks-points-layer",this.forecastSourceId="ww-radar-storm-tracks-forecast-source",this.forecastLayerId="ww-radar-storm-tracks-forecast-layer",this.layers=[this.pointsLayerId,this.forecastLayerId],g.addSource(this.pointsSourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.pointsLayerId,type:"circle",source:this.pointsSourceId,paint:{"circle-radius":3,"circle-stroke-width":1,"circle-color":"#FFFFFF","circle-stroke-color":"#000000","circle-pitch-alignment":"map"},minzoom:6}),g.addSource(this.forecastSourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.forecastLayerId,type:"line",source:this.forecastSourceId,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#FFFFFF","line-width":2},minzoom:6},this.pointsLayerId)}draw(e,t){this.drawPoints(e,t),this.drawForecast(e,t)}drawPoints(e,t){const a={type:"FeatureCollection",features:t.data.map(r=>({type:"Feature",geometry:{type:"Point",coordinates:r.current},properties:{id:`${e}-${r.id}`}}))};g.getSource(this.pointsSourceId).setData(a)}drawForecast(e,t){let o=t.data.map(r=>{const n=JSON.parse(JSON.stringify(r)),l=n.forecast;return l.unshift(n.current),{type:"Feature",geometry:{type:"LineString",coordinates:l},properties:{id:`${e}-${n.id}`}}});t.data.forEach(r=>{r.forecast.forEach((n,l)=>{const d=Rs(n),m=l+1,h=l==0?r.current:r.forecast[l-1],f=Sr(h,n),y=(f-90+360)%360,N=(f+90)%360,w=Gt(d,m,y,{units:"miles"}),S=Gt(d,m,N,{units:"miles"}),v=[w.geometry.coordinates,S.geometry.coordinates];o.push({type:"Feature",geometry:{type:"LineString",coordinates:v},properties:{id:`${e}-${r.id}-${l}`}})})});const a={type:"FeatureCollection",features:o};g.getSource(this.forecastSourceId).setData(a)}clear(e){g.getSource(this.pointsSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.forecastSourceId).setData({type:"FeatureCollection",features:[]})}show(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","none")}}class R2{constructor(e){this.radar=e,this.pointsSourceId="ww-radar-lightning-strikes-source",this.strikeIconLayerId="ww-radar-lightning-strikes-icon-layer",this.strikeDotLayerId="ww-radar-lightning-strikes-dot-layer",this.strikeIconId="ww-radar-lightning-strikes-strike",this.layers=[this.strikeIconLayerId,this.strikeDotLayerId],this.mode=vo,this.activeSocketRooms=[],this.MAX_STRIKE_AGE=15*60,this.MAX_FEATURES=500,this.bufferedStrikes=[],this.bufferedMaxAge=0,this.renderedTowerIds=[],this.collection={type:"FeatureCollection",features:[]},setInterval(()=>{if(this.mode!==Ce)return;const t=j.utc().unix();this.collection.features=this.collection.features.filter(o=>t-o.properties.at<this.MAX_STRIKE_AGE).map(o=>{let a=1-(t-o.properties.at)/this.MAX_STRIKE_AGE;return a>1?a=1:a<.2&&(a=.2),o.properties["icon-opacity"]=a,o}),this.collection.features.length>this.MAX_FEATURES&&(this.collection.features=this.collection.features.slice(-this.MAX_FEATURES)),this.draw()},30*1e3),g.addSource(this.pointsSourceId,{type:"geojson",data:this.collection}),g.addLayer({id:this.strikeIconLayerId,type:"symbol",source:this.pointsSourceId,layout:{"icon-image":["get","icon-image"],"icon-size":.05,"icon-padding":0,"symbol-sort-key":["-",1,["get","icon-opacity"]],visibility:"none"},paint:{"icon-opacity":["get","icon-opacity"]}}),g.addLayer({id:this.strikeDotLayerId,type:"circle",source:this.pointsSourceId,layout:{visibility:"none"},paint:{"circle-radius":4,"circle-radius":["max",["*",["get","icon-opacity"],3],1.5],"circle-stroke-width":1,"circle-color":"yellow","circle-color":"white","circle-stroke-color":"#333333","circle-opacity":["get","icon-opacity"],"circle-pitch-alignment":"map"}})}strikesToFeatures(e,t){return t===void 0&&(t=j.utc().unix()),e.length>this.MAX_FEATURES&&(e=e.slice(-this.MAX_FEATURES)),e.filter((a,r)=>t-a[2]).map((a,r)=>{let n=1-(t-a[2])/this.MAX_STRIKE_AGE;return n>1?n=1:n<.2&&(n=.2),{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{id:`${Math.random()}`,at:a[2],"icon-image":this.strikeIconId,"icon-opacity":n}}})}push(e){return this.collection.features.push(...e),this}draw(){g.getSource(this.pointsSourceId).setData(this.collection)}async loadIcon(){g.hasImage(this.strikeIconId)||await g.asyncLoadAndAddImage("/radar/lightning/strike.png",this.strikeIconId)}listenForLightningUpdates(e){const t=`radar-lightning-strikes:${e}`;this.activeSocketRooms.includes(t)||(this.activeSocketRooms.push(t),te.roomJoin(t),te.on(t,async o=>{if(console.log("Radar lightning strike",t,o,`Mode: ${this.mode}`),this.mode===Ce){const a=this.strikesToFeatures(o.strikes);this.push(a).draw()}else if(this.mode===Pt){this.bufferedStrikes.push(...o.strikes);const a=j.utc().unix();this.bufferedStrikes=this.bufferedStrikes.filter(r=>r[2]<=a&&r[2]>=a-this.bufferedMaxAge)}}))}async load(e){this.mode=Ce,this.renderedTowerIds.includes(e)||this.renderedTowerIds.push(e);try{const t=await Se.instance().get(`/satellite/radar/${e}/active.json`);if(!this.renderedTowerIds.includes(e))return console.log("Tower not rendered",e);const o=this.strikesToFeatures(t.strikes);this.push(o).draw()}catch(t){console.error(`Failed to fetch lightning data for: ${e}`,t)}this.listenForLightningUpdates(e)}async loadHistory(e,t){this.mode=Pt,this.bufferedStrikes=[],this.bufferedMaxAge=t;try{const o=await Se.instance().get(`/satellite/radar/${e}/active-${t}.json`);Array.isArray(o.strikes)&&(this.bufferedStrikes=o.strikes)}catch(o){console.error(`Failed to fetch historical lightning data for: ${e}`,o)}}drawHistory(e,t){typeof e=="string"&&(e=j.utc(e));const o=e.unix(),a=t?n=>n[2]>=o-this.MAX_STRIKE_AGE:n=>n[2]<=o&&n[2]>=o-this.MAX_STRIKE_AGE,r=this.bufferedStrikes.filter(a).slice(-this.MAX_FEATURES);this.collection.features=this.strikesToFeatures(r,o),this.draw()}clearBufferedHistoricalState(){this.bufferedStrikes=[],this.mode=Ce}clear(e){this.bufferedStrikes=[],this.renderedTowerIds=this.renderedTowerIds.filter(o=>o!==e),this.collection.features=[],this.draw(),this.mode=vo;const t=`radar-lightning-strikes:${e}`;te.roomLeave(t),te.removeAllListeners(t),this.activeSocketRooms=this.activeSocketRooms.filter(o=>o!==t)}show(){this.hide();const e=this.radar.settings.lightning;e===1?g.setLayoutProperty(this.strikeIconLayerId,"visibility","visible"):e===2&&g.setLayoutProperty(this.strikeDotLayerId,"visibility","visible")}hide(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","none")}}var Qs=`#version 300 es

in vec4 a_pos;
uniform mat4 u_matrix;
uniform vec2 u_radarCenter, u_dataSize, u_radarRes;
uniform float u_elevation, u_heightMul;
out vec2 texUV;

vec2 a(vec2 a) {
  float t = (180. + a.x) / 360., e = (180. - 57.295776 * log(tan(atan(1.) + a.y * acos(-1.) / 360.))) / 360.;
  return vec2(t, e);
}

float a(float a) {
  return a * acos(-1.) / 180.;
}

void main() {
  vec2 t = a(a_pos.xy), e = a(u_radarCenter);
  float o = a_pos.w;
  texUV = vec2(a_pos.z, o);
  float u = length(t - e), r = u * tan(a(u_elevation));
  gl_Position = u_matrix * vec4(t, r * u_heightMul, 1.);
}`,F2=`#version 300 es

precision highp float;

uniform vec3 u_color;
uniform highp sampler2D u_colorsTex, u_valuesTex;
uniform float minimum, maximum;
uniform vec2 u_filter;
uniform float opacity;
uniform vec2 u_dataRange, u_pixelMark, u_dataSize, u_radarRes;
uniform highp sampler2D u_maskTex;
uniform float u_smoothing;
uniform highp sampler2D u_smoothValuesTex;
in vec2 texUV;
out vec4 fragColor;

float a(highp sampler2D t, vec2 o, out float l) {
  vec4 a = texture(t, o);
  float e = float(a.w * 255. + a.z * 255. * 256.);
  l = float(e >= 1.);
  float u = (e - 1.) / 65534.;
  return u;
}

float e(highp sampler2D t, vec2 v, out float f) {
  ivec2 m = textureSize(t, 0);
  vec2 o = vec2(m), l = v * o, e = fract(l);
  float u, x = a(t, l / o, u), i, n = a(t, (l + vec2(1, 0)) / o, i), r, s = a(t, (l + vec2(0, 1)) / o, r), c, h = a(t, (l + vec2(1)) / o, c);
  f = mix(mix(u, i, e.x), mix(r, c, e.x), e.y);
  return mix(mix(x, n, e.x), mix(s, h, e.x), e.y);
}

vec4 a(highp sampler2D a, vec2 e) {
  vec4 t = texture(a, e);
  return t;
}

vec4 e(highp sampler2D e, vec2 u) {
  ivec2 i = textureSize(e, 0);
  vec2 t = vec2(i), o = u * t, l = fract(o);
  vec4 r = a(e, o / t), c = a(e, (o + vec2(1, 0)) / t), v = a(e, (o + vec2(0, 1)) / t), f = a(e, (o + vec2(1)) / t);
  return mix(mix(r, c, l.x), mix(v, f, l.x), l.y);
}

void a(highp sampler2D i, highp sampler2D r, highp sampler2D v, float o, vec2 t, out float f, out float m, out vec4 x, vec2 n) {
  float c, s = a(i, t, c);
  vec4 h = a(i, t);
  float l;
  vec2 u = vec2(-.5) / n;
  float p = e(r, t + u, l);
  l *= texture(v, t + u).x;
  vec4 g = e(r, t + u);
  f = mix(c, l, o);
  m = mix(s, p, o);
  x = mix(h, g, o);
}

vec4 a(inout vec4 a, float e, float o, vec2 t, float l) {
  float u = floor(float(e >= t.x && e <= t.y));
  a *= o * u;
  a.w *= l;
  return a;
}

vec4 a(float a, highp sampler2D o, float e, float t) {
  a = min(max(a, e), t);
  float l = (a - e) / (t - e);
  vec4 u = texture(o, vec2(l, 0.));
  return u;
}

void main() {
  vec2 e = texUV;
  e.x = e.x / u_radarRes.x;
  e.y = e.y / u_radarRes.y;
  e.y += u_radarRes.y * float(e.y < 0.);
  vec2 o = vec2(texUV.x / u_dataSize.x, texUV.y / u_dataSize.y);
  o = e;
  float l, t;
  vec4 u;
  a(u_valuesTex, u_smoothValuesTex, u_maskTex, u_smoothing, o, l, t, u, u_dataSize);
  t = u_dataRange.x + t * (u_dataRange.y - u_dataRange.x);
  vec4 i = a(t, u_colorsTex, minimum, maximum);
  fragColor = a(i, t, l, u_filter, opacity);
}`,M2=`#version 300 es

precision highp float;

uniform vec3 u_color;
uniform highp sampler2D u_colorsTex, u_valuesTex;
uniform float minimum, maximum;
uniform vec2 u_filter;
uniform float opacity;
uniform vec2 u_dataRange, u_pixelMark, u_dataSize, u_radarRes;
uniform highp sampler2D u_maskTex;
uniform float u_smoothing;
uniform highp sampler2D u_smoothValuesTex;
in vec2 texUV;
out vec4 fragColor;

float a(highp sampler2D t, vec2 o, out float l) {
  vec4 a = texture(t, o);
  float e = float(a.w * 255. + a.z * 255. * 256.);
  l = float(e >= 1.);
  float u = (e - 1.) / 65534.;
  return u;
}

float e(highp sampler2D t, vec2 v, out float f) {
  ivec2 x = textureSize(t, 0);
  vec2 o = vec2(x), l = v * o, e = fract(l);
  float u, m = a(t, l / o, u), c, s = a(t, (l + vec2(1, 0)) / o, c), i, h = a(t, (l + vec2(0, 1)) / o, i), r, n = a(t, (l + vec2(1)) / o, r);
  f = mix(mix(u, c, e.x), mix(i, r, e.x), e.y);
  return mix(mix(m, s, e.x), mix(h, n, e.x), e.y);
}

vec4 a(highp sampler2D a, vec2 e) {
  vec4 t = texture(a, e);
  return t;
}

vec4 e(highp sampler2D e, vec2 u) {
  ivec2 c = textureSize(e, 0);
  vec2 t = vec2(c), o = u * t, l = fract(o);
  vec4 i = a(e, o / t), r = a(e, (o + vec2(1, 0)) / t), v = a(e, (o + vec2(0, 1)) / t), f = a(e, (o + vec2(1)) / t);
  return mix(mix(i, r, l.x), mix(v, f, l.x), l.y);
}

void a(highp sampler2D c, highp sampler2D i, highp sampler2D v, float o, vec2 t, out float f, out float x, out vec4 m, vec2 s) {
  float r, h = a(c, t, r);
  vec4 n = a(c, t);
  float l;
  vec2 u = vec2(-.5) / s;
  float p = e(i, t + u, l);
  l *= texture(v, t + u).x;
  vec4 g = e(i, t + u);
  f = mix(r, l, o);
  x = mix(h, p, o);
  m = mix(n, g, o);
}

vec4 a(inout vec4 a, float e, float o, vec2 t, float l) {
  float u = floor(float(e >= t.x && e <= t.y));
  a *= o * u;
  a.w *= l;
  return a;
}

void main() {
  vec2 e = texUV;
  e.x = e.x / u_radarRes.x;
  e.y = e.y / u_radarRes.y;
  e.y += u_radarRes.y * float(e.y < 0.);
  vec2 o = vec2(texUV.x / u_dataSize.x, texUV.y / u_dataSize.y);
  o = e;
  float l, t;
  vec4 u;
  a(u_valuesTex, u_smoothValuesTex, u_maskTex, u_smoothing, o, l, t, u, u_dataSize);
  float c = u_dataRange.x + t * (u_dataRange.y - u_dataRange.x);
  vec4 i = vec4(0., 0., 0., t);
  fragColor = a(i, c, l, u_filter, opacity);
}`,P2=`#version 300 es

precision highp float;

uniform vec3 u_color;
uniform highp sampler2D u_colorsTex, u_valuesTex;
uniform float minimum, maximum;
uniform vec2 u_filter;
uniform float opacity;
uniform vec2 u_dataRange, u_pixelMark, u_dataSize, u_radarRes;
uniform highp sampler2D u_maskTex;
uniform float u_smoothing;
uniform highp sampler2D u_smoothValuesTex;
in vec2 texUV;
out vec4 fragColor;

float a(highp sampler2D t, vec2 o, out float u) {
  vec4 a = texture(t, o);
  float e = float(a.w * 255. + a.z * 255. * 256.);
  u = float(e >= 1.);
  float l = (e - 1.) / 65534.;
  return l;
}

float e(highp sampler2D t, vec2 v, out float f) {
  ivec2 x = textureSize(t, 0);
  vec2 o = vec2(x), u = v * o, e = fract(u);
  float l, m = a(t, u / o, l), c, s = a(t, (u + vec2(1, 0)) / o, c), i, h = a(t, (u + vec2(0, 1)) / o, i), r, n = a(t, (u + vec2(1)) / o, r);
  f = mix(mix(l, c, e.x), mix(i, r, e.x), e.y);
  return mix(mix(m, s, e.x), mix(h, n, e.x), e.y);
}

vec4 a(highp sampler2D a, vec2 e) {
  vec4 t = texture(a, e);
  return t;
}

vec4 e(highp sampler2D e, vec2 l) {
  ivec2 c = textureSize(e, 0);
  vec2 t = vec2(c), o = l * t, u = fract(o);
  vec4 i = a(e, o / t), r = a(e, (o + vec2(1, 0)) / t), v = a(e, (o + vec2(0, 1)) / t), f = a(e, (o + vec2(1)) / t);
  return mix(mix(i, r, u.x), mix(v, f, u.x), u.y);
}

void a(highp sampler2D c, highp sampler2D i, highp sampler2D v, float o, vec2 t, out float f, out float x, out vec4 m, vec2 s) {
  float r, h = a(c, t, r);
  vec4 n = a(c, t);
  float u;
  vec2 l = vec2(-.5) / s;
  float p = e(i, t + l, u);
  u *= texture(v, t + l).x;
  vec4 g = e(i, t + l);
  f = mix(r, u, o);
  x = mix(h, p, o);
  m = mix(n, g, o);
}

vec4 a(inout vec4 a, float e, float o, vec2 t, float u) {
  float l = floor(float(e >= t.x && e <= t.y));
  a *= o * l;
  a.w *= u;
  return a;
}

void main() {
  vec2 e = texUV;
  e.x = e.x / u_radarRes.x;
  e.y = e.y / u_radarRes.y;
  e.y += u_radarRes.y * float(e.y < 0.);
  vec2 o = vec2(texUV.x / u_dataSize.x, texUV.y / u_dataSize.y);
  o = e;
  float u, t;
  vec4 l;
  a(u_valuesTex, u_smoothValuesTex, u_maskTex, u_smoothing, o, u, t, l, u_dataSize);
  t = u_dataRange.x + t * (u_dataRange.y - u_dataRange.x);
  vec4 c = l;
  fragColor = a(c, t, u, u_filter, opacity);
}`,H2=`#version 300 es

in vec2 a_pos, a_uv;
out vec2 tex;
uniform vec3 u_tile;

void main() {
  tex = u_tile.xy + a_uv;
  gl_Position = vec4(a_pos, 0., 1.);
}`,z2=`#version 300 es

precision highp float;

in vec2 tex;
out vec4 fragColor;
uniform highp sampler2D u_flatTex;
uniform vec2 u_bbmin, u_bbmax;
uniform vec3 u_tile;
uniform vec2 u_location, u_dataRange, u_dataSize;
uniform float u_azimuthStart, u_gateSize, u_gateStart;
uniform highp sampler2D u_colorsTex, u_valuesTex;
uniform float minimum, maximum;
uniform vec2 u_filter;
uniform float opacity;
uniform highp sampler2D u_maskTex;
uniform float u_smoothing;
uniform highp sampler2D u_smoothValuesTex;

float t(float t, float a) {
  return t * a;
}

float t(float t) {
  return t * acos(-1.) / 180.;
}

float t(vec2 a, vec2 e, float l) {
  float f = t(e.y - a.y), i = t(e.x - a.x), u = t(a.y), c = t(e.y), o = pow(sin(f / 2.), 2.) + pow(sin(i / 2.), 2.) * cos(u) * cos(c);
  return t(2. * atan(sqrt(o), sqrt(1. - o)), l);
}

vec2 t(vec2 t, float e) {
  float a = pow(2., e), o = t.x / a * 360. - 180., l = atan(sinh(acos(-1.) * (1. - 2. * t.y / a))), f = degrees(l);
  return vec2(o, f);
}

float t(vec2 e, vec2 o) {
  float l = t(o.x - e.x), f = t(e.y), a = t(o.y), i = sin(l) * cos(a), u = cos(f) * sin(a) - sin(f) * cos(a) * cos(l), c = degrees(atan(i, u));
  return mod(c + 360., 360.);
}

float t(highp sampler2D e, vec2 o, out float l) {
  vec4 t = texture(e, o);
  float a = float(t.w * 255. + t.z * 255. * 256.);
  l = float(a >= 1.);
  float f = (a - 1.) / 65534.;
  return f;
}

float a(highp sampler2D e, vec2 r, out float m) {
  ivec2 v = textureSize(e, 0);
  vec2 o = vec2(v), l = r * o, a = fract(l);
  float f, x = t(e, l / o, f), i, n = t(e, (l + vec2(1, 0)) / o, i), u, s = t(e, (l + vec2(0, 1)) / o, u), c, h = t(e, (l + vec2(1)) / o, c);
  m = mix(mix(f, i, a.x), mix(u, c, a.x), a.y);
  return mix(mix(x, n, a.x), mix(s, h, a.x), a.y);
}

vec4 t(highp sampler2D t, vec2 a) {
  vec4 e = texture(t, a);
  return e;
}

vec4 a(highp sampler2D a, vec2 f) {
  ivec2 i = textureSize(a, 0);
  vec2 e = vec2(i), o = f * e, l = fract(o);
  vec4 u = t(a, o / e), c = t(a, (o + vec2(1, 0)) / e), r = t(a, (o + vec2(0, 1)) / e), m = t(a, (o + vec2(1)) / e);
  return mix(mix(u, c, l.x), mix(r, m, l.x), l.y);
}

void t(highp sampler2D i, highp sampler2D u, highp sampler2D r, float o, vec2 e, out float m, out float v, out vec4 x, vec2 n) {
  float c, s = t(i, e, c);
  vec4 h = t(i, e);
  float l;
  vec2 f = vec2(-.5) / n;
  float p = a(u, e + f, l);
  l *= texture(r, e + f).x;
  vec4 g = a(u, e + f);
  m = mix(c, l, o);
  v = mix(s, p, o);
  x = mix(h, g, o);
}

vec4 t(inout vec4 t, float a, float o, vec2 e, float l) {
  float f = floor(float(a >= e.x && a <= e.y));
  t *= o * f;
  t.w *= l;
  return t;
}

vec4 t(float t, highp sampler2D o, float a, float e) {
  t = min(max(t, a), e);
  float l = (t - a) / (e - a);
  vec4 f = texture(o, vec2(l, 0.));
  return f;
}

void main() {
  vec2 l = t(tex, u_tile.z);
  float u = t(l, u_location, 6371009.), c = u, r = u_gateStart + u_gateSize * u_dataSize.x, f = u_gateStart, o = (c - f) / (r - f);
  if (o > 1. || o < 0.) {
    discard;
  }

  float m = clamp(o, 0., 1.), e = t(u_location, l);
  if (e < 0.) {
    e += 360.;
  }

  e /= 360.;
  float i, a;
  vec4 v;
  t(u_valuesTex, u_smoothValuesTex, u_maskTex, u_smoothing, vec2(m, e), i, a, v, u_dataSize);
  a = u_dataRange.x + a * (u_dataRange.y - u_dataRange.x);
  vec4 x = t(a, u_colorsTex, minimum, maximum);
  fragColor = t(x, a, i, u_filter, opacity);
}`,O2=`#version 300 es

in vec2 a_pos, a_uv;
out vec2 tex;

void main() {
  tex = a_uv;
  gl_Position = vec4(a_pos, 0., 1.);
}`,K2=`#version 300 es

precision highp float;

in vec2 tex;
out vec4 fragColor;
uniform vec2 u_dataRange, u_dataSize;
uniform lowp sampler2D u_colorsTex, u_valuesTex;
uniform float minimum, maximum;
uniform vec2 u_filter;
uniform float opacity;
uniform lowp sampler2D u_maskTex;
uniform float u_smoothing;
uniform lowp sampler2D u_smoothValuesTex;
uniform float u_rawRender;

float o(lowp sampler2D a, vec2 t, out float l) {
  vec4 o = texture(a, t);
  float e = float(o.w * 255. + o.z * 255. * 256.);
  l = float(e >= 1.);
  float u = (e - 1.) / 65534.;
  return u;
}

float e(lowp sampler2D a, vec2 r, out float v) {
  ivec2 i = textureSize(a, 0);
  vec2 t = vec2(i), l = r * t, e = fract(l);
  float u, x = o(a, l / t, u), c, n = o(a, (l + vec2(1, 0)) / t, c), f, p = o(a, (l + vec2(0, 1)) / t, f), m, s = o(a, (l + vec2(1)) / t, m);
  v = mix(mix(u, c, e.x), mix(f, m, e.x), e.y);
  return mix(mix(x, n, e.x), mix(p, s, e.x), e.y);
}

vec4 o(lowp sampler2D o, vec2 e) {
  vec4 a = texture(o, e);
  return a;
}

vec4 e(lowp sampler2D e, vec2 u) {
  ivec2 c = textureSize(e, 0);
  vec2 a = vec2(c), t = u * a, l = fract(t);
  vec4 f = o(e, t / a), m = o(e, (t + vec2(1, 0)) / a), r = o(e, (t + vec2(0, 1)) / a), v = o(e, (t + vec2(1)) / a);
  return mix(mix(f, m, l.x), mix(r, v, l.x), l.y);
}

void o(lowp sampler2D c, lowp sampler2D f, lowp sampler2D r, float t, vec2 a, out float v, out float i, out vec4 x, vec2 n) {
  float m, p = o(c, a, m);
  vec4 s = o(c, a);
  float l;
  vec2 u = vec2(-.5) / n;
  float w = e(f, a + u, l);
  l *= texture(r, a + u).x;
  vec4 D = e(f, a + u);
  v = mix(m, l, t);
  i = mix(p, w, t);
  x = mix(s, D, t);
}

vec4 o(inout vec4 o, float e, float t, vec2 a, float l) {
  float u = floor(float(e >= a.x && e <= a.y));
  o *= t * u;
  o.w *= l;
  return o;
}

vec4 o(float o, lowp sampler2D t, float e, float a) {
  o = min(max(o, e), a);
  float l = (o - e) / (a - e);
  vec4 u = texture(t, vec2(l, 0.));
  return u;
}

void main() {
  float a, e;
  vec4 t;
  o(u_valuesTex, u_smoothValuesTex, u_maskTex, u_smoothing, tex, a, e, t, u_dataSize);
  e = u_dataRange.x + e * (u_dataRange.y - u_dataRange.x);
  vec4 l = o(e, u_colorsTex, minimum, maximum), u = mix(l, t, u_rawRender);
  fragColor = o(u, e, a, u_filter, opacity);
}`,U2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
out vec4 fragColor;

float o(lowp sampler2D e, vec2 l, out float a) {
  vec4 o = texture(e, l);
  float t = float(o.w * 255. + o.z * 255. * 256.);
  a = float(t >= 1.);
  float r = (t - 1.) / 65534.;
  return r;
}

void main() {
  float t, e = o(texSource, tex, t);
  fragColor = vec4(t, 0., 0., 1.);
}`,$2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
out vec4 fragColor;

void main() {
  fragColor = texture(texSource, tex);
}`,X2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
uniform vec2 u_texelSize;
uniform float u_radius;
out vec4 fragColor;

float t(vec2 r) {
  float t = 1.;
  for (int e = -4; e <= 4; e++) {
    for (int o = -4; o <= 4; o++) {
      float a = float(float(o * o + e * e) > u_radius * u_radius);
      vec2 f = vec2(float(o), float(e)) * u_texelSize;
      float u = texture(texSource, r + f).x;
      t = mix(min(t, u), t, a);
    }

  }

  return t;
}

void main() {
  fragColor = vec4(vec3(1) * t(tex), 1.);
}`,W2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
uniform vec2 u_texelSize;
uniform float u_radius;
out vec4 fragColor;

float t(vec2 r) {
  float t;
  for (int e = -4; e <= 4; e++) {
    for (int o = -4; o <= 4; o++) {
      float a = float(float(o * o + e * e) > u_radius * u_radius);
      vec2 f = vec2(float(o), float(e)) * u_texelSize;
      float u = texture(texSource, r + f).x;
      t = mix(max(t, u), t, a);
    }

  }

  return t;
}

void main() {
  fragColor = vec4(vec3(1) * t(tex), 1.);
}`,V2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
uniform vec2 scale;
uniform float smoothCurve[19];
out vec4 fragColor;

void main() {
  vec4 o;
  for (int e = -9; e <= 9; ++e) {
    vec2 r = vec2(tex.x + scale.x * float(e), tex.y);
    vec4 t = texture(texSource, r);
    o += t * smoothCurve[e + 9];
  }

  fragColor = o;
}`,G2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
in vec2 tex;
uniform vec2 scale;
uniform float smoothCurve[9];
out vec4 fragColor;

void main() {
  vec4 o;
  for (int e = -4; e <= 4; ++e) {
    vec2 r = vec2(tex.x, tex.y + scale.y * float(e));
    vec4 t = texture(texSource, r);
    o += t * smoothCurve[e + 4];
  }

  fragColor = o;
}`,j2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
uniform vec2 u_filter, scale;
in vec2 tex;
out vec4 fragColor;

float o(float t, float o) {
  return (smoothstep(-o, 0., t) - smoothstep(0., o, t)) / o;
}

void main() {
  vec4 t;
  for (int e = -3; e < 3; ++e) {
    vec2 r = vec2(tex.x + scale.x * float(e), tex.y);
    t += texture(texSource, r) * o(float(e), 3.);
  }

  fragColor = t;
}`,Z2=`#version 300 es

precision highp float;

uniform lowp sampler2D texSource;
uniform vec2 u_filter, scale;
in vec2 tex;
out vec4 fragColor;

float o(float t, float o) {
  return (smoothstep(-o, 0., t) - smoothstep(0., o, t)) / o;
}

void main() {
  vec4 t;
  for (int e = -3; e < 4; ++e) {
    vec2 r = vec2(tex.x, tex.y + scale.y * float(e));
    t += texture(texSource, r) * o(float(e), 3.);
  }

  fragColor = t;
}`,Y2=`precision highp float;

uniform lowp sampler2D u_texture;
varying vec2 tex;
uniform vec2 u_uvMin, u_uvMax;

void main() {
  if (tex.x > u_uvMax.x || tex.x < u_uvMin.x) {
    discard;
  }

  if (tex.y > u_uvMax.y || tex.y < u_uvMin.y) {
    discard;
  }

  vec4 u = texture2D(u_texture, tex);
  gl_FragColor = u;
}`,J2=`#version 300 es

precision highp float;

in vec2 tex;
uniform lowp sampler2D valuesTex;
uniform vec2 u_filter, u_uvMin, u_uvMax;
out vec4 fragColor;

float e(float l, vec2 e, vec2 t, vec2 u) {
  float o = float(!(e.x > u.x || e.x < t.x || e.y > u.y || e.y < t.y));
  return o * l;
}

void main() {
  vec4 t = texture(valuesTex, tex);
  float l = e(1., tex, u_uvMin, u_uvMax), u = t.x * 255. + t.y * 65280. + t.z * 16646400., o = step(u_filter.x, u) * step(u, u_filter.y);
  fragColor = vec4(t.xyz, 1.) * o * l;
}`;const kt={RADAR_MERCATOR:"RADAR_MERCATOR",RADAR_SHADOW:"RADAR_SHADOW",RADAR_RAW:"RADAR_RAW",RADAR_FLAT:"RADAR_FLAT",RADAR_GLOBE:"RADAR_GLOBE"},co={};co[kt.RADAR_MERCATOR]={vertex_shader:Qs,fragment_shader:F2};co[kt.RADAR_SHADOW]={vertex_shader:Qs,fragment_shader:M2};co[kt.RADAR_RAW]={vertex_shader:Qs,fragment_shader:P2};co[kt.RADAR_FLAT]={vertex_shader:O2,fragment_shader:K2};co[kt.RADAR_GLOBE]={vertex_shader:H2,fragment_shader:z2};function ao(i,e){if(!co[e])throw new Error("Recipe for program not found!");const t=co[e];return i.createProgram(t.vertex_shader,t.fragment_shader)}const He={MORPH_MASK_PASS:"MORPH_MASK_PASS ",NO_OP_PASS:"NO_OP_PASS",MORPH_ERODE_PASS:"MORPH_ERODE_PASS",MORPH_DILATE_PASS:"MORPH_DILATE_PASS",SMOOTH_FILTER_RADAR_X_PASS:"SMOOTH_FILTER_RADAR_X_PASS",SMOOTH_FILTER_RADAR_Y_PASS:"SMOOTH_FILTER_RADAR_Y_PASS",GRIDDED_SMOOTH_X_PASS:"GRIDDED_SMOOTH_X_PASS",GRIDDED_SMOOTH_Y_PASS:"GRIDDED_SMOOTH_Y_PASS",TEXTURE_COLOR_PASS:"TEXTURE_COLOR_PASS",VALUES_VISUALIZE_PASS:"VALUES_VISUALIZE_PASS"},ut={},Nt={SMOOTH_FILTER_X_SIZE:9,SMOOTH_FILTER_Y_SIZE:4};ut[He.MORPH_MASK_PASS]={fragment_shader:U2};ut[He.NO_OP_PASS]={fragment_shader:$2};ut[He.MORPH_ERODE_PASS]={fragment_shader:X2};ut[He.MORPH_DILATE_PASS]={fragment_shader:W2};ut[He.SMOOTH_FILTER_RADAR_X_PASS]={fragment_shader:V2};ut[He.SMOOTH_FILTER_RADAR_Y_PASS]={fragment_shader:G2};ut[He.GRIDDED_SMOOTH_X_PASS]={fragment_shader:j2};ut[He.GRIDDED_SMOOTH_Y_PASS]={fragment_shader:Z2};ut[He.TEXTURE_COLOR_PASS]={fragment_shader:Y2};ut[He.VALUES_VISUALIZE_PASS]={fragment_shader:J2};function po(i,e){if(!ut[e])throw new Error("Recipe for pass not found!");const t=ut[e];return i.createPass(t.fragment_shader)}class Q2{constructor(e){Y(this,"gl");Y(this,"missingUcache");Y(this,"uCache");Y(this,"traits");Y(this,"curStride");Y(this,"valuesRenderProgram");Y(this,"colorsTextureProgram");Y(this,"targetFbo");Y(this,"vertexShaderPass",`#version 300 es
    in vec2 a_pos;
    in vec2 a_uv;

    out vec2 tex;

    void main() {

      tex = a_uv;
      gl_Position = vec4(a_pos, 0.0, 1.0);
    }
  `);Y(this,"vxbQuad");this.gl=e,this.missingUcache=new Map,this.uCache=new Map,this.traits=[],this.curStride=0,this.targetFbo=null,this.vxbQuad=null,this.valuesRenderProgram=null,this.colorsTextureProgram=null}createShader(e,t){const o=this.gl.createShader(t);if(!o)return console.error(`Failed to create shader: ${t.toString()}`),null;this.gl.shaderSource(o,e),this.gl.compileShader(o);const a=this.gl.getShaderInfoLog(o);return a!=null&&a.length&&console.log(a),o}createProgram(e,t){const o=this.createShader(e,this.gl.VERTEX_SHADER),a=this.createShader(t,this.gl.FRAGMENT_SHADER);if(!o||!a)return null;const r=this.gl.createProgram();if(!r)return console.error("Failed to create shader program!"),null;this.gl.attachShader(r,o),this.gl.attachShader(r,a);let n=!1;if(n=this.gl.getShaderParameter(o,this.gl.COMPILE_STATUS),!n)throw"Could not compile shader:"+this.gl.getShaderInfoLog(o);if(n=this.gl.getShaderParameter(a,this.gl.COMPILE_STATUS),!n)throw"Could not compile shader:"+this.gl.getShaderInfoLog(a);this.gl.linkProgram(r);const l=this.gl.getProgramInfoLog(r);if(n=this.gl.getProgramParameter(r,this.gl.LINK_STATUS),n)l!=null&&l.length&&console.log(l);else throw"Could not link shader program: "+l;return this.gl.deleteShader(o),this.gl.deleteShader(a),r}setTexture(e,t){this.gl.activeTexture(this.gl.TEXTURE0+t),this.gl.bindTexture(this.gl.TEXTURE_2D,e)}setUniforms(e,t){this.gl.useProgram(e),Object.keys(t).forEach(o=>{var a=t[o];this.uCache.get(e)||this.uCache.set(e,new Map);let r=this.uCache.get(e);if(r){let n=r.get(o);if(!n){let l=this.gl.getUniformLocation(e,o);r.set(o,l),n=l}if(n!=null&&n!=-1)switch(a.type){case this.gl.FLOAT:a.value instanceof Float32Array?this.gl.uniform1fv(n,a.value):this.gl.uniform1f(n,a.value);break;case this.gl.FLOAT_VEC2:this.gl.uniform2fv(n,a.value);break;case this.gl.FLOAT_VEC3:this.gl.uniform3fv(n,a.value);break;case this.gl.FLOAT_MAT4:this.gl.uniformMatrix4fv(n,!1,a.value);break;case this.gl.SAMPLER_2D:this.gl.uniform1i(n,a.value);break}else this.missingUcache.has(o)||(console.error(`Uniform : ${o} not found!`),this.missingUcache.set(o,1))}})}setBuffer(e){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.traits.forEach(t=>{switch(t.type){case this.gl.FLOAT:this.gl.vertexAttribPointer(t.location,t.count,t.type,!1,this.curStride,t.offset);break;case this.gl.UNSIGNED_BYTE:this.gl.vertexAttribPointer(t.location,t.count,t.type,!0,this.curStride,t.offset);break;case this.gl.UNSIGNED_SHORT:this.gl.vertexAttribPointer(t.location,t.count,t.type,!1,this.curStride,t.offset);break}})}setIndices(e){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e)}setProgram(e,t,o,a){this.gl.useProgram(e),this.curStride=0;let r=[];if(o?this.curStride=o:(this.curStride=0,Object.keys(t).forEach(l=>{let d=t[l];switch(d.type){case this.gl.FLOAT:this.curStride+=d.count<<2;break}}),Object.keys(t).length==1&&(this.curStride=0)),a||(a=0),Object.keys(t).forEach(l=>{let d=this.gl.getAttribLocation(e,l);if(d!=-1){let m=t[l];if(m.location=d,r[d]=m,m.offset)a=m.offset;else switch(m.offset=a,m.type){case this.gl.FLOAT:a+=m.count<<2;break}}else console.warn(`Attribute ${l} not found!`)}),r.length>this.traits.length)for(var n=this.traits.length;n<r.length;++n)this.gl.enableVertexAttribArray(n);else for(var n=r.length;n<this.traits.length;++n)this.gl.disableVertexAttribArray(n);this.traits=r}cleanProgramUniforms(e){var t;this.uCache.has(e)&&((t=this.uCache.get(e))==null||t.clear(),this.uCache.delete(e))}getPixelExact(e,t){var o=new Uint8Array(4);return this.gl.readPixels(e,t,1,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,o),o}getPixel(e,t){var o=new Uint8Array(4);return this.gl.readPixels(e,this.gl.drawingBufferHeight-t,1,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,o),o}getPixelBounds(e,t,o,a){let r=o-e,n=a-t;var l=new Uint8Array(4*r*n);return this.gl.readPixels(e,t,r,n,this.gl.RGBA,this.gl.UNSIGNED_BYTE,l),l}createTextureSize(e,t,o,a){o=o||this.gl.REPEAT,a=a||this.gl.LINEAR;const r=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,r),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,a),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,a),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,o),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,o),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,t,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),r}createPass(e){return this.createProgram(this.vertexShaderPass,e)}setTarget(e,t,o){this.targetFbo||(this.targetFbo=this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.targetFbo),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,e,0),this.gl.viewport(0,0,t,o)}clearTarget(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}renderShaderPass(e,t,o,a,r){this.targetFbo||(this.targetFbo=this.gl.createFramebuffer()),this.targetFbo&&(t&&this.setTarget(t,o,a),this.vxbQuad||(this.vxbQuad=this.createStaticBuffer(new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]))),this.setProgram(e,{a_pos:{type:this.gl.FLOAT,count:2},a_uv:{type:this.gl.FLOAT,count:2}},void 0,void 0),this.vxbQuad&&this.setBuffer(this.vxbQuad),r&&this.setUniforms(e,r),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,4),this.clearTarget())}renderColorsTextureToScreen(e,t){this.colorsTextureProgram||(this.colorsTextureProgram=ao(this,He.TEXTURE_COLOR_PASS)),this.colorsTextureProgram&&(this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.vxbQuad||(this.vxbQuad=this.createStaticBuffer(new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]))),this.setProgram(this.colorsTextureProgram,{a_pos:{type:this.gl.FLOAT,count:2},a_uv:{type:this.gl.FLOAT,count:2}},void 0,void 0),this.vxbQuad&&this.setBuffer(this.vxbQuad),e&&this.setTexture(e,0),t&&this.setUniforms(this.colorsTextureProgram,t),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,4))}renderValuesTextureToScreen(e,t){this.valuesRenderProgram||(this.valuesRenderProgram=ao(this,He.VALUES_VISUALIZE_PASS)),this.valuesRenderProgram&&(this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.vxbQuad||(this.vxbQuad=this.createStaticBuffer(new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]))),this.setProgram(this.valuesRenderProgram,{a_pos:{type:this.gl.FLOAT,count:2},a_uv:{type:this.gl.FLOAT,count:2}},void 0,void 0),this.vxbQuad&&this.setBuffer(this.vxbQuad),e&&this.setTexture(e,0),t&&this.setUniforms(this.valuesRenderProgram,t),this.gl.drawArrays(this.gl.TRIANGLE_FAN,0,4))}createStaticBuffer(e){const t=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t}createIndexBuffer(e){const t=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t}createIndexBuffer_UInt(e){const t=this.gl.createBuffer();return this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,e,this.gl.STATIC_DRAW),t}recreateTexture(e,t,o,a,r){return e===null||!e||e===-1?(e=this.createTextureSize(t,o,a,r),e):(this.gl.deleteTexture(e),e=this.createTextureSize(t,o,a,r),e)}}function Bs(i,e,t){const o=e*Math.PI/180,a=Math.pow(2,t),r=a*((i+180)/360),n=a*(1-Math.log(Math.tan(o)+1/Math.cos(o))/Math.PI)/2,l=Math.floor(r),d=Math.floor(n),m=r-l,h=n-d;return{tileX:l,tileY:d,u:m,v:h,tileXFull:r,tileYFull:n}}const Q=Object.freeze({TEXTURE_NOT_INIT:"Texture not initialized!",BUFFER_NOT_INIT:"Buffer not initialized!",BUFFER_FAILED_TO_ALLOCATE:"Buffer failed to allocate!",PROGRAM_NOT_INIT:"Program not compiled/invalid program!",INVALID_DATA_SIZE:"Invalid data size!",EMPTY_DATA_ARRAY:"Empty data array!",INVALID_COLORMAP_FORMAT:"Invalid colormap format!",COLORMAP_SIZE_EXCEEDED:"Colormap exceeds maximum size!",COLORMAP_NOT_SET_BEFORE_DRAW:"Colormap not set! Please set colormap before drawing!",DESTROYED_USE:"Radar renderer already destroyed!",DATA_NOT_INIT:"Radar data not initialized!",WEBGL2_NOT_SUPPORTED:"Webgl 2 context not found!",INVALID_DATA_SPECIFICATION:"Data not matching specification!"}),qo=460,es=360;class q2{constructor(e,t,o){Y(this,"layerId");Y(this,"layer",null);Y(this,"map");Y(this,"drawing",!1);Y(this,"radarData");Y(this,"gl");Y(this,"renderContext");Y(this,"mercRender",!1);Y(this,"mercMatrix");Y(this,"vertices",new Float32Array(0));Y(this,"vxb",null);Y(this,"indices",new Uint32Array(0));Y(this,"ixb",null);Y(this,"vxbQuad",null);Y(this,"mercProgram",null);Y(this,"mercShadowProgram",null);Y(this,"rawValuesProgram",null);Y(this,"radarFlatProgram",null);Y(this,"globeProgram",null);Y(this,"valuesTexture",null);Y(this,"colorMap",[]);Y(this,"colorsTexture",null);Y(this,"colorMapSize",0);Y(this,"MAX_COLOR_MAP_SIZE",512*10);Y(this,"opacity",1);Y(this,"shadow_opacity",.9);Y(this,"fmin",-1/0);Y(this,"fmax",1/0);Y(this,"cmin",-1/0);Y(this,"cmax",1/0);Y(this,"dataMin",0);Y(this,"dataMax",0);Y(this,"bbmin",new _s.LngLat(-180,-90));Y(this,"bbmax",new _s.LngLat(-180,-90));Y(this,"dataSize",{x:0,y:0});Y(this,"colorbuf",new Uint8Array(0));Y(this,"pixelmark",[-1,-1]);Y(this,"heightMultiplier",1);Y(this,"renderElevation",!1);Y(this,"smoothingEnabled",!1);Y(this,"morphMask",null);Y(this,"noopPass",null);Y(this,"morphErode",null);Y(this,"morphDilate",null);Y(this,"smoothXOperation",null);Y(this,"smoothYOperation",null);Y(this,"interimTexture",null);Y(this,"maskTexture",null);Y(this,"smoothTexture",null);Y(this,"smoothCurveX",new Float32Array(Nt.SMOOTH_FILTER_X_SIZE*2+1));Y(this,"smoothCurveY",new Float32Array(Nt.SMOOTH_FILTER_Y_SIZE*2+1));Y(this,"smoothX",0);Y(this,"smoothY",0);Y(this,"openingSize",2);Y(this,"closingSize",2);Y(this,"needSmoothing",!1);Y(this,"colorSmoothing",!1);Y(this,"deleteTexture",(e,t)=>(t!==null&&(e.deleteTexture(t),t=null),t));Y(this,"valuesRenderTexture",null);Y(this,"destroyed_",!1);this.map=e;let a=e.getCanvas().getContext("webgl2");if(!a)throw new Error(Q.WEBGL2_NOT_SUPPORTED);this.gl=a,this.mercMatrix=[],this.layerId=t,this.renderContext=new Q2(this.gl),this.layer=null,this.radarData=null,this.reset(),this.createLayer(e,t,o)}createLayer(e,t,o){this.layer={id:t,type:"custom",renderingMode:"3d",onAdd:this.initializeContext.bind(this),prerender:this.prerender.bind(this),renderToTile:this.renderToTile.bind(this),render:this.render.bind(this),onRemove:this.cleanup.bind(this),shouldRerenderTiles:()=>!0},e.addLayer(this.layer,o)}initializeContext(e,t){if(this.mercProgram=ao(this.renderContext,kt.RADAR_MERCATOR),this.mercShadowProgram=ao(this.renderContext,kt.RADAR_SHADOW),this.rawValuesProgram=ao(this.renderContext,kt.RADAR_RAW),this.radarFlatProgram=ao(this.renderContext,kt.RADAR_FLAT),this.globeProgram=ao(this.renderContext,kt.RADAR_GLOBE),this.noopPass=po(this.renderContext,He.NO_OP_PASS),this.morphMask=po(this.renderContext,He.MORPH_MASK_PASS),this.morphErode=po(this.renderContext,He.MORPH_ERODE_PASS),this.morphDilate=po(this.renderContext,He.MORPH_DILATE_PASS),this.smoothXOperation=po(this.renderContext,He.SMOOTH_FILTER_RADAR_X_PASS),this.smoothYOperation=po(this.renderContext,He.SMOOTH_FILTER_RADAR_Y_PASS),this.vxbQuad=this.renderContext.createStaticBuffer(new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1])),this.vxbQuad===null)throw new Error(Q.BUFFER_FAILED_TO_ALLOCATE);this.initSmoothing()}initSmoothing(){const e=Nt.SMOOTH_FILTER_X_SIZE*2+1;for(let o=0;o<e;++o){let a=(o-Nt.SMOOTH_FILTER_X_SIZE)/(Nt.SMOOTH_FILTER_X_SIZE+1)*Math.PI;this.smoothCurveX[o]=(Math.cos(a)*.5+.5)/(Nt.SMOOTH_FILTER_X_SIZE+1)}const t=Nt.SMOOTH_FILTER_Y_SIZE*2+1;for(let o=0;o<t;++o){let a=(o-Nt.SMOOTH_FILTER_Y_SIZE)/(Nt.SMOOTH_FILTER_Y_SIZE+1)*Math.PI;this.smoothCurveY[o]=(Math.cos(a)*.5+.5)/(Nt.SMOOTH_FILTER_Y_SIZE+1)}}smoothPass(e,t,o,a,r){if(!(!e||!t)){if(this.smoothXOperation===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.smoothYOperation===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.interimTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);this.renderContext.setTexture(e,0),this.renderContext.renderShaderPass(this.smoothXOperation,this.interimTexture,a,r,{texSource:{type:this.gl.SAMPLER_2D,value:0},scale:{type:this.gl.FLOAT_VEC2,value:o},smoothCurve:{type:this.gl.FLOAT,value:this.smoothCurveX}}),this.renderContext.setTexture(this.interimTexture,0),this.renderContext.renderShaderPass(this.smoothYOperation,t,a,r,{texSource:{type:this.gl.SAMPLER_2D,value:0},scale:{type:this.gl.FLOAT_VEC2,value:o},smoothCurve:{type:this.gl.FLOAT,value:this.smoothCurveY}})}}morphPass(e,t,o,a,r,n){if(!(!e||!t)){if(this.noopPass===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.morphMask===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.morphErode===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.morphDilate===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.interimTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);this.renderContext.setTexture(e,0),this.renderContext.renderShaderPass(this.morphMask,this.interimTexture,r,n,{texSource:{type:this.gl.SAMPLER_2D,value:0}}),this.renderContext.setTexture(this.interimTexture,0),this.renderContext.renderShaderPass(this.morphErode,t,r,n,{u_radius:{type:this.gl.FLOAT,value:o},texSource:{type:this.gl.SAMPLER_2D,value:0},u_texelSize:{type:this.gl.FLOAT_VEC2,value:[1/this.dataSize.x,1/this.dataSize.y]}}),this.renderContext.setTexture(t,0),this.renderContext.renderShaderPass(this.morphDilate,this.interimTexture,r,n,{u_radius:{type:this.gl.FLOAT,value:o},texSource:{type:this.gl.SAMPLER_2D,value:0},u_texelSize:{type:this.gl.FLOAT_VEC2,value:[1/this.dataSize.x,1/this.dataSize.y]}}),this.renderContext.setTexture(this.interimTexture,0),this.renderContext.renderShaderPass(this.morphDilate,t,r,n,{u_radius:{type:this.gl.FLOAT,value:a},texSource:{type:this.gl.SAMPLER_2D,value:0},u_texelSize:{type:this.gl.FLOAT_VEC2,value:[1/this.dataSize.x,1/this.dataSize.y]}}),this.renderContext.setTexture(t,0),this.renderContext.renderShaderPass(this.morphErode,this.interimTexture,r,n,{u_radius:{type:this.gl.FLOAT,value:a},texSource:{type:this.gl.SAMPLER_2D,value:0},u_texelSize:{type:this.gl.FLOAT_VEC2,value:[1/this.dataSize.x,1/this.dataSize.y]}}),this.renderContext.setTexture(this.interimTexture,0),this.renderContext.renderShaderPass(this.noopPass,t,r,n,{texSource:{type:this.gl.SAMPLER_2D,value:0}})}}prerender(e){if(!this.drawing||!this.needSmoothing)return;let t=this.dataSize.x,o=this.dataSize.y,a=[this.smoothX/this.dataSize.x,this.smoothY/this.dataSize.y];e.disable(e.BLEND),this.smoothPass(this.valuesTexture,this.smoothTexture,a,t,o),this.morphPass(this.valuesTexture,this.maskTexture,this.openingSize,this.closingSize,t,o),this.smoothPass(this.maskTexture,this.maskTexture,a,t,o),e.enable(e.BLEND),this.needSmoothing=!1}renderValuesDirect(e,t){if(e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.radarFlatProgram===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.renderContext.setProgram(this.radarFlatProgram,{a_pos:{type:this.gl.FLOAT,count:2,location:void 0,offset:void 0},a_uv:{type:this.gl.FLOAT,count:2,location:void 0,offset:void 0}},void 0,void 0),this.vxbQuad===null)throw new Error(Q.BUFFER_NOT_INIT);if(this.renderContext.setBuffer(this.vxbQuad),this.colorsTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.colorsTexture,0),this.valuesTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.valuesTexture,1),this.smoothTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.smoothTexture,2),this.maskTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);this.renderContext.setTexture(this.maskTexture,3),this.renderContext.setUniforms(this.radarFlatProgram,{minimum:{type:e.FLOAT,value:this.cmin},maximum:{type:e.FLOAT,value:this.cmax},u_filter:{type:e.FLOAT_VEC2,value:[this.fmin,this.fmax]},u_colorsTex:{type:e.SAMPLER_2D,value:0},u_valuesTex:{type:e.SAMPLER_2D,value:1},opacity:{type:e.FLOAT,value:this.opacity},u_dataRange:{type:e.FLOAT_VEC2,value:[this.dataMin,this.dataMax]},u_dataSize:{type:e.FLOAT_VEC2,value:[this.dataSize.x,this.dataSize.y]},u_smoothing:{type:e.FLOAT,value:this.smoothingEnabled?1:0},u_smoothValuesTex:{type:e.SAMPLER_2D,value:2},u_maskTex:{type:e.SAMPLER_2D,value:3},u_rawRender:{type:e.FLOAT,value:t?1:0}}),e.disable(e.BLEND),e.drawArrays(e.TRIANGLE_FAN,0,4)}renderToTile(e,t){if(this.mercRender=!1,!!this.drawing){if(this.radarData===null)throw new Error(Q.DATA_NOT_INIT);if(this.globeProgram===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.renderContext.setProgram(this.globeProgram,{a_pos:{type:this.gl.FLOAT,count:2,location:void 0,offset:void 0},a_uv:{type:this.gl.FLOAT,count:2,location:void 0,offset:void 0}},void 0,void 0),this.vxbQuad===null)throw new Error(Q.BUFFER_NOT_INIT);if(this.renderContext.setBuffer(this.vxbQuad),Bs(this.bbmin.lng,this.bbmin.lat,t.z),Bs(this.bbmax.lng,this.bbmax.lat,t.z),Bs(this.radarData.location[0],this.radarData.location[1],t.z),this.renderContext.setUniforms(this.globeProgram,{u_tile:{type:e.FLOAT_VEC3,value:[t.x,t.y,t.z]},u_location:{type:e.FLOAT_VEC2,value:[this.radarData.location[0],this.radarData.location[1]]},u_gateSize:{type:e.FLOAT,value:this.radarData.meters_between_gates},u_gateStart:{type:e.FLOAT,value:this.radarData.meters_to_center_of_first_gate},u_dataSize:{type:e.FLOAT_VEC2,value:[this.dataSize.x,this.dataSize.y]},minimum:{type:e.FLOAT,value:this.cmin},maximum:{type:e.FLOAT,value:this.cmax},u_filter:{type:e.FLOAT_VEC2,value:[this.fmin,this.fmax]},u_colorsTex:{type:e.SAMPLER_2D,value:0},u_valuesTex:{type:e.SAMPLER_2D,value:1},opacity:{type:e.FLOAT,value:this.opacity},u_dataRange:{type:e.FLOAT_VEC2,value:[this.dataMin,this.dataMax]},u_smoothing:{type:e.FLOAT,value:this.smoothingEnabled?1:0},u_smoothValuesTex:{type:e.SAMPLER_2D,value:2},u_maskTex:{type:e.SAMPLER_2D,value:3}}),this.colorsTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.colorsTexture,0),this.valuesTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.valuesTexture,1),this.smoothTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.smoothTexture,2),this.maskTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);this.renderContext.setTexture(this.maskTexture,3),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.drawArrays(e.TRIANGLE_FAN,0,4)}}setColorSmoothing(e){if(this.colorSmoothing=e,!this.colorsTexture)throw new Error(Q.TEXTURE_NOT_INIT);this.colorSmoothing?(this.renderContext.setTexture(this.colorsTexture,0),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR)):(this.renderContext.setTexture(this.colorsTexture,0),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST)),this.needSmoothing=!0}setSmoothingEnabled(e){this.smoothingEnabled=e,this.needSmoothing=!0}isSmoothingEnabled(){return this.smoothingEnabled}setSmoothDegree(e,t){this.smoothX=e,this.smoothY=t,this.needSmoothing=!0}getSmoothDegree(){return[this.smoothX,this.smoothY]}renderShadows(e,t){if(this.drawing){if(this.radarData===null)throw new Error(Q.DATA_NOT_INIT);if(this.mercShadowProgram===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.renderContext.setProgram(this.mercShadowProgram,{a_pos:{type:this.gl.FLOAT,count:4,location:void 0,offset:void 0}},void 0,void 0),this.vxb===null)throw new Error(Q.BUFFER_NOT_INIT);if(this.renderContext.setBuffer(this.vxb),this.valuesTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.valuesTexture,1),this.renderContext.setUniforms(this.mercShadowProgram,{u_matrix:{type:e.FLOAT_MAT4,value:t},u_filter:{type:e.FLOAT_VEC2,value:[this.fmin,this.fmax]},u_valuesTex:{type:e.SAMPLER_2D,value:1},opacity:{type:e.FLOAT,value:this.shadow_opacity},u_dataRange:{type:e.FLOAT_VEC2,value:[this.dataMin,this.dataMax]},u_dataSize:{type:e.FLOAT_VEC2,value:[this.dataSize.x,this.dataSize.y]},u_radarCenter:{type:e.FLOAT_VEC2,value:[this.radarData.location[0],this.radarData.location[1]]},u_radarRes:{type:e.FLOAT_VEC2,value:[qo,es]},u_smoothing:{type:e.FLOAT,value:this.smoothingEnabled?1:0},u_smoothValuesTex:{type:e.SAMPLER_2D,value:2},u_maskTex:{type:e.SAMPLER_2D,value:3},u_elevation:{type:e.FLOAT,value:this.radarData.elevation},u_heightMul:{type:e.FLOAT,value:0}}),e.frontFace(e.CW),e.enable(e.CULL_FACE),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),this.ixb===null)throw new Error(Q.BUFFER_NOT_INIT);this.renderContext.setIndices(this.ixb),e.drawElements(e.TRIANGLES,this.indices.length,e.UNSIGNED_INT,0),e.frontFace(e.CCW),e.disable(e.CULL_FACE)}}render(e,t){if(this.mercRender=!0,this.mercMatrix=t,!!this.drawing){if(this.radarData===null)throw new Error(Q.DATA_NOT_INIT);if(this.renderElevation&&this.renderShadows(e,t),this.mercProgram===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.renderContext.setProgram(this.mercProgram,{a_pos:{type:this.gl.FLOAT,count:4,location:void 0,offset:void 0}},void 0,void 0),this.vxb===null)throw new Error(Q.BUFFER_NOT_INIT);if(this.renderContext.setBuffer(this.vxb),this.colorsTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.colorsTexture,0),this.valuesTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.valuesTexture,1),this.smoothTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.smoothTexture,2),this.maskTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.maskTexture,3),this.renderContext.setUniforms(this.mercProgram,{u_matrix:{type:e.FLOAT_MAT4,value:t},minimum:{type:e.FLOAT,value:this.cmin},maximum:{type:e.FLOAT,value:this.cmax},u_filter:{type:e.FLOAT_VEC2,value:[this.fmin,this.fmax]},u_colorsTex:{type:e.SAMPLER_2D,value:0},u_valuesTex:{type:e.SAMPLER_2D,value:1},opacity:{type:e.FLOAT,value:this.opacity},u_dataRange:{type:e.FLOAT_VEC2,value:[this.dataMin,this.dataMax]},u_dataSize:{type:e.FLOAT_VEC2,value:[this.dataSize.x,this.dataSize.y]},u_radarCenter:{type:e.FLOAT_VEC2,value:[this.radarData.location[0],this.radarData.location[1]]},u_radarRes:{type:e.FLOAT_VEC2,value:[qo,es]},u_smoothing:{type:e.FLOAT,value:this.smoothingEnabled?1:0},u_smoothValuesTex:{type:e.SAMPLER_2D,value:2},u_maskTex:{type:e.SAMPLER_2D,value:3},u_elevation:{type:e.FLOAT,value:this.renderElevation?Math.max(.5,this.radarData.elevation):0},u_heightMul:{type:e.FLOAT,value:this.renderElevation?this.heightMultiplier*this.getZoomInterpolation():0}}),e.frontFace(e.CW),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.enable(e.BLEND),this.ixb===null)throw new Error(Q.BUFFER_NOT_INIT);this.renderContext.setIndices(this.ixb),e.drawElements(e.TRIANGLES,this.indices.length,e.UNSIGNED_INT,0),e.frontFace(e.CCW),e.disable(e.CULL_FACE)}}deleteBuffer(e,t){return t&&(e.deleteBuffer(t),t=null),t}cleanup(e,t){this.drawing=!1;const o=(a,r)=>(r&&(a.deleteProgram(r),r=null),r);this.vertices=new Float32Array(0),this.indices=new Uint32Array(0),this.vxb=this.deleteBuffer(t,this.vxb),this.ixb=this.deleteBuffer(t,this.ixb),this.vxbQuad=this.deleteBuffer(t,this.vxbQuad),this.mercProgram=o(t,this.mercProgram),this.globeProgram=o(t,this.globeProgram),this.smoothXOperation=o(t,this.smoothXOperation),this.smoothYOperation=o(t,this.smoothYOperation),this.morphMask=o(t,this.morphMask),this.cleanupValuesTextures(t),this.valuesRenderTexture=this.deleteTexture(t,this.valuesRenderTexture),this.colorsTexture=this.deleteTexture(t,this.colorsTexture)}cleanupValuesTextures(e){this.valuesTexture=this.deleteTexture(e,this.valuesTexture),this.maskTexture=this.deleteTexture(e,this.maskTexture),this.smoothTexture=this.deleteTexture(e,this.smoothTexture),this.interimTexture=this.deleteTexture(e,this.interimTexture)}clearData(){const e=this.gl,t=this.dataSize.x,o=this.dataSize.y;this.colorbuf.fill(0),this.vxb=this.deleteBuffer(e,this.vxb),this.ixb=this.deleteBuffer(e,this.ixb),this.radarData=null,this.valuesTexture==null&&(this.valuesTexture=this.renderContext.createTextureSize(t,o,e.CLAMP_TO_EDGE,e.NEAREST)),e.bindTexture(e.TEXTURE_2D,this.valuesTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,o,0,e.RGBA,e.UNSIGNED_BYTE,this.colorbuf),this.needSmoothing=!0}allocateIndices(e,t,o){if(this.radarData===null)return;const r=new Uint32Array(e*t*6);let n=0,l=0,d=0;for(d=0;d<e-1;++d){for(l=0;l<t-1;l++)r[n++]=d*t+l,r[n++]=d*t+l+t,r[n++]=d*t+l+t+1;for(r[n++]=d*t+l,r[n++]=d*t+l+t,r[n++]=o+d+1,l=0;l<t-1;l++)r[n++]=d*t+l,r[n++]=d*t+l+t+1,r[n++]=d*t+l+1;r[n++]=d*t+l,r[n++]=o+d+1,r[n++]=o+d}if(this.indices=r,this.ixb=this.renderContext.createIndexBuffer_UInt(this.indices),this.ixb===null)throw new Error(Q.BUFFER_FAILED_TO_ALLOCATE)}setupData(e){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);if(!e)throw new Error(Q.INVALID_DATA_SPECIFICATION);if(!e.dims)throw new Error(Q.INVALID_DATA_SPECIFICATION);const t=qo,o=es,a=t*o,r=e.dims[1]/(t-1),n=0,l=360/o;let d=0,m,h,f,y,N;const w=e.location[0]*Math.PI/180,S=e.location[1]*Math.PI/180,v=Math.sin(S),A=Math.cos(S),B=new _s.LngLatBounds([e.bbox[0],e.bbox[1]],[e.bbox[2],e.bbox[3]]),I=new Float32Array(t*o*4+t*4);let R=0;for(y=0;y<t;++y){h=e.meters_to_center_of_first_gate+e.meters_between_gates*y*r;const k=h/63710088e-1,F=Math.cos(k),E=Math.sin(k);for(N=0;N<o;++N){m=n+Fa(d);const K=m*Math.PI/180,U=Math.asin(v*F+A*E*Math.cos(K)),J=(w+Math.atan2(Math.sin(K)*E*A,F-v*Math.sin(U)))*180/Math.PI,$=U*180/Math.PI;I[R++]=J,I[R++]=$,I[R++]=y,I[R++]=N,d+=l}}for(y=0;y<t;++y)m=n+Fa(n),f=Gt(e.location,e.meters_to_center_of_first_gate+e.meters_between_gates*y*r,m,{units:"meters"}),I[R++]=f.geometry.coordinates[0],I[R++]=f.geometry.coordinates[1],I[R++]=y,I[R++]=o;const M=B._sw,D=B._ne;if(this.bbmin=M,this.bbmax=D,this.vertices=I,this.gl.useProgram(this.mercProgram),this.vxb=this.renderContext.createStaticBuffer(this.vertices),this.vxb===null)throw new Error(Q.BUFFER_FAILED_TO_ALLOCATE);this.allocateIndices(t,o,a),this.dataSize={x:e.dims[1],y:e.dims[0]},this.colorbuf=new Uint8Array(this.dataSize.x*this.dataSize.y*4),this.valuesTexture!==null&&(this.gl.deleteTexture(this.valuesTexture),this.valuesTexture=null),this.updateData(e)}updateData(e){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);const t=this.gl;if(!e.dims)throw new Error(Q.INVALID_DATA_SPECIFICATION);let o=e.dims[1],a=e.dims[0];if(o==0||a==0)throw new Error(Q.EMPTY_DATA_ARRAY);if(o!=this.dataSize.x||a!=this.dataSize.y)throw new Error(Q.INVALID_DATA_SIZE);this.dataMax=e.range.max,this.dataMin=e.range.min,this.colorbuf.fill(0);const n=(1<<e.precision-1)-1,l=this.dataSize.x*this.dataSize.y*4;let d=0,m=e.data.length,h=0,f=0,y=0,N=this.dataSize.x*4*Math.round(this.dataSize.y/360*e.azimuth_start);for(;d<m;){if(h=e.data[d],h>n){y=h-n,++d,N+=y*4;continue}h>0?(f=(h<<1)-1,N+=2,this.colorbuf[N++%l]=255&f>>8,this.colorbuf[N++%l]=255&f):N+=4,++d}this.valuesTexture==null&&(this.valuesTexture=this.renderContext.createTextureSize(o,a,t.REPEAT,t.NEAREST),this.interimTexture=this.renderContext.recreateTexture(this.interimTexture,o,a,t.REPEAT,t.NEAREST),this.maskTexture=this.renderContext.recreateTexture(this.maskTexture,o,a,t.REPEAT,t.LINEAR),this.smoothTexture=this.renderContext.recreateTexture(this.smoothTexture,o,a,t.REPEAT,t.NEAREST)),t.bindTexture(t.TEXTURE_2D,this.valuesTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,o,a,0,t.RGBA,t.UNSIGNED_BYTE,this.colorbuf),this.needSmoothing=!0}setColorMapDirect(e){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);const{gl:t}=this;if(e.length>this.MAX_COLOR_MAP_SIZE)throw new Error(Q.COLORMAP_SIZE_EXCEEDED);this.colorsTexture==null&&(this.colorsTexture=this.renderContext.createTextureSize(this.MAX_COLOR_MAP_SIZE,1,t.CLAMP_TO_EDGE,t.NEAREST)),this.colorMapSize=e.length,t.bindTexture(t.TEXTURE_2D,this.colorsTexture);const o=new Uint8Array(e.length*4);o.fill(0);let a=0;for(let r=0;r<e.length;r++){if(e[r].length<3){console.warn("Invalid color value in colormap!"),a+=4;continue}o[a++]=e[r][0],o[a++]=e[r][1],o[a++]=e[r][2],o[a++]=e[r][3]===void 0?255:e[r][3]}t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.length,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,o),this.colorMap=e}setColormap(e){const t=r=>Array.isArray(r)&&r.every(n=>typeof n=="string"),o=r=>Array.isArray(r)&&r.every(n=>Array.isArray(n)&&n.every(l=>typeof l=="number"))&&r.length>0&&r[0].length>=3,a=r=>{if(r.length===0)return[];if(r[0].length!==7&&r[0].length!==9)throw new Error("Invalid colormap format");return r.map(n=>[parseInt(n.slice(1,3),16),parseInt(n.slice(3,5),16),parseInt(n.slice(5,7),16),n.length===9?parseInt(n.slice(7,9),16):255])};if(t(e.colors)){const r=a(e.colors);this.setColorMapDirect(r)}else if(o(e.colors))this.setColorMapDirect(e.colors);else throw new Error(Q.INVALID_COLORMAP_FORMAT);(e.min!==this.cmin||e.max!==this.cmax)&&this.setMinMax(e.min,e.max)}setMinMax(e,t){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);this.cmin=e,this.cmax=t}setFilter(e,t){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);this.fmin=e,this.fmax=t}setOpacity(e){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);this.opacity=e}setHeightMultiplier(e){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);this.heightMultiplier=e}draw(e){var a,r;if(this.destroyed_)throw new Error(Q.DESTROYED_USE);if(this.colorMapSize==0||this.colorsTexture==null)throw new Error(Q.COLORMAP_NOT_SET_BEFORE_DRAW);if(e.dims===void 0&&e.polar!==void 0){e.precision=16;const l=(1<<e.precision-1)-1;e.dims=[e.polar.length,e.polar[0].length],e.range={min:e.stats.min,max:e.stats.max},e.data=new Uint16Array(e.dims[0]*e.dims[1]),e.data.fill(0);let d=0,m=0;for(let h=0;h<e.polar.length;++h)for(let f=0;f<e.polar[h].length;++f)m=e.polar[h][f],m!==e.fill_value&&(e.data[d]=Math.min(1,m/(e.range.max-e.range.min))*l),d+=1}if(!e.dims)throw new Error(Q.INVALID_DATA_SPECIFICATION);let t=e.dims[0]>0?e.dims[1]:0,o=e.dims[0];if(t==0||o==0)throw new Error(Q.EMPTY_DATA_ARRAY);if(t!=this.dataSize.x||o!=this.dataSize.y||((a=this.radarData)==null?void 0:a.location[0])!==e.location[0]||((r=this.radarData)==null?void 0:r.location[1])!==e.location[1])this.radarData=e,this.valuesTexture&&this.cleanupValuesTextures(this.gl),this.setupData(e);else{if(this.radarData===null)throw new Error(Q.DATA_NOT_INIT);this.radarData=e,this.updateData(e)}this.drawing=!0,this.map.triggerRepaint()}getZoomInterpolation(){let e=0;this.map.getProjection().name==="mercator"?e=Math.max(0,Math.min(2,this.map.getZoom()-4))/2:this.map.getProjection().name==="globe"&&(e=Math.max(0,Math.min(1.1,this.map.getZoom()-6))/1.1);const t=0,a=75-t;return Math.max(0,(this.map.getPitch()-t)/a)*e}renderRawValues(e,t){if(this.drawing){if(this.radarData===null)throw new Error(Q.DATA_NOT_INIT);if(this.rawValuesProgram===null)throw new Error(Q.PROGRAM_NOT_INIT);if(this.renderContext.setProgram(this.rawValuesProgram,{a_pos:{type:this.gl.FLOAT,count:4,location:void 0,offset:void 0}},void 0,void 0),this.vxb===null)throw new Error(Q.BUFFER_NOT_INIT);if(this.renderContext.setBuffer(this.vxb),this.colorsTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.colorsTexture,0),this.valuesTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.valuesTexture,1),this.smoothTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.smoothTexture,2),this.maskTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);if(this.renderContext.setTexture(this.maskTexture,3),this.renderContext.setUniforms(this.rawValuesProgram,{u_matrix:{type:e.FLOAT_MAT4,value:t},u_filter:{type:e.FLOAT_VEC2,value:[this.fmin,this.fmax]},u_valuesTex:{type:e.SAMPLER_2D,value:1},opacity:{type:e.FLOAT,value:this.opacity},u_dataRange:{type:e.FLOAT_VEC2,value:[this.dataMin,this.dataMax]},u_dataSize:{type:e.FLOAT_VEC2,value:[this.dataSize.x,this.dataSize.y]},u_radarCenter:{type:e.FLOAT_VEC2,value:this.radarData.location},u_radarRes:{type:e.FLOAT_VEC2,value:[qo,es]},u_smoothing:{type:e.FLOAT,value:this.smoothingEnabled?1:0},u_smoothValuesTex:{type:e.SAMPLER_2D,value:2},u_maskTex:{type:e.SAMPLER_2D,value:3},u_elevation:{type:e.FLOAT,value:this.renderElevation?this.radarData.elevation:0},u_heightMul:{type:e.FLOAT,value:this.renderElevation?this.heightMultiplier*this.getZoomInterpolation():0}}),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND),this.ixb===null)throw new Error(Q.BUFFER_NOT_INIT);this.renderContext.setIndices(this.ixb),e.drawElements(e.TRIANGLES,this.indices.length,e.UNSIGNED_INT,0)}}getValueAtGlobe(e){if(!this.radarData)return null;if(this.valuesRenderTexture===null)throw new Error(Q.TEXTURE_NOT_INIT);this.gl.viewport(0,0,this.dataSize.x,this.dataSize.y);const t=[e.lng,e.lat],o=this.radarData.meters_to_center_of_first_gate+this.radarData.meters_between_gates*this.dataSize.x;let a=Ko(t,this.radarData.location,{units:"meters"}),r=Di(Sr(this.radarData.location,t));if(a/=o,r/=360,a<0||a>1||r<0||r>1)return null;const n=Math.floor(a*this.dataSize.x),l=Math.floor(r*this.dataSize.y);this.pixelmark=[n,l],this.renderValuesDirect(this.gl,!0);let d=this.renderContext.getPixelExact(n,l);if(!d||d[0]==0&&d[1]==0&&d[2]==0&&d[3]==0)return null;let m=d[3]+d[2]*256,h=this.dataMin+m/65534*(this.dataMax-this.dataMin);h=parseFloat(h.toFixed(2)),this.renderValuesDirect(this.gl,!1);let f=this.renderContext.getPixelExact(n,l);if(!f||f[3]==0)return null;let N=f===null?"NULL":((w,S,v)=>{w=Math.max(0,Math.min(255,w)),S=Math.max(0,Math.min(255,S)),v=Math.max(0,Math.min(255,v));function A(B){const I=B.toString(16);return I.length===1?"0"+I:I}return`#${A(w)}${A(S)}${A(v)}`})(f[0],f[1],f[2]);return{value:h,rgbaColor:f,hexColor:N}}getValueAtMercator(e){var h,f;this.renderRawValues(this.gl,this.mercMatrix);let t=this.map.project(e),o=(h=this.renderContext)==null?void 0:h.getPixel(t.x*window.devicePixelRatio,t.y*window.devicePixelRatio);if(!o||o[0]==0&&o[1]==0&&o[2]==0&&o[3]==0)return null;let a=o[3]+o[2]*256,r=this.dataMin+a/65534*(this.dataMax-this.dataMin);r=parseFloat(r.toFixed(2)),this.render(this.gl,this.mercMatrix);let n=(f=this.renderContext)==null?void 0:f.getPixel(t.x*window.devicePixelRatio,t.y*window.devicePixelRatio);if(!n||n[3]==0)return null;let l=n,m=l===null?"NULL":((y,N,w)=>{y=Math.max(0,Math.min(255,y)),N=Math.max(0,Math.min(255,N)),w=Math.max(0,Math.min(255,w));function S(v){const A=v.toString(16);return A.length===1?"0"+A:A}return`#${S(y)}${S(N)}${S(w)}`})(l[0],l[1],l[2]);return{value:r,rgbaColor:l,hexColor:m}}getValueAt(e){if(this.valuesRenderTexture===null&&(this.valuesRenderTexture=this.renderContext.createTextureSize(this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,this.gl.REPEAT,this.gl.NEAREST)),!this.valuesRenderTexture)throw new Error(Q.TEXTURE_NOT_INIT);this.renderContext.setTarget(this.valuesRenderTexture,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight);const t=()=>{this.renderContext.clearTarget()};if(!this.drawing)return t(),null;if(this.mercRender){const o=this.getValueAtMercator(e);return t(),o}else{const o=this.getValueAtGlobe(e);return t(),o}}getData(){return this.radarData}setRender3D(e){this.renderElevation=e}clear(){if(this.destroyed_)throw new Error(Q.DESTROYED_USE);this.clearData(),this.drawing=!1,this.map.triggerRepaint()}reset(){this.opacity=1,this.fmin=-1/0,this.fmax=1/0}destroy(){this.reset(),this.map.removeLayer(this.layerId),this.destroyed_=!0}}const ew={name:"RadarProductHelp",props:["text"],emits:["close"]},tw=["innerHTML"];function ow(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.text.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,tw)}const Yr=G(ew,[["render",ow]]),sw=1,eo=68,aw=0;class Lo{constructor(e){this.buffer=e}isBinary(){if(this.buffer.byteLength>=eo){const e=new Uint8Array(this.buffer,0,4);if(e[0]===87&&e[1]===73&&e[2]===83&&e[3]===69)return!0}return!1}header(){const e=new DataView(this.buffer);let t=0;function o(I){let R=[];for(let M=0;M<I;M++)R.push(String.fromCharCode(e.getUint8(t++)));return R.join("")}function a(){const I=e.getUint8(t);return t+=1,I}function r(){const I=e.getUint32(t,!1);return t+=4,I}function n(){const I=e.getFloat32(t,!1);return t+=4,I}const l=o(4),d=a();if(d!==sw)throw new Error(`Unsupported WISE bin. format version: ${d}`);const m=a(),h=a();a();const f=r(),y=r(),N=a();a();const w=n(),S=n(),v=r(),A=r(),B=r();for(let I=0;I<7;++I)r();for(let I=0;I<2;++I)a();return{magic:l,version:d,flags:m,header_length:eo,header_data_type:h,header_data_length:f,payload_length:y,payload_bits:N,payload_range_min:w,payload_range_max:S,dim_x:v,dim_y:A,dim_z:B}}headerData(e){const t=new DataView(this.buffer);if(e.header_data_type===aw){const o=new Uint8Array(t.buffer,eo,e.header_data_length),r=new TextDecoder("utf-8").decode(o).trim(),n=JSON.parse(r);return n.dims=[e.dim_x,e.dim_y,e.dim_z],n.range={min:e.payload_range_min,max:e.payload_range_max},n.precision=e.payload_bits,n}throw new Error(`Unsupported WISE bin. format header data type: ${e.header_data_type}`)}unpack(e=!0){const t=this.header(),o=this.headerData(t);if(!(t.payload_bits===8||t.payload_bits===16||t.payload_bits===32))throw new Error(`Unsupported WISE bin. format precision: ${t.payload_bits}`);if(e){const a=eo+t.header_data_length+t.payload_length;if(this.buffer.byteLength!==a)throw new Error(`Error with sizes. Buffer is: ${this.buffer.byteLength}. Sizes total: ${a}`);switch(t.payload_bits){case 8:o.data=new Uint8Array(this.buffer,eo+t.header_data_length,t.payload_length);break;case 16:o.data=new Uint16Array(this.buffer,eo+t.header_data_length,t.payload_length/2);break;case 32:o.data=new Uint32Array(this.buffer,eo+t.header_data_length,t.payload_length/4);break}}else switch(t.payload_bits){case 8:o.data=new Uint8Array(t.payload_length);break;case 16:o.data=new Uint16Array(t.payload_length/2);break;case 32:o.data=new Uint32Array(t.payload_length/4);break}return o}json(){const e=new TextDecoder("utf-8");try{const t=e.decode(this.buffer);return JSON.parse(t)}catch(t){throw console.error("Failed to parse JSON from ArrayBuffer:",t),t}}static streamIsSupported(){return window.ReadableStream!==void 0}static async stream(e,t){let o=!1,a,r,n=0,l=new Uint8Array(0);for(;;){const{done:d,value:m}=await e.read();if(d)break;let h=!1;if(!o){if(l.length<700){const w=new Uint8Array(l.length+m.length);if(w.set(l,0),w.set(m,l.length),l=w,l.length<700)continue}const N=new Lo(l.buffer);if(N.isBinary())a=N.header(),r=N.unpack(!1);else throw new Error("Streaming non-binary data is not supported");r.data.fill(0),l=l.subarray(a.header_length+a.header_data_length),o=!0,h=!0}let f;h?f=l:(f=new Uint8Array(l.length+m.length),f.set(l,0),f.set(m,l.length));let y=0;for(;y+1<f.length;){const N=f[y],w=f[y+1];r.data[++n]=w<<8|N,y+=2}l=f.subarray(y),t(r)}return r}}const ot=ve("radar_towers",{state:()=>({towers:[],playbackIdx:0,playbackHandle:null,isPlaying:!1,isPlaybackBuffering:!1,hasBufferedScans:!1,inspectorActive:!1}),getters:{anyActive:i=>i.towers.length>0,activeTower:i=>i.towers[0]},actions:{clear(){this.towers=[]},setPlaybackHandle(i){this.playbackHandle=i},clearPlaybackHandle(){this.playbackHandle=null},stopPlayback(){this.playbackHandle!==null&&(clearTimeout(this.playbackHandle),this.clearPlaybackHandle()),this.isPlaying=!1}}}),ts="0",Qa="",rw=i=>{const e={state:()=>({towers:[],activeTowerId:ts,activeProductCode:Qa,availableProducts:[],availablePolarProducts:[],activeColorMap:null,scanDatetime:null,scanVcp:null}),getters:{anyActive:o=>o.towers.length>0,activeTower:o=>o.towers[0],scanLocalTime:o=>j.utc(ge(o.scanDatetime)).local().format("HH:mm:ss"),scanLocalDatetime:o=>j.utc(ge(o.scanDatetime)).local().format("YYYY-MM-DD HH:mm:ss"),scanIsOld:o=>j.utc(ge(o.scanDatetime)).isBefore(j().utc().subtract(1,"hours")),scanIsNew:o=>j.utc(ge(o.scanDatetime)).isAfter(j.utc().subtract(10,"minutes")),productName:o=>Un[o.activeProductCode]??null,towerProducts:o=>Ht.map(a=>({...a,tilts:a.tilts.filter(r=>o.availablePolarProducts.includes(r.product))})),activeProductGroup(o){return this.towerProducts.find(r=>r.tilts.some(n=>n.product===o.activeProductCode))??null},activeProductGroupUnit(o){var a;return(a=o.activeProductGroup)!=null&&a.unit?o.activeProductGroup.unit:""},activeColorTable(o){var a;return(a=o.activeColorMap)==null?void 0:a.colors}},actions:{setActiveTower(o,a){const r=o.properties.products,n={};Hn.forEach(d=>n[d]=1);const l={towers:[o],activeTowerId:o.properties.id,activeProductCode:a,availableProducts:r,availablePolarProducts:r.filter(d=>n[d]!==void 0)};this.$patch(l)},setScanDatetime(o){this.scanDatetime=o},clearScanDatetime(){this.setScanDatetime(null)},setScanVcp(o){o!==null&&o<1&&(o=null),this.scanVcp=o},clearScanVcp(){this.setScanVcp(null)},setColorMap(o){this.activeColorMap=o},clearColorMap(){this.setColorMap()},clear(){this.towers=[],this.activeTowerId=ts,this.activeColorMap=null,this.availableProducts=[],this.availablePolarProducts=[],this.scanDatetime=null}},persist:{storage:{getItem:o=>{const a=new Ne,r=a.has("rt")?a.get("rt"):ts,n=a.has("rp")?a.get("rp"):Qa,l=jr.features.find(m=>m.properties.id===r);if(l===void 0||!l.properties.products.includes(n))return;t().$patch({activeTowerId:r,activeProductCode:n})},setItem:(o,a)=>{if(i!==0)return;const r=t(),n=new Ne;r.activeTowerId===ts?(n.delete("rt"),n.delete("rp")):(n.set("rt",r.activeTowerId),n.set("rp",r.activeProductCode)),n.save()}}}},t=ve(`map_radar:${i}`,e);return new t},{progress:mo}=Li(1);class iw{constructor(){this.appStore=xe(),this.radarTowersStore=ot(),this.settings=Dt(),this.subscription=we();for(const h in this.settings.colortable_pal_upload)ge(this.settings.colortable_pal_upload[h]).forEach(y=>{try{fe.parse(h,y.id,y.text)}catch(N){console.error(`Failed to parse user radar colortable: ${h} ${y.id}`,y.text,N),ls.error(N,{groupId:h,tableId:y.id,tableText:y.text})}});this.mode=vo,this.sourceId="ww-radar-towers-source",this.dotLayerId="ww-radar-towers-dot-layer",this.pillLayerId="ww-radar-towers-pill-layer",this.radarRendererLayerId="ww-radar-renderer",this.radarRadiusLayerId="ww-radar-radius-layer",this.radarRadiusBorderLayerId="ww-radar-radius-border-layer",this.radarRadiusSourceId="ww-radar-radius-source",this.towerIconLayers=[this.dotLayerId,this.pillLayerId],this.layers=[this.radarRendererLayerId,this.radarRadiusLayerId,this.radarRadiusBorderLayerId],this.towerRadiusDrawId=null,g.addLayer({id:"ww-top-top-radar-layer",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}}),g.addLayer({id:"ww-bottom-top-radar-layer",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}},"ww-top-top-radar-layer"),g.addLayer({id:"ww-top-middle-radar-layer-2",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}},"land-structure-polygon"),g.addLayer({id:"ww-top-middle-radar-layer",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}},"ww-top-middle-radar-layer-2"),g.addLayer({id:"ww-bottom-middle-radar-layer",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}},"ww-top-middle-radar-layer"),this.stormTracks=new L2(this),this.lightning=new R2(this),g.addComponent("radar-renderer",h=>new q2(h,this.radarRendererLayerId,"ww-top-middle-radar-layer")),g.addStore("radar",h=>{const f=rw(h.id);if(h.id>0){const y=g.mapboxMapsFirst().stores.radar;let N=y.activeProductCode;const w=ge(y.activeTower);if(w!==void 0){const S={};g.forEach(I=>{const R=I.stores.radar.activeProductCode;if(R===null||R.length===0)return;const M=this.getGroupForProduct(R);M!==void 0&&(S[M.id]=!0)});let v=this.getGroupsForTower(w),A=v.filter(I=>S[I.id]===void 0)[0];A===void 0&&(A=v[0]),N=A.tilts.find(I=>w.properties.products.includes(I.product)).product}f.$patch({towers:y.towers,activeTowerId:y.activeTowerId,activeProductCode:N,availableProducts:y.availableProducts,availablePolarProducts:y.availablePolarProducts})}return f}),g.onLoad(h=>{if(!this.appStore.isRadarMode||!this.radarTowersStore.anyActive)return;const f=h.stores.radar,y=ge(f.activeTower);this.turnOnRadar(h,y)}),this.bufferedRadarScans={},this.bufferedRadarScansLimit=0,this.radarTowersStore.playbackIdx=0,this.activeSocketRooms=[];const e=g.mapboxMapsFirst().stores.radar,t=JSON.parse(JSON.stringify(jr));t.features=t.features.map(h=>(h.properties.active=e.activeTowerId===h.properties.id,h)),this.towers=t;const o=St({size:21*2,color:"#10234E",border_color:"#FFFFFF",border_size:3});g.addImage("ww-dot-radar-tower-primary",o,{pixelRatio:2});const a=St({size:21*2,color:"#F6BA12",border_color:"#FFFFFF",border_size:3});g.addImage("ww-dot-radar-tower-secondary",a,{pixelRatio:2});const r=St({size:21*2,color:"#018101",border_color:"#FFFFFF",border_size:3});g.addImage("ww-dot-radar-tower-active",r,{pixelRatio:2});const n=Ts({width:96,height:44,color:"#10234E",border_color:"#FFFFFF",border_size:3,corner_radius:20});g.addImage("ww-pill-radar-tower-primary",n,{pixelRatio:2});const l=Ts({width:96,height:44,color:"#F6BA12",border_color:"#FFFFFF",border_size:3,corner_radius:20});g.addImage("ww-pill-radar-tower-secondary",l,{pixelRatio:2});const d=Ts({width:96,height:44,color:"#018101",border_color:"#FFFFFF",border_size:3,corner_radius:20});g.addImage("ww-pill-radar-tower-active",d,{pixelRatio:2}),g.addSource(this.sourceId,{type:"geojson",promoteId:"id",data:this.getFilteredTowers()}),g.addLayer({id:this.dotLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":["case",["==",["get","active"],!0],"ww-dot-radar-tower-active",["==",["get","secondary"],!0],"ww-dot-radar-tower-secondary","ww-dot-radar-tower-primary"],"icon-size":["case",["==",["get","secondary"],!0],.8,1],"icon-padding":1,"symbol-sort-key":["case",["==",["get","active"],!0],0,["==",["get","secondary"],!0],2,1],"icon-pitch-alignment":"map"}},"ww-top-top-radar-layer"),g.addLayer({id:this.pillLayerId,type:"symbol",source:this.sourceId,layout:{visibility:"none","icon-image":["case",["==",["get","active"],!0],"ww-pill-radar-tower-active",["==",["get","secondary"],!0],"ww-pill-radar-tower-secondary","ww-pill-radar-tower-primary"],"icon-size":["case",["==",["get","secondary"],!0],.8,1],"icon-padding":1,"symbol-sort-key":["case",["==",["get","active"],!0],0,["==",["get","secondary"],!0],2,1],"icon-pitch-alignment":"map","text-field":["get","code"],"text-size":["case",["==",["get","secondary"],!0],11,12],"text-font":["Arial Unicode MS Bold"]},paint:{"text-color":"white","text-halo-width":.75,"text-halo-color":"hsl(215, 20%, 25%)","text-halo-blur":.5}},"ww-top-top-radar-layer"),g.addSource(this.radarRadiusSourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.radarRadiusBorderLayerId,type:"line",source:this.radarRadiusSourceId,paint:{"line-color":"#FFFFFF","line-width":["interpolate",["linear"],["zoom"],2,2,6,4,10,6,12,7,14,8],"line-opacity":.9}},"ww-top-top-radar-layer"),g.addLayer({id:this.radarRadiusLayerId,type:"line",source:this.radarRadiusSourceId,paint:{"line-color":"#000000","line-width":["interpolate",["linear"],["zoom"],2,1,6,3,10,5,12,6,14,7],"line-opacity":1}}),g.on("click",[this.dotLayerId,this.pillLayerId],Gr(async h=>{if(h.features.length===0)return;const f=this.towers.features.find(N=>N.properties.id===h.features[0].properties.id);if(f===void 0)return;const y=this.radarTowersStore.inspectorActive;f.properties.active?(this.hideTowersRadius(),this.closeAllRadarTowers()):(this.closeAllRadarTowers(),this.settings.towers_radius_visible&&this.showTowersRadius(),g.forEach(N=>{this.turnOnRadar(N,f)}),y&&(this.radarTowersStore.inspectorActive=!0))}));const m=this.towers.features.find(h=>h.properties.active);if(m!==void 0){const h=g.mapboxMapsFirst().stores.radar;h.setActiveTower(m,h.activeProductCode)}}getRenderer(){return this.renderer}clearPlaybackState(){this.mode=Ce,this.radarTowersStore.stopPlayback(),this.radarTowersStore.playbackIdx=0,this.clearBufferedHistoricalState(),this.lightning.clearBufferedHistoricalState(),C.warnings.clearBufferedHistoricalState(),C.mesoscaleDiscussions.clearBufferedHistoricalState()}closeAllRadarTowers(){this.clearPlaybackState(),this.radarTowersStore.inspectorActive=!1,this.towers.features.forEach(e=>{e.properties.active&&(this.removeRadar(e),e.properties.active=!1)}),g.getSource(this.sourceId).setData(this.getFilteredTowers()),g.getSource(this.radarRadiusSourceId).setData({type:"FeatureCollection",features:[]}),this.towerRadiusDrawId=null}async turnOnRadarAll(e){this.closeAllRadarTowers();const t=g.mapboxMaps().map(a=>this.turnOnRadar(a,e));(await Promise.allSettled(t)).filter(a=>a.status==="rejected").forEach(a=>console.error(a.reason))}async turnOnRadar(e,t,o=null){Fo({title:`${t.properties.code} - ${Po}`});const a=e.stores.radar;if(o===null&&a.activeProductCode.length===0){for(const n of Bo)if(t.properties.products.includes(n)){o=n;break}if(o===null){for(const n of Do)if(t.properties.products.includes(n)){o=n;break}}if(o===null)throw new Error(`Failed to locate a default radar product for: ${t.properties.id}`)}else if(o===null&&a.activeProductCode.length>0){const n=this.getGroupForProduct(a.activeProductCode);if(n===void 0)return console.error(`Failed to locate product group for product: ${o}`);const l=n.tilts.filter(d=>t.properties.products.includes(d.product));if(l.length===0){const d=this.getGroupsForTower(t),m=d.filter(h=>h.id===n.id)[0];m===void 0?o=d[0].tilts[0].product:o=m.tilts.filter(f=>t.properties.products.includes(f.product))[0].product}else o=l[0].product}if(!t.properties.products.includes(o)){const n=this.getGroupForProduct(o);if(n===void 0)return console.error(`Failed to locate product group for product: ${o}`);const l=Ht.filter(d=>d.id===n.id);for(const d of l){const m=d.tilts.find(h=>t.properties.products.includes(h.product));if(m!==void 0){o=m.product;break}}if(!t.properties.products.includes(o)){for(const d of Bo)if(t.properties.products.includes(d)){o=d;break}if(!t.properties.products.includes(o)){for(const d of Do)if(t.properties.products.includes(d)){o=d;break}}}}this.mode=Ce,t.properties.active=!0,g.getSource(this.sourceId).setData(this.getFilteredTowers()),this.radarTowersStore.towers=[t],a.setActiveTower(t,o),a.clearScanDatetime(),a.clearScanVcp();const r=`radar:${t.properties.id}:${o}`;this.activeSocketRooms.push(r),te.roomJoin(r),te.on(r,async n=>{if(console.log("Radar update",r,n,`Mode: ${this.mode}`),this.mode===Ce)await this.loadScanByUrl(t,o,n.url);else if(this.mode===Pt){if(this.bufferedRadarScans[o]===void 0)return!1;try{const l=await this.fetchFileByUrl(n.url);if(this.bufferedRadarScans[o]===void 0)return!1;for(this.bufferedRadarScans[o].push(l);this.bufferedRadarScans[o].length>this.bufferedRadarScansLimit;)this.bufferedRadarScans[o].shift();if(!this.radarTowersStore.isPlaying){const m=g.activeMap().stores.radar.activeTowerId,h=g.mapboxMaps().map(f=>f.stores.radar.activeProductCode);this.playScan(m,h)}}catch(l){console.error("Failed to fetch scan in historical to realtime mode",l)}}}),console.time("Load radar data "+e.id),await this.loadLatestRadarData(e),console.timeEnd("Load radar data "+e.id)}isLightningSupported(e){const t=[-139.8023604410725,-81.5046269257671,-39.0234375,72.8001832];return new Te.LngLatBounds([t[0],t[1]],[t[2],t[3]]).contains(e.geometry.coordinates)}async loadLatestRadarData(e){const t=e.stores.radar.activeTower,o=[],a=e.stores.radar,r=async(l,d,m)=>{const h=d.properties.id,f=await this.determineLatestFile(h,m),y=this.buildUrlForFile(h,m,f);if(Lo.streamIsSupported()&&this.subscription.isAtleast(this.subscription.tiers.PLUS)&&y.endsWith(".wise")){const w=await Se.instance().get(y,{responseType:"stream"}),S=l.stores.radar,v=l.components["radar-renderer"],A=this.getGroupForProduct(m);if(A===void 0)return console.error(`Failed to locate product group for product: ${m}`),null;const B=this.getColortableForGroup(A);if(B===null)return console.error(`Failed to any colortables for group: ${A.id}`),null;this.setupRadarRenderer(v,A,B);const I=w.getReader(),R=await Lo.stream(I,D=>{if(S.activeTowerId!==h||S.activeProductCode!==m){I.cancel();return}S.scanDatetime===null&&S.setScanDatetime(D.datetime),v.draw(D)});this.drawScan(l,R,h,m);const M=S.scanDatetime;S.$patch({scanDatetime:"0000-00-00 00:00:00"}),Mo(()=>{S.$patch({scanDatetime:JSON.parse(JSON.stringify(ge(M)))})});return}const N=await this.fetchFileByUrl(y);this.drawScan(l,N,h,m)};o.push(r(e,a.activeTower,a.activeProductCode)),t.properties.products.includes("NST")&&this.settings.storm_tracks>0&&o.push(this.loadLatestStormTracks(t)),this.isLightningSupported(t)&&this.settings.lightning>0&&o.push(this.lightning.load(t.properties.id)),(await Promise.allSettled(o)).filter(l=>l.status==="rejected").forEach(l=>console.error(l.reason))}async loadLatestRadarDataAll(){const e=g.mapboxMaps().map(o=>this.loadLatestRadarData(o));(await Promise.allSettled(e)).filter(o=>o.status==="rejected").forEach(o=>console.error(o.reason))}async resetAndLoadLatestRadarDataAll(){this.clearPlaybackState(),await this.loadLatestRadarDataAll()}async changeRadarProduct(e,t,o){const a=this.towers.features.find(l=>l.properties.id===t);if(a===void 0)return!1;this.clearPlaybackState();const r=e.stores.radar;let n=!1;if(g.forEach(l=>{if(l.id!==e.id){const d=l.stores.radar;d.activeTowerId===r.activeTowerId&&d.activeProductCode===r.activeProductCode&&(n=!0)}}),!n){const l=`radar:${r.activeTowerId}:${r.activeProductCode}`;this.stopListeningToRoom(l)}await this.turnOnRadar(e,a,o)}stopListeningToRoom(e){te.roomLeave(e),te.removeAllListeners(e),this.activeSocketRooms=this.activeSocketRooms.filter(t=>t!==e)}stopListeningToRooms(){this.activeSocketRooms.forEach(e=>{te.roomLeave(e),te.removeAllListeners(e)}),this.activeSocketRooms=[]}removeRadar(e){Fo({title:Po}),this.radarTowersStore.clear();const t=e.properties.id;this.stopListeningToRooms(),g.forEach(o=>{o.stores.radar.clear(),o.components["radar-renderer"].clear()}),this.stormTracks.clear(t),this.lightning.clear(t)}getClosestTowers(e,t=1/0){const o=this.towers.features.filter(a=>!a.properties.secondary).map(a=>({feature:a,distance:Ko(a.geometry.coordinates,e,{units:"kilometers"})}));return o.sort((a,r)=>a.distance-r.distance),o.filter(a=>a.distance<=t)}async turnOnClosestRadar(e){const t=this.getClosestTowers(e);t.length==0||g.mapboxMapsFirst().stores.radar.activeTowerId===t[0].feature.properties.id||(this.closeAllRadarTowers(),await g.asyncEach(r=>this.turnOnRadar(r,t[0].feature)))}async turnOnClosestOnlineRadar(e,t="REF"){const o=this.getClosestTowers(e,300);if(o.length===0)throw new Error("Could not locate a nearby radar tower.");const a=t==="REF"?Bo:t==="VEL"?Do:[];for(const r of o){const n=r.feature,l=n.properties.id,d=(()=>{for(const f of a)if(n.properties.products.includes(f))return f;return null})();if(d===null)continue;const m=await this.loadLatestFile(l,d);if(j.utc().diff(j.utc(m.datetime),"seconds")<60*10){await this.turnOnRadarAll(n);break}}}async turnOnBestRadarForGeometry(e,t="REF"){const o=Mt(e),a=this.getClosestTowers(o,300).slice(0,4);if(a.length===0)throw new Error("Could not locate a nearby radar tower.");const r=Ii(e.coordinates),n=t==="REF"?Bo:t==="VEL"?Do:[],l=[];for(const y of a){const N=y.feature,w=N.properties.id,S=N.properties.products.filter(v=>n.includes(v));if(S.length!==0){for(const v of S){const A=await this.loadLatestFile(w,v);if(j.utc().diff(j.utc(A.datetime),"seconds")>60*10)continue;let I=0,R=0;const D=(1<<A.precision-1)-1;let k=0,F=A.data.length,E=0,K=0,U=0,X=0,J=0,$=0;const ce=360/A.dims[0];for(;k<F;){if(E=A.data[k],E>D){U=E-D,++k,X+=U;continue}if(K=A.range.min+E/D*(A.range.max-A.range.min),J=Math.floor(X/A.dims[1]),$=X%A.dims[1],K>=10){const ue=A.meters_to_center_of_first_gate+($+.5)*A.meters_between_gates,se=(A.azimuth_start+(J+.5)*ce)%360,me=Gt(A.location,ue,se,{units:"meters"});kr(me,r)&&(++I,R+=K)}X+=1,++k}if(I>0){const ue=R/I;l.push([ue,[w,v]])}break}break}}if(l.length===0)throw new Error("Unable to find any available (interesting) radar scan");l.sort((y,N)=>N[0]-y[0]);const d=l[0][1];this.closeAllRadarTowers();const[m,h]=d,f=a.find(y=>y.feature.properties.id===m).feature;await this.turnOnRadar(g.mapboxMapsFirst(),f,h)}async loadScanByUrl(e,t,o){const a=e.properties.id;try{const r=await this.fetchFileByUrl(o);g.forEach(n=>{n.stores.radar.activeProductCode===t&&this.drawScan(n,r,a,t)})}catch(r){console.error(r.message)}}getGroupsForTower(e){const t=e.properties.products;return Ht.filter(o=>{const a=o.tilts.map(r=>r.product);for(const r of t)if(a.includes(r))return!0;return!1})}getGroupForProduct(e){return Ht.find(t=>t.tilts.find(a=>a.product===e)!==void 0)}getColortableForGroup(e){const t=this.settings.colortable[e.id];return fe.get(e.id,t)}setupRadarRenderer(e,t,o){e.setColormap(o),e.setOpacity(this.settings.opacity),this.subscription.isAtleast(this.subscription.tiers.PLUS)&&this.settings.three_d===!0?(e.setRender3D(!0),e.setHeightMultiplier(18)):e.setRender3D(!1),this.subscription.isAtleast(this.subscription.tiers.PLUS)&&this.settings.smoothing[t.id]>0?(e.setColorSmoothing(!0),e.setSmoothingEnabled(!0),e.setSmoothDegree(this.settings.smoothing[t.id]/2,this.settings.smoothing[t.id])):(e.setColorSmoothing(!1),e.setSmoothingEnabled(!1)),this.settings.gate_filter[t.id]!==void 0?e.setFilter(this.settings.gate_filter[t.id][0],this.settings.gate_filter[t.id][1]):e.setFilter(-1/0,1/0)}drawScan(e,t,o,a){var h;if(t==null||typeof t!="object")return console.log(`Bad radar scan: ${o} ${a}`,t);const r=e.stores.radar;if(!(r.activeTowerId===o&&r.activeProductCode===a))return console.log(`Loaded radar scan for a tower that is no longer active: ${o} ${a}. Currently active: ${r.activeTowerId} ${r.activeProductCode}.`);const n=this.getGroupForProduct(a);if(n===void 0)return console.error(`Failed to locate product group for product: ${a}`),null;const l=this.getColortableForGroup(n);if(l===null)return console.error(`Failed to any colortables for group: ${n.id}`),null;const d=`${o}-${a}`;if(this.towerRadiusDrawId!==d){this.towerRadiusDrawId=d;const f=Ei(r.activeTower.geometry.coordinates,t.meters_to_center_of_first_gate+t.dims[1]*t.meters_between_gates,{units:"meters",steps:360});e.getSource(this.radarRadiusSourceId).setData(ge(f))}r.setColorMap(l),r.setScanDatetime(t.datetime),r.setScanVcp(((h=t==null?void 0:t.metadata)==null?void 0:h.vcp)??null);const m=e.components["radar-renderer"];this.setupRadarRenderer(m,n,l),m.draw(t)}redrawScan(e){const t=e.stores.radar;if(t.scanDatetime===null)return;const o=e.components["radar-renderer"];return this.drawScan(e,o.getData(),t.activeTowerId,t.activeProductCode)}redrawScanAll(){g.forEach(e=>this.redrawScan(e))}async loadLatestStormTracks(e){const t=e.properties.id,o="NST",a=`radar:${t}:${o}`;this.activeSocketRooms.includes(a)||(this.activeSocketRooms.push(a),te.roomJoin(a),te.on(a,async l=>{if(console.log("Radar update",a,l,`Mode: ${this.mode}`),this.mode===Ce)await this.loadStormTracksByUrl(e,l.url);else if(this.mode===Pt){if(this.bufferedRadarScans[o]===void 0)return!1;try{const d=await this.fetchFileByUrl(l.url);if(this.bufferedRadarScans[o]===void 0)return!1;for(this.bufferedRadarScans[o].push(d);this.bufferedRadarScans[o].length>this.bufferedRadarScansLimit;)this.bufferedRadarScans[o].shift()}catch(d){console.error("Failed to fetch scan in historical to realtime mode",d)}}}));const r=await this.loadLatestFile(t,"NST");if(g.mapboxMapsFirst().stores.radar.activeTowerId!==t)return console.log(`Loaded radar scan for a tower that is no longer active: ${t} ${o}`);this.drawStormTracks(t,r)}async loadStormTracksByUrl(e,t){const o=e.properties.id;try{const a=await Se.instance().get(t);this.drawStormTracks(o,a)}catch(a){console.error(a.message)}}drawStormTracks(e,t){j.utc().diff(j.utc(t.datetime),"minutes")>20||this.stormTracks.draw(e,t)}clearStormTracks(e){this.stormTracks.clear(e);const o=`radar:${e}:NST`;te.roomLeave(o),te.removeAllListeners(o),this.activeSocketRooms=this.activeSocketRooms.filter(a=>a!==o)}async loadHistory(e,t,o){if(o===void 0&&(o=this.settings.max_scans),t=[...new Set(t)],t.every(w=>typeof this.bufferedRadarScans[w]=="object"&&this.bufferedRadarScans[w].length<=o))return!1;this.bufferedRadarScansLimit=o;const r=this.towers.features.find(w=>w.properties.id===e);if(r===void 0)return;this.clearPlaybackState(),this.mode=Pt;const n=r.properties.products.includes("NST")&&this.settings.storm_tracks>0,l=this.isLightningSupported(r)&&this.settings.lightning>0;let d=0,m=0;mo.value=.1;const h={};for(const w of t){const S=await this.fetchLatestList(e,w,o);d+=S.length,h[w]=S.map(v=>()=>new Promise(async(A,B)=>{try{const I=await this.fetchFile(e,w,v);mo.value+=m,A(I)}catch(I){B(I)}}))}let f=null;if(n)try{const w=await this.fetchLatestList(e,"NST",o);d+=w.length,f=w.map(S=>()=>new Promise(async(v,A)=>{try{const B=await this.fetchFile(e,"NST",S);mo.value+=m,v(B)}catch(B){A(B)}}))}catch(w){console.error("Failed to fetch NST list",w)}mo.value=.2,m=(1-mo.value-.1)/d;for(const w of t){const S=await Ho(h[w],6);this.bufferedRadarScans[w]=S.filter(v=>v.status==="fulfilled").map(v=>v.value)}if(n&&f!==null){const w=await Ho(f,6);this.bufferedRadarScans.NST=w.filter(S=>S.status==="fulfilled").map(S=>S.value)}let y=60*60;o>15&&(y=24*60*60);const N=[];l&&N.push(this.lightning.loadHistory(e,y)),N.push(C.warnings.loadHistory(y)),N.push(C.mesoscaleDiscussions.loadHistory(y)),await Promise.allSettled(N),this.radarTowersStore.hasBufferedScans=!0,mo.value=1}clearBufferedHistoricalState(){for(const e in this.bufferedRadarScans)delete this.bufferedRadarScans[e];this.radarTowersStore.hasBufferedScans=!1}async playScans(e,t,o=1/0){if(t=[...new Set(t)],!t.some(m=>this.bufferedRadarScans[m]!==void 0))return!1;if(this.towers.features.find(m=>m.properties.id===e)===void 0)return;this.radarTowersStore.stopPlayback(),this.radarTowersStore.isPlaying=!0;let n=0;const l=t[0],d=this.bufferedRadarScans[l].length;for(;this.radarTowersStore.isPlaying&&n<o;){g.isUserInteracting()||(++this.radarTowersStore.playbackIdx,this.playScan(e,t),++n);let m=this.settings.playback_speed_ms;this.radarTowersStore.playbackIdx+1>=d&&(m*=4),await Zn(m,h=>{this.radarTowersStore.setPlaybackHandle(h)},()=>{this.radarTowersStore.clearPlaybackHandle()})}}playScan(e,t){const o=t[0],a=this.bufferedRadarScans[o].length;this.radarTowersStore.playbackIdx>=a?this.radarTowersStore.playbackIdx=0:this.radarTowersStore.playbackIdx<0&&(this.radarTowersStore.playbackIdx=a-1);const r=this.towers.features.find(m=>m.properties.id===e);if(r===void 0)return;const n={playNST:r.properties.products.includes("NST")&&typeof this.bufferedRadarScans.NST=="object",playLightning:!0,playWarnings:!0,playMesoscaleDiscussions:!0};window.location.href.includes("test-radar-scans")&&(n.playNST=!1,n.playLightning=!1,n.playWarnings=!1,n.playMesoscaleDiscussions=!1);const l={};g.forEach(m=>{const h=m.stores.radar;l[h.activeProductCode]===void 0&&(l[h.activeProductCode]=[]),l[h.activeProductCode].push(m.id)});const d=this.bufferedRadarScans[o][this.radarTowersStore.playbackIdx];if(d){const m=d.datetime,h=j.utc(m);for(const N of t){const w=this.bufferedRadarScans[N][this.radarTowersStore.playbackIdx];if(w!==void 0&&l[N]!==void 0)for(const S of l[N]){const v=g.map(S);v!==void 0&&this.drawScan(v,w,e,N)}}const y=this.radarTowersStore.playbackIdx+1===a;if(n.playNST){const N=this.bufferedRadarScans.NST.map(v=>v.datetime),w=Yn(N,h),S=w!==null&&Math.abs(j.utc(w).diff(h,"minutes"))<=15?w:null;if(S!==null){const v=this.bufferedRadarScans.NST.find(A=>A.datetime===S);this.stormTracks.draw(e,v)}}n.playLightning&&this.lightning.drawHistory(h,y),n.playWarnings&&C.warnings.drawHistory(h,y),n.playMesoscaleDiscussions&&C.mesoscaleDiscussions.drawHistory(h,y)}}openRadarProductHelpModal(e){const t=ne({defaultModelValue:!0,component:Ae,attrs:{title:e.name},slots:{default:le({component:Yr,attrs:{text:e.help,onClose(){t.close()}}})}});return t}filterSecondaryTowers(){return this.towers.features.filter(e=>!e.properties.secondary)}hideRadarTowers(){this.settings.towers_visible=!1,g.setLayoutProperty(this.dotLayerId,"visibility","none"),g.setLayoutProperty(this.pillLayerId,"visibility","none"),g.setLayoutProperty(this.radarRadiusLayerId,"visibility","none"),g.setLayoutProperty(this.radarRadiusBorderLayerId,"visibility","none")}showRadarTowers(){this.settings.towers_visible=!0;const e=this.settings.tower_icon_design==="pill";this.settings.secondary_towers_visible,g.getSource(this.sourceId).setData(this.getFilteredTowers());const t=e?"none":"visible";g.setLayoutProperty(this.dotLayerId,"visibility",t);const o=e?"visible":"none";g.setLayoutProperty(this.pillLayerId,"visibility",o),this.settings.towers_radius_visible&&this.showTowersRadius()}getFilteredTowers(){return this.settings.secondary_towers_visible?this.towers:{...this.towers,features:ge(this.filterSecondaryTowers())}}showTowersRadius(){this.settings.towers_visible&&(g.setLayoutProperty(this.radarRadiusLayerId,"visibility","visible"),g.setLayoutProperty(this.radarRadiusBorderLayerId,"visibility","visible"))}hideTowersRadius(){g.setLayoutProperty(this.radarRadiusLayerId,"visibility","none"),g.setLayoutProperty(this.radarRadiusBorderLayerId,"visibility","none")}changeTowerIcon(){!this.settings.isRadarTowersVisible&&g.mapboxMapsFirst().stores.radar.activeTower||(this.hideRadarTowers(),this.showRadarTowers())}show(){!this.settings.isRadarTowersVisible&&g.mapboxMapsFirst().stores.radar.activeTower?this.hideRadarTowers():this.changeTowerIcon(),g.setLayoutProperty(this.radarRendererLayerId,"visibility","visible"),(async()=>(await this.lightning.loadIcon(),g.forEach(e=>{const t=e.stores.radar;t.activeTower!==void 0&&this.turnOnRadar(e,t.activeTower)})))(),this.lightning.show(),this.stormTracks.show()}hide(){for(const e of this.towerIconLayers)g.setLayoutProperty(e,"visibility","none");for(const e of this.layers)g.setLayoutProperty(e,"visibility","none");this.stopListeningToRooms(),this.clearPlaybackState(),this.lightning.hide(),this.stormTracks.hide()}async determineLatestFile(e,t){const o=await this.fetchLatestList(e,t);return o.length==0?null:o[o.length-1]}async loadLatestFile(e,t){const o=await this.determineLatestFile(e,t);if(o!==null)return await this.fetchFile(e,t,o)}async fetchLatestList(e,t,o=-1){let a;const r=new Date().getTime();window.location.href.includes("test-radar-scans")?a=await(await fetch("/test-radar-scans/dir.list")).text():a=await await Se.instance().get(`/radar/processed/${e}/${t}/dir.list?_=${r}`);const n=a.split(`
`).filter(l=>l.length>0);return o===-1?n:n.slice(Math.max(n.length-o,0))}buildUrlForFile(e,t,o){let a=`/radar/processed/${e}/${t}/${o}`;return window.location.href.includes("test-radar-scans")&&(a=`http://${window.location.host}/test-radar-scans/${o}`),a}async fetchFile(e,t,o){const a=this.buildUrlForFile(e,t,o);return await this.fetchFileByUrl(a)}async fetchFileByUrl(e){const t=await Se.instance().get(e,{responseType:"arraybuffer"}),o=new Lo(t);return o.isBinary()?o.unpack():o.json()}}const vt={ABI_Band13_Clean_Infrared:"Band 13, known as the Clean Infrared (IR) band, is a high-resolution thermal infrared channel on the GOES satellite that measures emitted radiation from the Earth in the 10.1 to 10.6 µm range. It is primarily used to monitor cloud tops, identify storms, and detect severe weather patterns both day and night. Since it’s unaffected by visible light, Band 13 is especially valuable for tracking weather systems in the dark or in heavily clouded areas, making it an essential tool for meteorologists in forecasting and analyzing atmospheric conditions.",ABI_GeoColor:"Geo Color is a composite satellite imagery product that combines multiple spectral bands from the GOES satellite to create a realistic, true-color view of the Earth. It provides a visual representation of the atmosphere and surface, blending visible and infrared data to show clouds, land, water, and other features in near-natural colors during the day. At night, GeoColor switches to infrared bands to depict cloud cover and other phenomena using different color enhancements. This product is valuable for tracking weather systems, analyzing cloud development, and monitoring environmental changes in a visually intuitive format, both day and night.",ABI_Dust:"The Dust product, available from the GOES satellite, is a specialized imagery tool that helps detect and monitor airborne dust, sand, and other aerosols in the atmosphere. It uses a combination of infrared bands to highlight dust particles, appearing in distinct colors for easy identification against the background of clouds, land, and ocean. This product is particularly useful for identifying dust storms, volcanic ash, and Saharan dust plumes, which can impact air quality and visibility. The Dust product helps forecasters track dust movement, assess potential hazards to aviation, and monitor its effects on weather and climate.",ABI_FireTemp:"The Fire Temperature product from the GOES satellite is designed to detect and monitor wildfires and other thermal anomalies by using infrared bands to estimate the temperature of hotspots on the Earth's surface. This product highlights active fires by identifying areas of high heat, with color enhancements showing the intensity of the fire. It is particularly useful for early detection of wildfires, tracking fire behavior, and assessing the spread of fire during both day and night. The Fire Temperature product provides critical data for emergency responders and meteorologists to assess fire risks and manage firefighting efforts.",ABI_Band2_Red_Visible_1km:"Band 2, known as the Red Visible band, is a high-resolution channel on the GOES satellite that captures reflected sunlight in the visible spectrum, specifically in the 0.64 µm range. It provides detailed images of the Earth's surface and cloud formations during daylight hours. Band 2 is particularly useful for identifying cloud structures, storm development, and surface features like smoke, dust, and vegetation. With its high spatial resolution, it helps meteorologists and forecasters monitor weather patterns and assess environmental conditions in real-time."},Rt=[{id:"GOES-West",products:[{id:"ABI_GeoColor",name:"Geo Color",help:vt.ABI_GeoColor},{id:"ABI_Band13_Clean_Infrared",name:"Clean Infrared",help:vt.ABI_Band13_Clean_Infrared},{id:"ABI_Dust",name:"Dust",help:vt.ABI_Dust},{id:"ABI_FireTemp",name:"Fire Temperature",help:vt.ABI_FireTemp},{id:"ABI_Band2_Red_Visible_1km",name:"Red Visible",help:vt.ABI_Band2_Red_Visible_1km}],name:"GOES West",help:"The GOES-18 (GOES West) satellite, operated by NOAA, is a cutting-edge geostationary satellite that monitors weather and environmental conditions over the western United States, the Pacific Ocean, and parts of Alaska and Hawaii. Positioned at 136.9°W longitude, it provides real-time, high-resolution imagery and data critical for tracking storms, wildfires, coastal fog, and other atmospheric phenomena. Equipped with advanced instruments like the Advanced Baseline Imager (ABI), GOES-18 enhances weather forecasting and disaster preparedness, especially for areas prone to severe weather and natural hazards in the western U.S. and Pacific region.",bounds:[-217.61307263573212,-81.5046269257671,-55.083538361929456,81.5046269257671],area_of_coverage:{center:[-136.9,0],radius_m:10018750}},{id:"GOES-East",products:[{id:"ABI_GeoColor",name:"Geo Color",help:vt.ABI_GeoColor},{id:"ABI_Band13_Clean_Infrared",name:"Clean Infrared",help:vt.ABI_Band13_Clean_Infrared},{id:"ABI_Dust",name:"Dust",help:vt.ABI_Dust},{id:"ABI_FireTemp",name:"Fire Temperature",help:vt.ABI_FireTemp},{id:"ABI_Band2_Red_Visible_1km",name:"Red Visible",help:vt.ABI_Band2_Red_Visible_1km}],name:"GOES East",help:"The GOES-19 (GOES East) satellite, operated by NOAA, is a next-generation geostationary weather satellite that provides real-time, high-resolution imagery of weather systems, severe storms, and environmental conditions across the Americas and surrounding oceans. Positioned at 75.2°W longitude, it monitors the Atlantic Ocean, eastern U.S., Gulf of Mexico, and the Caribbean. Equipped with advanced sensors like the Advanced Baseline Imager (ABI), GOES-19 delivers detailed data for weather forecasting, storm tracking, and environmental monitoring, significantly enhancing our ability to predict and respond to weather events.",bounds:[-155.9130726357321,-81.5046269257671,6.616461638070547,81.5046269257671],area_of_coverage:{center:[-75.2,0],radius_m:10018750}}],Jr=ve("satellite",{state:()=>({satellites:[]}),getters:{anyActive:i=>i.satellites.length>0,activeSatellite:i=>i.satellites[0]},actions:{clear(){this.satellites=[]}}}),os="0",qa="",nw=i=>{const e={state:()=>({activeSatelliteId:os,activeProductCode:qa,activeSatellite:null,scanDatetime:null}),getters:{anyActive:o=>o.activeSatelliteId!==os,activeProduct(o){return o.activeSatellite.products.find(a=>a.id===o.activeProductCode)},scanLocalTime:o=>j.utc(ge(o.scanDatetime)).local().format("HH:mm:ss"),scanLocalDatetime:o=>j.utc(ge(o.scanDatetime)).local().format("YYYY-MM-DD HH:mm:ss"),scanIsOld:o=>j.utc(ge(o.scanDatetime)).isBefore(j().utc().subtract(2,"hours")),scanIsNew:o=>j.utc(ge(o.scanDatetime)).isAfter(j.utc().subtract(30,"minutes"))},actions:{initSatelliteAndProduct(o,a){this.$patch({activeSatelliteId:o,activeProductCode:a})},setActiveSatellite(o){const a={activeSatellite:o,activeSatelliteId:o.id};o.products.map(r=>r.id).includes(this.activeProductCode)||(a.activeProductCode=o.products.map(r=>r.id)[0]),this.$patch(a)},setScanDatetime(o){this.scanDatetime=o},clearScanDatetime(){this.setScanDatetime(null)}},persist:{storage:{getItem:o=>{if(i!==0)return;const a=new Ne,r=a.has("sc")?a.get("sc"):os,n=a.has("sp")?a.get("sp"):qa,l=Rt.find(m=>m.id===r);if(l===void 0||!l.products.map(m=>m.id).includes(n))return;t().initSatelliteAndProduct(r,n)},setItem:(o,a)=>{if(i!==0)return;const r=t(),n=new Ne;r.activeSatelliteId===os?(n.delete("sc"),n.delete("sp")):(n.set("sc",r.activeSatelliteId),n.set("sp",r.activeProductCode)),n.save()}}}},t=ve(`map_satellite:${i}`,e);return new t},lw={name:"SatelliteProductHelp",props:["text"],emits:["close"]},cw=["innerHTML"];function dw(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.text.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,cw)}const er=G(lw,[["render",dw]]);class uw{constructor(){this.appStore=xe(),this.satelliteStore=Jr(),this.mode=vo,this.activeSocketRooms=[],this.rasterTileSourceId="ww-satellite-raster-tile-source",this.rasterTileLayerId="ww-satellite-raster-tile-layer",this.layers=[this.rasterTileLayerId],g.addLayer({id:"ww-top-middle-satellite-layer",type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}}},"land-structure-polygon"),g.addStore("satellite",e=>nw(e.id)),g.onLoad(e=>{var r;if(!this.appStore.isSatelliteMode||!this.satelliteStore.anyActive)return;const t=g.mapboxMapsFirst().stores.satellite.activeSatellite,o={};g.forEach(n=>{const l=n.stores.satellite.activeProductCode;l===null||l.length===0||(o[l]=!0)});let a=(r=t.products.filter(n=>o[n.id]===void 0)[0])==null?void 0:r.id;a===void 0&&(a=t.products[0].id),this.turnOnSatellite(e,t.id,a)})}removeTileLayer(e){e.getLayer(this.rasterTileLayerId)&&e.removeLayer(this.rasterTileLayerId),e.getSource(this.rasterTileSourceId)&&e.removeSource(this.rasterTileSourceId)}addTileLayer(e,t,o){const a={type:"raster",tiles:o.tiles,tileSize:256,maxzoom:o.max_zoom},r=[];if(t.bounds!==void 0){const h=new Te.LngLatBounds([t.bounds[0],t.bounds[1]],[t.bounds[2],t.bounds[3]]);r.push(h)}if(t.id==="GOES-West"){const h=new Te.LngLatBounds([180+(t.bounds[0]+180),t.bounds[1]],[180,t.bounds[3]]);r.push(h)}e.addSource(this.rasterTileSourceId,a);function n(h){return(180+h)/360}function l(h){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+h*Math.PI/360)))/360}const d=e.getSource(this.rasterTileSourceId);d.tileBounds={contains:h=>{const f=Math.pow(2,h.z);for(let y=0;y<r.length;++y){const N={minX:Math.floor(n(r[y].getWest())*f),minY:Math.floor(l(r[y].getNorth())*f),maxX:Math.ceil(n(r[y].getEast())*f),maxY:Math.ceil(l(r[y].getSouth())*f)};if(h.x>=N.minX&&h.x<N.maxX&&h.y>=N.minY&&h.y<N.maxY)return!0}return!1}},e.addLayer({id:this.rasterTileLayerId,type:"raster",source:this.rasterTileSourceId,paint:{"raster-resampling":"nearest"}},"ww-top-middle-satellite-layer"),e.stores.satellite.setScanDatetime(o.last_update_at)}fetchList(){return Se.instance().get("/satellite/tiles1/list.json")}getSatellite(e){return JSON.parse(JSON.stringify(Rt.find(t=>t.id===e)))}async loadSatelliteData(e,t,o){const r=(await this.fetchList()).satellites.find(l=>l.id===t);if(r===void 0)return console.error("Unable to locate latest satellite",t);const n=r.products.find(l=>l.id===o);if(n===void 0)return console.error("Unable to locate latest product",o);this.removeTileLayer(e),this.addTileLayer(e,r,n)}async turnOnSatellite(e,t,o=null){const a=this.getSatellite(t);Fo({title:`${a.name} - ${Po}`}),this.mode=Ce;const r=e.stores.satellite;r.setActiveSatellite(a),o===null?o=r.activeProductCode:r.activeProductCode=o,this.satelliteStore.satellites=[a];const n=`satellite:${t}:${o}`;this.activeSocketRooms.includes(n)||(this.activeSocketRooms.push(n),te.roomJoin(n),te.on(n,async l=>{console.log("Satellite update",n,l,`Mode: ${this.mode}`),this.mode===Ce&&g.forEach(d=>{const m=d.stores.satellite;if(m.activeSatelliteId===t&&m.activeProductCode===o){const h=d.getSource(this.rasterTileSourceId);if(h===void 0)return;h.setTiles(l.tiles),m.setScanDatetime(l.last_update_at)}})}));try{await this.loadSatelliteData(e,t,o)}catch(l){console.log("Failed to load latest satellite data",l)}}changeSatelliteProduct(e,t,o){const a=e.stores.satellite;let r=!1;if(g.forEach(n=>{if(n.id!==e.id){const l=n.stores.satellite;l.activeSatelliteId===a.activeSatelliteId&&l.activeProductCode===a.activeProductCode&&(r=!0)}}),!r){const n=`satellite:${a.activeSatelliteId}:${a.activeProductCode}`;this.stopListeningToRoom(n)}this.turnOnSatellite(e,t,o)}stopListeningToRoom(e){te.roomLeave(e),te.removeAllListeners(e),this.activeSocketRooms=this.activeSocketRooms.filter(t=>t!==e)}stopListeningToRooms(){this.activeSocketRooms.forEach(e=>{te.roomLeave(e),te.removeAllListeners(e)}),this.activeSocketRooms=[]}findBestSatelliteFor(e){let t=null,o=1/0;return Rt.forEach(a=>{const r=Ko(e,a.area_of_coverage.center,{units:"meters"});r<o&&r<=a.area_of_coverage.radius_m&&(o=r,t=a)}),t===null?Rt[0].id:t.id}openSatelliteHelpModal(e){const t=Rt.find(a=>a.id===e);if(t===void 0)return;const o=ne({defaultModelValue:!0,component:Ae,attrs:{title:t.name},slots:{default:le({component:er,attrs:{text:t.help,onClose(){o.close()}}})}});return o}openSatelliteProductHelpModal(e,t){const o=Rt.find(n=>n.id===e);if(o===void 0)return;const a=o.products.find(n=>n.id===t);if(a===void 0)return;const r=ne({defaultModelValue:!0,component:Ae,attrs:{title:a.name},slots:{default:le({component:er,attrs:{text:a.help,onClose(){r.close()}}})}});return r}show(){for(const r of this.layers)g.getLayer(r)&&g.setLayoutProperty(r,"visibility","visible");const e=g.mapboxMapsFirst().stores.satellite.activeSatelliteId,t=e==="0"?Rt[0].id:e,o=Rt.find(r=>r.id===t);if(o===void 0)return;const a={};g.forEach(r=>{var d;let l=r.stores.satellite.activeProductCode;(l===null||l.length===0)&&(l=(d=o.products.filter(m=>a[m.id]===void 0)[0])==null?void 0:d.id,l===void 0&&(l=o.products[0].id)),a[l]=!0,this.turnOnSatellite(r,t,l)})}hide(){g.forEach(e=>{this.removeTileLayer(e)}),this.stopListeningToRooms();for(const e of this.layers)g.getLayer(e)&&g.setLayoutProperty(e,"visibility","none")}}const Io=Xn(),pw=[{title:"Warnings",significance:"W",alerts:Io.filter(i=>i.significance==="W")},{title:"Watches",significance:"A",alerts:Io.filter(i=>i.significance==="A")},{title:"Advisories",significance:"Y",alerts:Io.filter(i=>i.significance==="Y")},{title:"Statements",significance:"S",alerts:Io.filter(i=>i.significance==="S")}],ss=[{id:wt,label:"Severe"},{id:$e,label:"Winter"},{id:Je,label:"Hydro"},{id:_e,label:"Wind/Air"},{id:oo,label:"Fire/Heat"},{id:Lt,label:"Tropical"}],$o=ve("alerts",{state:()=>({alerts:Io,selectedAlertId:null,activeTab:"general"}),getters:{sections:i=>pw.map(e=>({...e,alerts:i.alerts.filter(t=>t.significance===e.significance)})),selectedAlert:i=>i.selectedAlertId&&i.alerts.find(e=>e.id===i.selectedAlertId)||null},actions:{setSelectedAlert(i){this.selectedAlertId=(i==null?void 0:i.id)??null},setActiveTab(i){this.activeTab=i}}}),mw={class:"text-center tags mt-3"},hw={key:0,class:"mb-2"},gw={key:1,class:"mb-2"},fw=["title"],yw=["title"],Nw=["title"],vw=["title"],bw={key:5,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},ww={key:6,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded capitalize"},xw={key:7,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},_w={key:8,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Sw={key:9,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},kw={key:10,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Aw={key:11,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Cw={class:"capitalize"},Tw={key:12,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Bw={key:13,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Dw={key:14,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},Iw={key:0,class:"border-b border-gray-200"},Ew={class:"flex -mb-px text-sm text-center text-gray-500 dark:text-white items-center justify-center"},Lw={class:"me-2"},Rw=["onClick"],Fw={key:1,class:"pt-3"},Mw={class:"text dark:text-white"},Pw={key:2,class:"pt-3"},Hw={class:"mt-2"},zw={class:"relative overflow-x-auto mt-3"},Ow={class:"w-full text-sm text-left rtl:text-right"},Kw={class:"bg-white border-b dark:bg-ww-blue dark:border-gray-700 border-gray-200"},Uw={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},$w=["innerHTML"],Xw={class:"bg-white dark:bg-ww-blue dark:border-gray-700 border-gray-200"},Ww={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},Vw=["innerHTML"],Gw={class:"mt-4"},jw={class:"relative overflow-x-auto mt-3"},Zw={class:"w-full text-sm text-left rtl:text-right"},Yw={class:"bg-white border-b dark:bg-ww-blue dark:border-gray-700 border-gray-200"},Jw={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},Qw=["innerHTML"],qw={class:"bg-white dark:bg-ww-blue dark:border-gray-700 border-gray-200"},ex={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},tx=["innerHTML"],ox={class:"mt-4"},sx={class:"relative overflow-x-auto mt-3"},ax={class:"w-full text-sm text-left rtl:text-right"},rx={class:"bg-white border-b dark:bg-ww-blue dark:border-gray-700 border-gray-200"},ix={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},nx=["innerHTML"],lx={class:"bg-white dark:bg-ww-blue dark:border-gray-700 border-gray-200"},cx={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},dx=["innerHTML"],ux={class:"mt-4"},px={class:"relative overflow-x-auto mt-3"},mx={class:"w-full text-sm text-left rtl:text-right"},hx={class:"bg-white dark:bg-ww-blue dark:border-gray-700 border-gray-200"},gx={class:"px-2 sm:px-4 py-4 font-extrabold text-right w-[100px]"},fx=["innerHTML"],yx={name:"WarningsModal",props:["feature"],data(){return{tab:"text"}},computed:{motionDirection(){return(this.feature.properties.tags.TIME_MOT_LOC.direction+180)%360},tabs(){var e,t,o;const i=[{id:"text",icon:"fluent:textbox-16-regular",name:"Text",help:"TODO"}];return((o=(t=(e=this.feature)==null?void 0:e.properties)==null?void 0:t.tags)==null?void 0:o.PROBS)!==void 0&&i.push({id:"probs",icon:"icomoon-free:stats-bars",name:"Probabilities",help:"TODO"}),i}},emits:["close"],methods:{onShareClick(i){he.share()},async onShowPreviousClick(i){this.$emit("close"),await C.warnings.fetchWarningFromArchive(this.feature.properties.previous)},async onShowNextClick(i){this.$emit("close"),await C.warnings.fetchWarningFromArchive(this.feature.properties.next)},onTabClick(i,e){return this.tab=e,!1},watchValue(i){var a,r,n,l;const e=(l=(n=(r=(a=this.feature)==null?void 0:a.properties)==null?void 0:r.tags)==null?void 0:n.PROBS)==null?void 0:l[i];if(typeof e!="string")return"Unknown";const t=parseFloat(e.replace(/\D/g,""));let o="Low";return t>29.9&&t<69.99?o="Mod":t>69.99&&(o="High"),`${o}&nbsp;(${e})`}}},Nx=Object.assign(yx,{setup(i){return(e,t)=>(c(),p(z,null,[s("hr",{class:"divider",style:pe({"border-color":i.feature.properties["line-background-color"]})},null,4),s("div",mw,[i.feature.properties.tags.PDS===!0?(c(),p("div",hw,t[3]||(t[3]=[s("span",{class:"bg-red-100 text-red-800 font-bold px-1.5 py-0.5 rounded-lg dark:bg-red-900 dark:text-white uppercase"},"Particularly Dangerous Situation",-1)]))):x("",!0),i.feature.properties.tags.EDS===!0?(c(),p("div",gw,t[4]||(t[4]=[s("span",{class:"bg-red-100 text-red-800 font-bold px-1.5 py-0.5 rounded-lg dark:bg-red-900 dark:text-white uppercase"},"Extremely Dangerous Situation",-1)]))):x("",!0),s("span",{class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.issued_at},"Issued "+_(u(Pe)(i.feature.properties.issued_at)),9,fw),i.feature.properties.issued_at!==i.feature.properties.starts_at?(c(),p("span",{key:2,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.starts_at},_(u(j).utc(i.feature.properties.starts_at).isBefore(u(j).utc())?"Started":"Starts")+" "+_(u(Pe)(i.feature.properties.starts_at)),9,yw)):x("",!0),u(j).utc(i.feature.properties.expires_at).isBefore(u(j).utc())?(c(),p("span",{key:3,class:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-100 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.expires_at},"Expired "+_(u(Pe)(i.feature.properties.expires_at))+"!",9,Nw)):(c(),p("span",{key:4,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.expires_at},"Expires "+_(u(Pe)(i.feature.properties.expires_at)),9,vw)),i.feature.properties.tags.SOURCE?(c(),p("span",bw,"Source: "+_(i.feature.properties.tags.SOURCE),1)):x("",!0),i.feature.properties.tags.TORNADO?(c(),p("span",ww,"Tornado: "+_(i.feature.properties.tags.TORNADO.toLowerCase()),1)):x("",!0),i.feature.properties.tags.MAX_HAIL_SIZE&&!i.feature.properties.tags.MAX_HAIL_SIZE.includes("0.00")?(c(),p("span",xw,"Max Hail Size: "+_(i.feature.properties.tags.MAX_HAIL_SIZE.replace(" IN",'"')),1)):x("",!0),i.feature.properties.tags.HAIL&&parseFloat(i.feature.properties.tags.HAIL)>0?(c(),p("span",_w,"Hail: "+_(i.feature.properties.tags.HAIL.replace(" IN",'"')),1)):x("",!0),i.feature.properties.tags.MAX_WIND_GUST?(c(),p("span",Sw,"Max Wind Gust: "+_(i.feature.properties.tags.MAX_WIND_GUST),1)):x("",!0),i.feature.properties.tags.WIND&&parseFloat(i.feature.properties.tags.WIND)>0?(c(),p("span",kw,"Wind: "+_(i.feature.properties.tags.WIND),1)):x("",!0),i.feature.properties.tags.THUNDERSTORM_DAMAGE_THREAT?(c(),p("span",Aw,[t[5]||(t[5]=L("Damage Threat: ")),s("span",Cw,_(i.feature.properties.tags.THUNDERSTORM_DAMAGE_THREAT.toLowerCase()),1)])):x("",!0),i.feature.properties.tags.TIME_MOT_LOC?(c(),p("span",Tw,"Motion: "+_(u(Pr)(e.motionDirection))+" ("+_(e.motionDirection)+"°) at "+_(i.feature.properties.tags.TIME_MOT_LOC.speed)+" kts",1)):x("",!0),i.feature.properties.office?(c(),p("span",Bw,"Office: "+_(i.feature.properties.office),1)):x("",!0),i.feature.properties.area?(c(),p("span",Dw,[L("Area: "+_(u(el)((i.feature.properties.area/1e6*.386102159).toFixed(1)))+" mi",1),t[6]||(t[6]=s("sup",null,"2",-1))])):x("",!0),i.feature.properties.previous?(c(),p("button",{key:15,type:"button",class:"bg-[#F6B91A] text-[#17274F] hover:bg-[#17274F] hover:text-[#F6B91A] dark:hover:bg-[#F6B91A] dark:hover:text-[#17274F] rounded-lg text-xs px-2.5 py-0.5 relative top-[-2px] text-center me-2 mb-2 font-medium transition-all duration-200 transform active:scale-90 active:shadow-[0_0_0_2px_#17274F,0_0_0_4px_#F6B91A] dark:active:shadow-[0_0_0_2px_#F6B91A,0_0_0_4px_#17274F]",onClick:t[0]||(t[0]=o=>e.onShowPreviousClick(o))},[b(u(T),{icon:"clarity:history-line",class:"inline h-5 w-5 mr-1"}),t[7]||(t[7]=L("See previous warning"))])):x("",!0),i.feature.properties.next?(c(),p("button",{key:16,type:"button",class:"bg-[#F6B91A] text-[#17274F] hover:bg-[#17274F] hover:text-[#F6B91A] dark:hover:bg-[#F6B91A] dark:hover:text-[#17274F] rounded-lg text-xs px-2.5 py-0.5 relative top-[-2px] text-center me-2 mb-2 font-medium transition-all duration-200 transform active:scale-90 active:shadow-[0_0_0_2px_#17274F,0_0_0_4px_#F6B91A] dark:active:shadow-[0_0_0_2px_#F6B91A,0_0_0_4px_#17274F]",onClick:t[1]||(t[1]=o=>e.onShowNextClick(o))},[b(u(T),{icon:"clarity:history-line",class:"inline h-5 w-5 mr-1"}),t[8]||(t[8]=L("See next warning"))])):x("",!0),s("button",{type:"button",class:"bg-[#F6B91A] text-[#17274F] hover:bg-[#17274F] hover:text-[#F6B91A] dark:hover:bg-[#F6B91A] dark:hover:text-[#17274F] rounded-lg text-xs px-2.5 py-0.5 relative top-[-2px] text-center me-2 mb-2 font-medium transition-all duration-200 transform active:scale-90 active:shadow-[0_0_0_2px_#17274F,0_0_0_4px_#F6B91A] dark:active:shadow-[0_0_0_2px_#F6B91A,0_0_0_4px_#17274F]",onClick:t[2]||(t[2]=o=>e.onShareClick(o))},[b(u(T),{icon:"ion:share-outline",class:"inline mr-1 size-5"}),t[9]||(t[9]=s("span",{class:"relative top-[2px] font-extrabold"},"Share",-1))])]),e.tabs.length>1?(c(),p("div",Iw,[s("ul",Ew,[(c(!0),p(z,null,ee(e.tabs,o=>(c(),p("li",Lw,[s("a",{href:"#",onClick:P(a=>e.onTabClick(a,o.id),["prevent"]),class:O(["inline-flex items-center justify-center p-4 pt-1 border-b-2 rounded-t-lg group font-extrabold",{"text-blue-600 dark:text-blue-400 border-blue-600 active":e.tab===o.id,"border-transparent hover:text-gray-600 dark:hover:text-gray-400 hover:border-gray-300":e.tab!==o.id}])},[b(u(T),{icon:o.icon,class:"inline size-5 mr-2"},null,8,["icon"]),L(_(o.name),1)],10,Rw)]))),256))])])):x("",!0),e.tab==="text"?(c(),p("div",Fw,[s("pre",Mw,_(i.feature.properties.text),1),t[10]||(t[10]=s("hr",{class:"my-4"},null,-1)),t[11]||(t[11]=s("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"The information is provided to us in realtime from the National Weather Service (NWS).",-1))])):x("",!0),e.tab==="probs"?(c(),p("div",Pw,[s("div",Hw,[t[14]||(t[14]=s("h4",{class:"text-xl font-extrabold"},"Tornadoes",-1)),s("div",zw,[s("table",Ow,[s("tbody",null,[s("tr",Kw,[t[12]||(t[12]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 2 or more tornadoes ",-1)),s("td",Uw,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("2_or_more_tornadoes")},null,8,$w)])]),s("tr",Xw,[t[13]||(t[13]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 1 or more strong (EF2-EF5) tornadoes ",-1)),s("td",Ww,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("1_or_more_strong_ef2-ef5_tornadoes")},null,8,Vw)])])])])])]),s("div",Gw,[t[17]||(t[17]=s("h4",{class:"text-xl font-extrabold"},"Wind",-1)),s("div",jw,[s("table",Zw,[s("tbody",null,[s("tr",Yw,[t[15]||(t[15]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 10 or more severe wind events ",-1)),s("td",Jw,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("10_or_more_severe_wind_events")},null,8,Qw)])]),s("tr",qw,[t[16]||(t[16]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 1 or more wind events > 65 knots (~75 mph) ",-1)),s("td",ex,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("1_or_more_wind_events_>=_65_knots")},null,8,tx)])])])])])]),s("div",ox,[t[20]||(t[20]=s("h4",{class:"text-xl font-extrabold"},"Hail",-1)),s("div",sx,[s("table",ax,[s("tbody",null,[s("tr",rx,[t[18]||(t[18]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 10 or more severe hail events ",-1)),s("td",ix,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("10_or_more_severe_hail_events")},null,8,nx)])]),s("tr",lx,[t[19]||(t[19]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 1 or more hailstones > 2 inches ",-1)),s("td",cx,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("1_or_more_hail_events_>=_2_inches")},null,8,dx)])])])])])]),s("div",ux,[t[22]||(t[22]=s("h4",{class:"text-xl font-extrabold"},"Combined Severe Hail/Wind",-1)),s("div",px,[s("table",mx,[s("tbody",null,[s("tr",hx,[t[21]||(t[21]=s("th",{scope:"row",class:"px-2 sm:px-4 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Probability of 10 or more severe hail events ",-1)),s("td",gx,[s("span",{class:"font-extrabold",innerHTML:e.watchValue("6_or_more_combined_severe_hail_wind_events")},null,8,fx)])])])])])]),t[23]||(t[23]=s("hr",{class:"my-4"},null,-1)),t[24]||(t[24]=s("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"The information is provided to us in realtime from the National Weather Service (NWS).",-1))])):x("",!0)],64))}}),vx=G(Nx,[["__scopeId","data-v-b34b8a72"]]),bx={},wx={class:"mt-5"};function xx(i,e){return c(),p("div",wx,e[0]||(e[0]=[s("p",null,"This warning has likely expired and is therefore no longer active.",-1)]))}const _x=G(bx,[["render",xx]]),Sx={name:"WarningHelp",props:["config"],emits:["close"]},kx=["innerHTML"];function Ax(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.config.help.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,kx)}const Cx=G(Sx,[["render",Ax]]),Tx={class:"text-2xl sm:text-4xl font-medium dark:text-white"},Bx={name:"WarningHelpTitle",props:["config"],emits:["close"]},Dx=Object.assign(Bx,{setup(i){return(e,t)=>(c(),p("h1",Tx,[b(u(T),{icon:i.config.icon,class:"s-6 sm:s-10 inline mr-3",style:pe({color:i.config.color})},null,8,["icon","style"]),L(_(i.config.name),1)]))}}),Ix=[{name:"Alabama (AL)",code:"AL"},{name:"Alaska (AK)",code:"AK"},{name:"American Samoa (AS)",code:"AS"},{name:"Arizona (AZ)",code:"AZ"},{name:"Arkansas (AR)",code:"AR"},{name:"California (CA)",code:"CA"},{name:"Colorado (CO)",code:"CO"},{name:"Connecticut (CT)",code:"CT"},{name:"Delaware (DE)",code:"DE"},{name:"District Of Columbia (DC)",code:"DC"},{name:"Federated States Of Micronesia (FM)",code:"FM"},{name:"Florida (FL)",code:"FL"},{name:"Georgia (GA)",code:"GA"},{name:"Guam (GU)",code:"GU"},{name:"Hawaii (HI)",code:"HI"},{name:"Idaho (ID)",code:"ID"},{name:"Illinois (IL)",code:"IL"},{name:"Indiana (IN)",code:"IN"},{name:"Iowa (IA)",code:"IA"},{name:"Kansas (KS)",code:"KS"},{name:"Kentucky (KY)",code:"KY"},{name:"Louisiana (LA)",code:"LA"},{name:"Maine (ME)",code:"ME"},{name:"Marshall Islands (MH)",code:"MH"},{name:"Maryland (MD)",code:"MD"},{name:"Massachusetts (MA)",code:"MA"},{name:"Michigan (MI)",code:"MI"},{name:"Minnesota (MN)",code:"MN"},{name:"Mississippi (MS)",code:"MS"},{name:"Missouri (MO)",code:"MO"},{name:"Montana (MT)",code:"MT"},{name:"Nebraska (NE)",code:"NE"},{name:"Nevada (NV)",code:"NV"},{name:"New Hampshire (NH)",code:"NH"},{name:"New Jersey (NJ)",code:"NJ"},{name:"New Mexico (NM)",code:"NM"},{name:"New York (NY)",code:"NY"},{name:"North Carolina (NC)",code:"NC"},{name:"North Dakota (ND)",code:"ND"},{name:"Northern Mariana Islands (MP)",code:"MP"},{name:"Ohio (OH)",code:"OH"},{name:"Oklahoma (OK)",code:"OK"},{name:"Oregon (OR)",code:"OR"},{name:"Palau (PW)",code:"PW"},{name:"Pennsylvania (PA)",code:"PA"},{name:"Puerto Rico (PR)",code:"PR"},{name:"Rhode Island (RI)",code:"RI"},{name:"South Carolina (SC)",code:"SC"},{name:"South Dakota (SD)",code:"SD"},{name:"Tennessee (TN)",code:"TN"},{name:"Texas (TX)",code:"TX"},{name:"Utah (UT)",code:"UT"},{name:"Vermont (VT)",code:"VT"},{name:"Virgin Islands (VI)",code:"VI"},{name:"Virginia (VA)",code:"VA"},{name:"Washington (WA)",code:"WA"},{name:"West Virginia (WV)",code:"WV"},{name:"Wisconsin (WI)",code:"WI"},{name:"Wyoming (WY)",code:"WY"}],Ex=[{name:"Wakefield VA (KAKQ)",code:"KAKQ"},{name:"Albany NY (KALY)",code:"KALY"},{name:"Binghamton NY (KBGM)",code:"KBGM"},{name:"Boston/Norton MA (KBOX)",code:"KBOX"},{name:"Burlington VT (KBTV)",code:"KBTV"},{name:"Buffalo NY (KBUF)",code:"KBUF"},{name:"Columbia SC (KCAE)",code:"KCAE"},{name:"Caribou ME (KCAR)",code:"KCAR"},{name:"Charleston SC (KCHS)",code:"KCHS"},{name:"Cleveland OH (KCLE)",code:"KCLE"},{name:"State College PA (KCTP)",code:"KCTP"},{name:"Greenville-Spartanburg SC (KGSP)",code:"KGSP"},{name:"Gray ME (KGYX)",code:"KGYX"},{name:"Wilmington NC (KILM)",code:"KILM"},{name:"Wilmington OH (KILN)",code:"KILN"},{name:"Baltimore MD/Washington DC (KLWX)",code:"KLWX"},{name:"Newport/Morehead City NC (KMHX)",code:"KMHX"},{name:"New York NY (KOKX)",code:"KOKX"},{name:"Pittsburgh PA (KPBZ)",code:"KPBZ"},{name:"Mount Holly NJ (KPHI)",code:"KPHI"},{name:"Raleigh NC (KRAH)",code:"KRAH"},{name:"Charleston WV (KRLX)",code:"KRLX"},{name:"Blacksburg VA (KRNK)",code:"KRNK"},{name:"Albuquerque NM (KABQ)",code:"KABQ"},{name:"Amarillo TX (KAMA)",code:"KAMA"},{name:"Birmingham AL (KBMX)",code:"KBMX"},{name:"Brownsville TX (KBRO)",code:"KBRO"},{name:"Corpus Christi TX (KCRP)",code:"KCRP"},{name:"El Paso TX/Santa Teresa NM (KEPZ)",code:"KEPZ"},{name:"Austin/San Antonio TX (KEWX)",code:"KEWX"},{name:"Peachtree City GA (KFFC)",code:"KFFC"},{name:"Fort Worth TX (KFWD)",code:"KFWD"},{name:"Houston/Galveston TX (KHGX)",code:"KHGX"},{name:"Huntsville AL (KHUN)",code:"KHUN"},{name:"Jackson MS (KJAN)",code:"KJAN"},{name:"Jacksonville FL (KJAX)",code:"KJAX"},{name:"Key West FL (KKEY)",code:"KKEY"},{name:"Lake Charles LA (KLCH)",code:"KLCH"},{name:"New Orleans LA (KLIX)",code:"KLIX"},{name:"Lubbock TX (KLUB)",code:"KLUB"},{name:"Little Rock AR (KLZK)",code:"KLZK"},{name:"Midland/Odessa TX (KMAF)",code:"KMAF"},{name:"Memphis TN (KMEG)",code:"KMEG"},{name:"Miami FL (KMFL)",code:"KMFL"},{name:"Melbourne FL (KMLB)",code:"KMLB"},{name:"Mobile AL (KMOB)",code:"KMOB"},{name:"Morristown TN (KMRX)",code:"KMRX"},{name:"Nashville TN (KOHX)",code:"KOHX"},{name:"Norman OK (KOUN)",code:"KOUN"},{name:"Shreveport LA (KSHV)",code:"KSHV"},{name:"San Angelo TX (KSJT)",code:"KSJT"},{name:"San Juan PR (KSJU)",code:"KSJU"},{name:"Tallahassee FL (KTAE)",code:"KTAE"},{name:"Tampa Bay Ruskin FL (KTBW)",code:"KTBW"},{name:"Tulsa OK (KTSA)",code:"KTSA"},{name:"Aberdeen SD (KABR)",code:"KABR"},{name:"Gaylord MI (KAPX)",code:"KAPX"},{name:"La Crosse WI (KARX)",code:"KARX"},{name:"Bismarck ND (KBIS)",code:"KBIS"},{name:"Denver/Boulder CO (KBOU)",code:"KBOU"},{name:"Cheyenne WY (KCYS)",code:"KCYS"},{name:"Dodge City KS (KDDC)",code:"KDDC"},{name:"Duluth MN (KDLH)",code:"KDLH"},{name:"Des Moines IA (KDMX)",code:"KDMX"},{name:"Detroit/Pontiac MI (KDTX)",code:"KDTX"},{name:"Quad Cities IA IL (KDVN)",code:"KDVN"},{name:"Kansas City/Pleasant Hill MO (KEAX)",code:"KEAX"},{name:"Grand Forks ND (KFGF)",code:"KFGF"},{name:"Sioux Falls SD (KFSD)",code:"KFSD"},{name:"Hastings NE (KGID)",code:"KGID"},{name:"Grand Junction CO (KGJT)",code:"KGJT"},{name:"Goodland KS (KGLD)",code:"KGLD"},{name:"Green Bay WI (KGRB)",code:"KGRB"},{name:"Grand Rapids MI (KGRR)",code:"KGRR"},{name:"Wichita KS (KICT)",code:"KICT"},{name:"Lincoln IL (KILX)",code:"KILX"},{name:"Indianapolis IN (KIND)",code:"KIND"},{name:"Northern Indiana (KIWX)",code:"KIWX"},{name:"Jackson KY (KJKL)",code:"KJKL"},{name:"North Platte NE (KLBF)",code:"KLBF"},{name:"Louisville KY (KLMK)",code:"KLMK"},{name:"Chicago/Romeoville, IL (KLOT)",code:"KLOT"},{name:"Saint Louis MO (KLSX)",code:"KLSX"},{name:"Milwaukee/Sullivan WI (KMKX)",code:"KMKX"},{name:"Twin Cities/Chanhassen MN (KMPX)",code:"KMPX"},{name:"Marquette MI (KMQT)",code:"KMQT"},{name:"Omaha/Valley NE (KOAX)",code:"KOAX"},{name:"Paducah KY (KPAH)",code:"KPAH"},{name:"Pueblo CO (KPUB)",code:"KPUB"},{name:"Riverton WY (KRIW)",code:"KRIW"},{name:"Springfield MO (KSGF)",code:"KSGF"},{name:"Topeka KS (KTOP)",code:"KTOP"},{name:"Rapid City SD (KUNR)",code:"KUNR"},{name:"Boise ID (KBOI)",code:"KBOI"},{name:"Billings MT (KBYZ)",code:"KBYZ"},{name:"Eureka CA (KEKA)",code:"KEKA"},{name:"Flagstaff AZ (KFGZ)",code:"KFGZ"},{name:"Glasgow MT (KGGW)",code:"KGGW"},{name:"Hanford CA (KHNX)",code:"KHNX"},{name:"Elko NV (KLKN)",code:"KLKN"},{name:"Los Angeles/Oxnard CA (KLOX)",code:"KLOX"},{name:"Medford OR (KMFR)",code:"KMFR"},{name:"Missoula MT (KMSO)",code:"KMSO"},{name:"San Francisco CA (KMTR)",code:"KMTR"},{name:"Spokane WA (KOTX)",code:"KOTX"},{name:"Pendleton OR (KPDT)",code:"KPDT"},{name:"Pocatello ID (KPIH)",code:"KPIH"},{name:"Portland OR (KPQR)",code:"KPQR"},{name:"Phoenix AZ (KPSR)",code:"KPSR"},{name:"Reno NV (KREV)",code:"KREV"},{name:"Seattle WA (KSEW)",code:"KSEW"},{name:"San Diego CA (KSGX)",code:"KSGX"},{name:"Salt Lake City UT (KSLC)",code:"KSLC"},{name:"Sacramento CA (KSTO)",code:"KSTO"},{name:"Great Falls MT (KTFX)",code:"KTFX"},{name:"Tucson AZ (KTWC)",code:"KTWC"},{name:"Las Vegas NV (KVEF)",code:"KVEF"},{name:"Anchorage AK (KAFC)",code:"KAFC"},{name:"Fairbanks AK (KAFG)",code:"KAFG"},{name:"Juneau AK (KAJK)",code:"KAJK"},{name:"Tiyan GU (PGUM)",code:"PGUM"},{name:"Honolulu HI (PHFO)",code:"PHFO"},{name:"Pago Pago AS (KPPG)",code:"KPPG"},{name:"Storm Prediction Center (KWNS)",code:"KWNS"}],ys=ae({__name:"AlertToggle",props:{enabled:{}},emits:["update:enabled"],setup(i){return(e,t)=>(c(),p("button",{class:O(["relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800",e.enabled?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"]),onClick:t[0]||(t[0]=o=>e.$emit("update:enabled",!e.enabled))},[s("span",{class:O(["inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200",e.enabled?"translate-x-7":"translate-x-1"])},null,2)],2))}}),Lx={class:"flex items-center gap-4"},Rx={class:"dark:text-white text-lg font-medium"},Fx={class:"flex items-center gap-4"},Mx=ae({__name:"AlertItem",props:{alert:{}},emits:["update:enabled"],setup(i){const e=$o(),t=gt(),o=i,a=de(()=>t.config[o.alert.country_iso][o.alert.id]);return(r,n)=>(c(),p("div",{class:"flex items-center justify-between py-3 px-4 transition-colors duration-200 hover:bg-gray-100 dark:hover:bg-gray-700/50 cursor-pointer group",onClick:n[2]||(n[2]=l=>u(e).setSelectedAlert(r.alert))},[s("div",Lx,[s("div",{class:"h-6 w-6 rounded ring-1 ring-white",style:pe({backgroundColor:a.value.color})},null,4),s("span",Rx,_(r.alert.name),1)]),s("div",Fx,[b(ys,{enabled:a.value.enabled,"onUpdate:enabled":n[0]||(n[0]=l=>r.$emit("update:enabled",{alert:r.alert,enabled:l})),onClick:n[1]||(n[1]=P(()=>{},["stop"]))},null,8,["enabled"]),b(u(T),{icon:"mdi:chevron-right",class:"w-5 h-5 text-gray-400 group-hover:text-gray-500 dark:group-hover:text-gray-300 transition-colors"})])]))}}),Px={class:"dark:text-gray-700 dark:text-gray-300 dark:bg-gray-800 rounded-lg mb-6 overflow-hidden"},Hx={class:"dark:bg-gray-700 px-4 py-2"},zx={class:"text-xl font-semibold dark:text-white"},Ox={class:"divide-y divide-gray-700"},tr=ae({__name:"AlertSection",props:{section:{},filterAlerts:{}},emits:["update:enabled"],setup(i){const e=i;return(t,o)=>(c(),p("div",Px,[s("div",Hx,[s("h2",zx,_(t.section.title),1)]),s("div",Ox,[(c(!0),p(z,null,ee(t.section.alerts.filter(e.filterAlerts),(a,r)=>(c(),q(Mx,{key:a.id,alert:a,"onUpdate:enabled":o[0]||(o[0]=n=>t.$emit("update:enabled",n))},null,8,["alert"]))),128))])]))}}),Kx={class:"mt-3"},Ux={class:"max-w-3xl mx-auto space-y-6"},$x={class:"relative"},Xx={class:"flex flex-wrap gap-1 p-1.5 dark:bg-gray-800/40 backdrop-blur-lg rounded-2xl border border-white/5"},Wx=["onClick"],Vx={class:"relative"},Gx={key:0,class:"sm:hidden"},jx={class:"flex"},Zx=["value","textContent"],Yx={class:"relative mr-2"},Jx={key:3,class:"pb-3 cursor-pointer group"},Qx={class:"flex items-center justify-between mt-5"},qx={class:"flex items-center gap-4"},e_={class:"flex items-center justify-between mt-5"},t_={class:"flex items-center gap-4"},o_={class:"mt-5"},s_={class:"grid grid-cols-[1fr_auto] gap-4 items-start"},a_={class:"space-y-1"},r_={class:"flex justify-between px-1 pointer-events-none"},i_={class:"text-xs font-bold text-gray-500 dark:text-gray-400"},n_={class:"flex items-center justify-between mt-5"},l_={class:"flex items-center gap-4"},c_={class:"dark:text-white text-lg font-medium"},d_={class:"flex items-center gap-4"},u_=["disabled"],p_={class:"mt-5"},m_={class:"mb-2"},h_={class:"dark:text-white text-lg font-bold"},g_={class:"flex items-center justify-between"},f_={class:"flex items-center gap-4"},y_={class:"flex items-center justify-between mt-2"},N_={class:"flex items-center gap-4"},v_={class:"flex items-center justify-between mt-2"},b_={class:"flex items-center gap-4"},w_={key:0},x_={key:4,class:"w-full"},__=ae({__name:"WeatherAlerts",setup(i){const e=$o(),t=$t(),o=gt(),a=we(),{activeTab:r}=Oe(e),n=H(!1),l=At("desktop-search-input"),d=H(""),m=H(!1),h=At("mobile-search-input"),f=H(""),y=H(""),N=()=>{n.value=!n.value,n.value&&setTimeout(()=>{var M;(M=l.value)==null||M.focus()},100)},w=()=>{m.value=!m.value,m.value&&setTimeout(()=>{var M;(M=h.value)==null||M.focus()},100)},S=(M,D)=>{const k=M==="desktop"?l.value:h.value,F=(k==null?void 0:k.value)||"";M==="desktop"?d.value=F:f.value=F,y.value=F},v=(M,D)=>{const k=M==="desktop"?l.value:h.value;((k==null?void 0:k.value)||"").length===0&&(M==="desktop"?n.value=!1:m.value=!1)},A=M=>{const D=M==="desktop"?l.value:h.value;D&&(D.value="",M==="desktop"?(d.value="",n.value=!1):(f.value="",m.value=!1),y.value="")},B=M=>{o.config[M.alert.country_iso][M.alert.id].enabled=M.enabled,t.features.find(D=>D.geometry===null)!==void 0&&t.loadGeometryForLocalFeatures()},I=()=>{confirm("Are you sure you want to reset all settings to default?")&&(o.config.USA={...ms()})},R=de(()=>JSON.stringify(o.config.USA)!==JSON.stringify(ms()));return(M,D)=>(c(),p("div",Kx,[s("div",Ux,[s("div",{class:O(["flex justify-center mb-6",{"hidden sm:flex":u(ss).length>2}])},[V(s("div",$x,[s("div",Xx,[s("button",{key:"general",onClick:D[0]||(D[0]=k=>u(e).setActiveTab("general")),class:O(["relative px-3 py-2 font-bold rounded-lg transition-all duration-300 z-10",{"text-white bg-blue-700 hover:bg-blue-800 active":u(r)==="general","hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":u(r)!=="general"}])}," General ",2),(c(!0),p(z,null,ee(u(ss),k=>(c(),p("button",{key:k.id,onClick:F=>u(e).setActiveTab(k.id),class:O(["relative px-3 py-2 font-bold rounded-lg transition-all duration-300 z-10",{"text-white bg-blue-700 hover:bg-blue-800 active":u(r)===k.id,"hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":u(r)!==k.id}])},_(k.label),11,Wx))),128))])],512),[[be,!n.value]]),s("div",{class:O(["flex flex-wrap gap-1 p-1.5 dark:bg-gray-800/40 backdrop-blur-lg rounded-2xl border border-white/5",{"ml-2":!n.value}])},[V(s("div",null,[s("div",Vx,[s("input",{type:"text",ref:"desktop-search-input",onKeyup:D[1]||(D[1]=k=>S("desktop")),onBlur:D[2]||(D[2]=k=>v("desktop")),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search...",size:"50"},null,544),V(s("button",{onClick:D[3]||(D[3]=k=>A("desktop")),class:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",type:"button"},[b(u(T),{icon:"material-symbols:close",class:"size-5"})],512),[[be,d.value.length>0]])])],512),[[be,n.value]]),s("button",{class:O(["relative px-2 py-2 font-bold rounded-lg transition-all duration-300 z-10",{"text-white bg-blue-700 hover:bg-blue-800 active":n.value,"hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":!n.value}]),onClick:N},[b(u(T),{icon:"material-symbols:search-rounded",class:"size-6"})],2)],2)],2),u(ss).length>2?(c(),p("div",Gx,[s("div",jx,[V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5","onUpdate:modelValue":D[4]||(D[4]=k=>Ri(r)?r.value=k:null)},[D[20]||(D[20]=s("option",{value:"general"},"General",-1)),(c(!0),p(z,null,ee(u(ss),k=>(c(),p("option",{value:k.id,textContent:_(k.label)},null,8,Zx))),256))],512),[[be,!m.value],[Qe,u(r)]]),V(s("div",null,[s("div",Yx,[s("input",{type:"text",ref:"mobile-search-input",onKeyup:D[5]||(D[5]=k=>S("mobile")),onBlur:D[6]||(D[6]=k=>v("mobile")),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search...",size:"50"},null,544),V(s("button",{onClick:D[7]||(D[7]=k=>A("mobile")),class:"absolute right-2.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",type:"button"},[b(u(T),{icon:"material-symbols:close",class:"size-5"})],512),[[be,f.value.length>0]])])],512),[[be,m.value]]),s("button",{class:O(["relative px-4 py-2 font-bold rounded-lg transition-all duration-300 z-10",{"text-white bg-blue-700 hover:bg-blue-800 active":m.value,"hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":!m.value}]),onClick:w},[b(u(T),{icon:"material-symbols:search-rounded",class:"size-6"})],2)])])):x("",!0),(n.value||m.value)&&y.value.length>0?(c(!0),p(z,{key:1},ee(u(e).sections,(k,F)=>(c(),p(z,{key:k.significance},[k.alerts.some(E=>E.name.toLowerCase().includes(y.value.toLowerCase()))?(c(),q(tr,{key:0,section:k,"filter-alerts":E=>E.name.toLowerCase().includes(y.value.toLowerCase()),"onUpdate:enabled":D[8]||(D[8]=E=>B(E))},null,8,["section","filter-alerts"])):x("",!0)],64))),128)):(c(!0),p(z,{key:2},ee(u(e).sections,(k,F)=>(c(),p(z,{key:k.significance},[k.alerts.some(E=>E.category===u(r))?(c(),q(tr,{key:0,section:k,"filter-alerts":E=>E.category===u(r),"onUpdate:enabled":D[9]||(D[9]=E=>B(E))},null,8,["section","filter-alerts"])):x("",!0)],64))),128)),u(r)==="general"&&y.value.length===0?(c(),p("div",Jx,[s("div",Qx,[D[21]||(D[21]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"dark:text-white text-lg font-medium"},"Show Storm Motion Arrows")],-1)),s("div",qx,[b(ys,{enabled:u(o).show_storm_motion,"onUpdate:enabled":D[10]||(D[10]=k=>u(o).toggleShowStormMotion()),onClick:D[11]||(D[11]=P(()=>{},["stop"]))},null,8,["enabled"])])]),s("div",e_,[D[23]||(D[23]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"dark:text-white text-lg font-medium"},"Popup Detail")],-1)),s("div",t_,[V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":D[12]||(D[12]=k=>u(o).popup.view=k)},D[22]||(D[22]=[s("option",{value:"DETAILED"},"Detailed",-1),s("option",{value:"SIMPLE"},"Simple",-1)]),512),[[Qe,u(o).popup.view]])])]),s("div",o_,[D[28]||(D[28]=s("div",{class:"mb-2"},[s("span",{class:"dark:text-white text-lg font-medium"},"Outline")],-1)),s("div",s_,[s("div",null,[D[26]||(D[26]=s("label",{class:"block text-sm font-medium mb-1 pointer-events-none"}," Thickness ",-1)),s("div",a_,[V(s("input",{type:"range","onUpdate:modelValue":D[13]||(D[13]=k=>u(o).polygons.line_halo_width=k),min:"0",max:"8",step:"0.5",class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider"},null,512),[[qe,u(o).polygons.line_halo_width,void 0,{number:!0}]]),s("div",r_,[D[24]||(D[24]=s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Thin",-1)),s("span",i_,_(u(o).polygons.line_halo_width)+"px",1),D[25]||(D[25]=s("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Thick",-1))])])]),s("div",null,[D[27]||(D[27]=s("label",{class:"block text-sm font-medium mb-1 pointer-events-none"}," Color ",-1)),V(s("input",{type:"color","onUpdate:modelValue":D[14]||(D[14]=k=>u(o).polygons.line_halo_color=k),class:"h-8 w-12 rounded cursor-pointer border border-[#2563eb]"},null,512),[[qe,u(o).polygons.line_halo_color]])])])]),s("div",n_,[s("div",l_,[s("span",c_,[D[29]||(D[29]=L("Sorting in Sidebar ")),b(Ke,{class:"ml-1"})])]),s("div",d_,[V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full rounded-lg p-1","onUpdate:modelValue":D[15]||(D[15]=k=>u(o).sort_by=k),disabled:!u(a).isAtleast(u(a).tiers.PLUS)},[D[34]||(D[34]=ye('<option value="ISSUANCE-A-Z">Issuance (Oldest First)</option><option value="ISSUANCE-Z-A">Issuance (Newest First)</option><option value="START-A-Z">Start (Oldest First)</option><option value="START-Z-A">Start (Soonest First)</option><option value="EXPIRES-A-Z">Expiration (Oldest First)</option><option value="EXPIRES-Z-A">Expiration (Soonest First)</option>',6)),x("",!0)],8,u_),[[Qe,u(o).sort_by]])])]),s("div",p_,[s("div",m_,[s("span",h_,[D[35]||(D[35]=L("Filtering ")),b(Ke,{class:"ml-1"})])]),s("div",g_,[D[36]||(D[36]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"dark:text-white text-lg font-medium"},"Show Only Active Alerts")],-1)),s("div",f_,[b(ys,{disabled:!u(a).isAtleast(u(a).tiers.PLUS),enabled:u(o).filter.active,"onUpdate:enabled":D[16]||(D[16]=k=>u(o).toggleFilterActive()),onClick:D[17]||(D[17]=P(()=>{},["stop"]))},null,8,["disabled","enabled"])])]),s("div",y_,[D[37]||(D[37]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"dark:text-white text-lg font-medium"},"US States")],-1)),s("div",N_,[b(u(Ma),{modelValue:u(o).filter.country.USA.states,"onUpdate:modelValue":D[18]||(D[18]=k=>u(o).filter.country.USA.states=k),disabled:!u(a).isAtleast(u(a).tiers.PLUS),options:u(Ix),filter:!1,showToggleAll:!1,optionLabel:"name",optionValue:"code",placeholder:"Select States",class:"max-w-48 sm:max-w-96 bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full rounded-lg"},null,8,["modelValue","disabled","options"])])]),s("div",v_,[D[38]||(D[38]=s("div",{class:"flex items-center gap-4"},[s("span",{class:"dark:text-white text-lg font-medium"},"US Weather Offices (WFOs)")],-1)),s("div",b_,[b(u(Ma),{modelValue:u(o).filter.country.USA.offices,"onUpdate:modelValue":D[19]||(D[19]=k=>u(o).filter.country.USA.offices=k),disabled:!u(a).isAtleast(u(a).tiers.PLUS),options:u(Ex),filter:!1,showToggleAll:!1,optionLabel:"name",optionValue:"code",placeholder:"Select Offices",class:"max-w-48 sm:max-w-96 bg-gray-50 border border-gray-300 text-gray-900 text-sm block w-full rounded-lg"},null,8,["modelValue","disabled","options"])])]),u(o).filter.country.USA.offices.length>0&&(u(o).config.USA["TO.A"].enabled||u(o).config.USA["SV.A"].enabled)&&!u(o).filter.country.USA.offices.includes("KWNS")?(c(),p("div",w_,D[39]||(D[39]=[s("div",{class:"flex items-center p-4 mt-4 mb-4 text-sm text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},[s("svg",{class:"shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),s("div",null,[s("span",{class:"font-bold"},"Warning!"),L(" You have the Tornado or Severe Thunderstorm Watches enabled, but these won't be visible unless you include the 'Storm Prediction Center (KWNS)' in the WFO filtering. ")])],-1)]))):x("",!0)])])):x("",!0),R.value?(c(),p("div",x_,[s("button",{class:"w-full mt-10 px-2.5 py-2 pt-1.5 text-sm font-medium text-white dark:text-gray-100 bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 rounded-lg",onClick:I}," Reset All ")])):x("",!0)])]))}}),S_={class:"mt-3"},k_={class:"max-w-3xl mx-auto"},A_={class:"dark:bg-gray-800 rounded-lg overflow-hidden mb-6"},C_={class:"dark:bg-gray-700 px-6 py-4 flex items-center justify-between"},T_={class:"flex items-center gap-4"},B_={class:"text-2xl font-bold dar:text-white"},D_={class:"p-6 space-y-8"},I_={class:"space-y-6"},E_={class:"flex items-center gap-4"},L_=["value"],R_={class:"flex items-center gap-4"},F_=["value"],M_=["textContent"],P_={class:"flex items-center gap-4"},H_=["value"],z_=["textContent"],O_={key:0},K_={class:"mt-3"},U_={class:"grid grid-cols-3 gap-4"},$_={class:"space-y-1"},X_={class:"space-y-1"},W_={class:"flex items-center gap-4"},V_={class:"flex items-center gap-2"},G_=["value"],j_={class:"flex items-center gap-4"},Z_={key:0,class:"w-full"},Y_=ae({__name:"AlertDetails",setup(i){const e=$o(),t=gt(),{playSound:o}=Vr(),a=[{value:"none",label:"None"},{value:"default",label:"Default"},{value:"urgent",label:"Urgent"},{value:"emergency",label:"Emergency"}],r=(f,y)=>{t.config[e.selectedAlert.country_iso][e.selectedAlert.id][f]=y},n=()=>{e.selectedAlert&&o(m.value.sound.id)},l=()=>{e.setSelectedAlert(null)},d=()=>{confirm("Are you sure you want to reset to default?")&&(t.config[e.selectedAlert.country_iso][e.selectedAlert.id]={...ps(e.selectedAlert.id)})},m=de(()=>t.config[e.selectedAlert.country_iso][e.selectedAlert.id]),h=de(()=>JSON.stringify(t.config[e.selectedAlert.country_iso][e.selectedAlert.id])!==JSON.stringify(ps(e.selectedAlert.id)));return(f,y)=>{var N;return c(),p("div",S_,[s("div",k_,[s("button",{onClick:l,class:"hover:text-gray-500 dark:text-gray-400 dark:hover:text-white mb-6 flex items-center gap-2"},[b(u(T),{icon:"mdi:arrow-left",class:"w-5 h-5"}),y[8]||(y[8]=s("span",null,"Back to Alerts",-1))]),s("div",A_,[s("div",C_,[s("div",T_,[s("div",{class:"h-8 w-8 rounded ring-1 ring-white",style:pe({backgroundColor:m.value.color})},null,4),s("h1",B_,_((N=u(e).selectedAlert)==null?void 0:N.name),1)]),b(ys,{enabled:m.value.enabled,"onUpdate:enabled":y[0]||(y[0]=w=>r("enabled",w))},null,8,["enabled"])]),s("div",D_,[s("div",null,[s("div",I_,[s("div",E_,[y[9]||(y[9]=s("label",{class:"dark:text-gray-300 w-40 font-bold"},"Color",-1)),s("input",{type:"color",value:m.value.color,onInput:y[1]||(y[1]=w=>r("color",w.target.value)),class:"h-10 w-20 rounded cursor-pointer border border-[#2563eb]"},null,40,L_)]),s("div",R_,[y[10]||(y[10]=s("label",{class:"dark:text-gray-300 w-40 font-bold"},"Border Thickness",-1)),s("input",{type:"range",min:"0",max:"10",step:"0.5",value:m.value.line_width,onInput:y[2]||(y[2]=w=>r("line_width",Number(w.target.value))),class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider"},null,40,F_),s("span",{class:"min-w-16 text-center bg-ww-blue text-white border border-[#17274F] text-xs font-bold px-2.5 py-1 rounded-full inline-block mr-2 mb-1",textContent:_(`${m.value.line_width.toFixed(1)}px`)},null,8,M_)]),s("div",P_,[y[11]||(y[11]=s("label",{class:"dark:text-gray-300 w-40 font-bold"},"Fill Opacity",-1)),s("input",{type:"range",min:"0",max:"100",step:"5",value:m.value.fill_opacity*100,onInput:y[3]||(y[3]=w=>r("fill_opacity",Number(w.target.value)/100)),class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100 rounded-lg appearance-none cursor-pointer slider"},null,40,H_),s("span",{class:"min-w-16 text-center bg-ww-blue text-white border border-[#17274F] text-xs font-bold px-2.5 py-1 rounded-full inline-block mr-2 mb-1",textContent:_(`${Math.round(m.value.fill_opacity*100)}%`)},null,8,z_)]),m.value.line_width<.1&&m.value.fill_opacity<.1?(c(),p("div",O_,y[12]||(y[12]=[s("div",{class:"flex items-center p-4 mt-4 mb-4 text-sm text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},[s("svg",{class:"shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})]),s("div",null,[s("span",{class:"font-bold"},"Warning!"),L(" You have set the border thickness to 0 and the opacity to 0 which means those polygons will not be visible. ")])],-1)]))):x("",!0),s("div",null,[s("div",K_,[y[18]||(y[18]=s("div",{class:"mb-2"},[s("span",{class:"dark:text-white text-lg font-medium"},"Flash")],-1)),s("div",U_,[s("div",null,[y[14]||(y[14]=s("label",{class:"block text-sm font-medium mb-1 pointer-events-none"}," Duration ",-1)),s("div",$_,[V(s("select",{class:"w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":y[4]||(y[4]=w=>m.value.flash.duration=w)},y[13]||(y[13]=[ye('<option value="10000" data-v-783d6952>10 seconds</option><option value="20000" data-v-783d6952>20 seconds</option><option value="40000" data-v-783d6952>40 seconds</option><option value="60000" data-v-783d6952>60 seconds</option><option value="0" data-v-783d6952>Forever</option>',5)]),512),[[Qe,m.value.flash.duration,void 0,{number:!0}]])])]),s("div",null,[y[16]||(y[16]=s("label",{class:"block text-sm font-medium mb-1 pointer-events-none"}," Frequency ",-1)),s("div",X_,[V(s("select",{class:"w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":y[5]||(y[5]=w=>m.value.flash.interval=w)},y[15]||(y[15]=[s("option",{value:"250"},"250ms",-1),s("option",{value:"500"},"500ms",-1),s("option",{value:"800"},"800ms",-1),s("option",{value:"1000"},"1 second",-1)]),512),[[Qe,m.value.flash.interval,void 0,{number:!0}]])])]),s("div",null,[y[17]||(y[17]=s("label",{class:"block text-sm font-medium mb-1 pointer-events-none"}," Color ",-1)),V(s("input",{type:"color","onUpdate:modelValue":y[6]||(y[6]=w=>m.value.flash.line_color=w),class:"w-full h-8 rounded cursor-pointer border border-[#2563eb]"},null,512),[[qe,m.value.flash.line_color]])])])])]),s("div",W_,[y[19]||(y[19]=s("label",{class:"dark:text-gray-300 w-20 font-bold"},"Sound",-1)),s("div",V_,[V(s("select",{"onUpdate:modelValue":y[7]||(y[7]=w=>m.value.sound.id=w),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1"},[(c(),p(z,null,ee(a,w=>s("option",{key:w.value,value:w.value},_(w.label),9,G_)),64))],512),[[Qe,m.value.sound.id]]),m.value.sound.id!=="none"?(c(),p("button",{key:0,onClick:n,class:"p-2 dark:text-gray-300 hover:text-white transition-colors rounded-full hover:bg-gray-600",title:"Test sound"},[b(u(T),{icon:"mdi:volume-high",class:"w-5 h-5"})])):x("",!0)])]),s("div",j_,[h.value?(c(),p("div",Z_,[s("button",{class:"w-full mt-10 px-2.5 py-2 pt-1.5 text-sm font-medium text-white dark:text-gray-100 bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 rounded-lg",onClick:d}," Reset ")])):x("",!0)])])])])])])])}}}),J_=G(Y_,[["__scopeId","data-v-783d6952"]]),Q_={name:"SettingsModal"},q_=Object.assign(Q_,{setup(i){const e=$o();return(t,o)=>u(e).selectedAlert?(c(),q(J_,{key:0})):(c(),q(__,{key:1}))}}),e3={key:0,class:"font-bold capitalize"},t3=["textContent"],o3={key:0,class:"bg-red-100 text-red-800 text-xs font-bold px-1.5 py-0.5 rounded-lg dark:bg-red-900 dark:text-white uppercase my-1"},s3={key:1,class:"bg-red-100 text-red-800 text-xs font-bold px-1.5 py-0.5 rounded-lg dark:bg-red-900 dark:text-white uppercase my-1"},a3={key:2},r3={class:"font-bold capitalize"},i3={key:3},n3={class:"font-bold"},l3={key:0,class:"font-bold capitalize"},c3={key:4},d3={class:"font-bold"},u3={key:5},p3={class:"font-bold"},m3={key:0,class:"font-bold capitalize"},h3={key:6},g3={class:"font-bold"},f3={key:7},y3={class:"font-bold capitalize"},N3={key:8},v3={class:"font-bold capitalize"},b3={key:9},w3={class:"font-bold capitalize"},x3={key:10},_3={class:"grid grid-cols-2"},S3={class:"pr-2"},k3={class:"font-bold"},A3={class:"font-bold"},C3={class:"pr-2"},T3={class:"font-bold"},B3={class:"font-bold"},D3={key:11},I3={class:"font-bold capitalize"},E3={key:12},L3={class:"font-bold capitalize"},R3={key:13},F3={class:"font-bold capitalize"},M3={key:0},P3={class:"font-bold capitalize"},H3={key:1,class:"max-w-[240px]"},z3={class:"font-bold capitalize"},O3={key:2,class:"max-w-[240px]"},K3={class:"font-bold capitalize"},U3={key:3},$3={class:"font-bold capitalize"},X3={class:"font-bold"},W3={key:0},V3=["innerHTML"],G3=ae({__name:"WarningPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){const e=gt(),t=i,o=!(t.feature.properties.product==="RHY"&&t.feature.properties.significance==="Y"),a=()=>{o&&(t==null||t.onClick())};return(r,n)=>{var l,d;return c(),p("div",{class:O(["flex justify-between cursor-pointer",{"mb-2":!r.isLast}]),onClick:a},[s("div",{class:"border-l-2 pl-2",style:pe({borderColor:r.feature.properties["fill-color"]})},[s("div",null,[r.feature.properties.product==="RHY"&&r.feature.properties.significance==="Y"?(c(),p("span",e3,"Y'all Watch: ")):x("",!0),s("span",{class:"font-bold capitalize",textContent:_(r.feature.properties.title)},null,8,t3)]),u(e).popup.view==="DETAILED"?(c(),p(z,{key:0},[r.feature.properties.tags.PDS===!0?(c(),p("div",o3,"Particularly Dangerous Situation")):x("",!0),r.feature.properties.tags.EDS===!0?(c(),p("div",s3,"Extremely Dangerous Situation")):x("",!0),r.feature.properties.tags.TORNADO?(c(),p("div",a3,[n[0]||(n[0]=L("Tornado: ")),s("span",r3,_(r.feature.properties.tags.TORNADO.toLowerCase()),1)])):x("",!0),r.feature.properties.tags.MAX_HAIL_SIZE&&!r.feature.properties.tags.MAX_HAIL_SIZE.includes("0.00")?(c(),p("div",i3,[n[1]||(n[1]=L("Hail: ")),s("span",n3,_(r.feature.properties.tags.MAX_HAIL_SIZE.replace(" IN",'"')),1),r.feature.properties.tags.HAIL_THREAT?(c(),p("span",l3,", "+_(r.feature.properties.tags.HAIL_THREAT.toLowerCase()),1)):x("",!0)])):x("",!0),r.feature.properties.tags.HAIL&&!r.feature.properties.tags.HAIL.includes("0.00")?(c(),p("div",c3,[n[2]||(n[2]=L("Hail: ")),s("span",d3,_(r.feature.properties.tags.HAIL.replace("IN",'"')),1)])):x("",!0),r.feature.properties.tags.MAX_WIND_GUST?(c(),p("div",u3,[n[3]||(n[3]=L("Wind: ")),s("span",p3,_(r.feature.properties.tags.MAX_WIND_GUST),1),r.feature.properties.tags.WIND_THREAT?(c(),p("span",m3,", "+_(r.feature.properties.tags.WIND_THREAT.toLowerCase()),1)):x("",!0)])):x("",!0),r.feature.properties.tags.WIND&&!r.feature.properties.tags.WIND.includes("0.00")?(c(),p("div",h3,[n[4]||(n[4]=L("Wind: ")),s("span",g3,_(r.feature.properties.tags.WIND),1)])):x("",!0),r.feature.properties.tags.FLASH_FLOOD?(c(),p("div",f3,[n[5]||(n[5]=L("Flash Flood: ")),s("span",y3,_(r.feature.properties.tags.FLASH_FLOOD.toLowerCase()),1)])):x("",!0),r.feature.properties.tags.EXPECTED_RAINFALL_RATE?(c(),p("div",N3,[n[6]||(n[6]=L("Expected RR: ")),s("span",v3,_(r.feature.properties.tags.EXPECTED_RAINFALL_RATE.toLowerCase()),1)])):x("",!0),r.feature.properties.tags.WATERSPOUT?(c(),p("div",b3,[n[7]||(n[7]=L("Waterspout: ")),s("span",w3,_(r.feature.properties.tags.WATERSPOUT.toLowerCase()),1)])):x("",!0),(d=(l=r.feature.properties)==null?void 0:l.tags)!=null&&d.PROBS?(c(),p("div",x3,[s("div",_3,[s("div",S3,[n[8]||(n[8]=L("Tornado: ")),s("span",k3,_(r.feature.properties.tags.PROBS["2_or_more_tornadoes"]),1)]),s("div",null,[n[9]||(n[9]=L("Wind: ")),s("span",A3,_(r.feature.properties.tags.PROBS["10_or_more_severe_wind_events"]),1)]),s("div",C3,[n[10]||(n[10]=L("Hail: ")),s("span",T3,_(r.feature.properties.tags.PROBS["10_or_more_severe_hail_events"]),1)]),s("div",null,[n[11]||(n[11]=L("Combined: ")),s("span",B3,_(r.feature.properties.tags.PROBS["6_or_more_combined_severe_hail_wind_events"]),1)])])])):x("",!0),r.feature.properties.tags.THUNDERSTORM_DAMAGE_THREAT?(c(),p("div",D3,[n[12]||(n[12]=L("Damage Threat: ")),s("span",I3,_(r.feature.properties.tags.THUNDERSTORM_DAMAGE_THREAT.toLowerCase()),1)])):x("",!0),r.feature.properties.tags.FLASH_FLOOD_DAMAGE_THREAT?(c(),p("div",E3,[n[13]||(n[13]=L("Damage Threat: ")),s("span",L3,_(r.feature.properties.tags.FLASH_FLOOD_DAMAGE_THREAT.toLowerCase()),1)])):x("",!0),r.feature.properties.tags.TORNADO_DAMAGE_THREAT?(c(),p("div",R3,[n[14]||(n[14]=L("Damage Threat: ")),s("span",F3,_(r.feature.properties.tags.TORNADO_DAMAGE_THREAT.toLowerCase()),1)])):x("",!0),r.feature.properties.product==="RHY"&&r.feature.properties.significance==="Y"?(c(),p(z,{key:14},[r.feature.properties.confidenceLevel?(c(),p("div",M3,[n[15]||(n[15]=L("Confidence: ")),s("span",P3,_(r.feature.properties.confidenceLevel),1)])):x("",!0),r.feature.properties.cities?(c(),p("div",H3,[n[16]||(n[16]=L("Cities: ")),s("span",z3,_(r.feature.properties.cities.join(", ")),1)])):x("",!0),r.feature.properties.counties?(c(),p("div",O3,[n[17]||(n[17]=L("Counties: ")),s("span",K3,_(r.feature.properties.counties.join(", ")),1)])):x("",!0),r.feature.properties.createdBy?(c(),p("div",U3,[n[18]||(n[18]=L("Issued By: ")),s("span",$3,_(r.feature.properties.createdBy.displayName),1)])):x("",!0)],64)):x("",!0)],64)):x("",!0),s("div",null,[n[19]||(n[19]=L("Expires ")),s("span",X3,_(u(Pe)(new Date(r.feature.properties.expires_at))),1)])],4),o?(c(),p("div",W3,[s("div",{class:"h-full",innerHTML:u(Ot)},null,8,V3)])):x("",!0)],2)}}});class j3{constructor(){this.warningsStore=$t(),this.settings=gt(),this.alertsStore=$o(),this.soundEffects=Vr(),this.warningsStore.init(),this.mode=vo,this.bufferedWarnings=[],this.bufferedMaxAge=0,this.renderOnlyIds=[],this.realtimeUpdatesEnabled=!0,this.normalSourceId="ww-warnings-source",this.emergencySourceId="ww-warnings-emergency-source",this.lineOutlineLayerId="ww-warnings-outline-layer",this.lineLayerId="ww-warnings-line-layer",this.emergencyLineLayerId="ww-warnings-emergency-line-layer",this.emergencyBackgroundLineLayerId="ww-warnings-emergency-background-line-layer",this.fillLayerId="ww-warnings-fill-layer",this.emergencyFillLayerId="ww-warnings-emergency-fill-layer",this.motionPointsSourceId="ww-warnings-motion-points-source",this.motionPointsLayerId="ww-warnings-motion-points-layer",this.motionPathSourceId="ww-warnings-motion-path-source",this.motionPathLayerId="ww-warnings-motion-path-layer",this.motionArrowHeadSourceId="ww-warnings-motion-arrow-head-source",this.motionArrowHeadLayerId="ww-warnings-motion-arrow-head-layer",this.layers=[this.lineOutlineLayerId,this.lineLayerId,this.emergencyLineLayerId,this.emergencyBackgroundLineLayerId,this.fillLayerId,this.emergencyFillLayerId,this.motionPointsLayerId,this.motionPathLayerId,this.motionArrowHeadLayerId],this.lineLayerLineWidth=["case",["boolean",["feature-state","flash"],!1],["*",["get","line-width"],2],["get","line-width"]],this.lineOutlineLayerLineWidth=["case",["boolean",["feature-state","flash"],!1],["+",["*",["get","line-width"],2],1],["case",[">",["get","line-width"],1],["+",["get","line-width"],["get","line-halo-width"]],0]],this.addLayer();const e=lt(h=>{const f=zr(h.features).map(y=>this.warningsStore.features.find(N=>N.properties.id===y.properties.id)).filter(y=>y!==void 0);if(f.length!==0)return()=>{const y=window.document.createElement("div");return f.forEach((N,w)=>{const S=window.document.createElement("div");Tt(Xt(G3,{feature:N,isLast:w===f.length-1,onClick:()=>{g.popups.clear(),this.openWarningModal(N)}}),S),y.appendChild(S)}),y}});g.on("click",this.emergencyFillLayerId,e),g.on("click",this.fillLayerId,e);const t=[[0,4,3],[.5,4,2.5],[1,4,2],[1.5,4,1.5],[2,4,1],[2.5,4,.5],[3,4,0],[0,.5,3,3.5],[0,1,3,3],[0,1.5,3,2.5],[0,2,3,2],[0,2.5,3,1.5],[0,3,3,1],[0,3.5,3,.5]];let o=0,a=null;tt(()=>this.warningsStore.features,()=>{const h=ge(this.warningsStore.features);this.render(h),a!==null&&(clearInterval(a),a=null),this.warningsStore.emergencyExists&&(a=setInterval(()=>{g.setPaintProperty(this.emergencyLineLayerId,"line-dasharray",t[o]),++o,o>=t.length&&(o=0)},50));for(const f of h){const y=`${f.properties.product}.${f.properties.significance}`,N=this.settings.config[f.properties.country_iso][y];if(N!==void 0&&(N.flash.duration<1||l[f.properties.id]!==void 0)){let w=0;typeof f.properties.tags=="object"&&typeof f.properties.tags.TIME_MOT_LOC=="object"&&(w=f.properties.tags.TIME_MOT_LOC.positions.length),d(f.properties.id,{at:new Date,emergency:f.properties.emergency,motion_length:w,flash:!0,flash_interval:N.flash.interval,flash_duration:N.flash.duration})}}}),this.render(ge(this.warningsStore.features)),(async()=>{await this.warningsStore.load(),this.mode=Ce;const h=new Ne;if(h.has("wcid")){const f=h.get("wcid"),y=this.warningsStore.features.find(N=>N.properties.common_id===f);if(y!==void 0){this.fitBounds(y),setTimeout(()=>{const N=Mt(y.geometry);C.radar.turnOnClosestOnlineRadar(N)},100),this.openWarningModal(y);return}}if(h.has("wid")){const f=h.get("wid"),y=this.warningsStore.features.find(N=>N.properties.id===f);if(y!==void 0)return h.has("wr")&&h.get("wr")==1&&(this.fitBounds(y),setTimeout(()=>{const N=Mt(y.geometry);C.radar.turnOnClosestOnlineRadar(N);const w=new Ne;w.delete("wr"),w.save()},500)),this.openWarningModal(y);await this.fetchWarningFromArchive(f)}})(),Yt().subscribeToAlerts();const r="warnings";te.roomJoin(r),te.on(r,async h=>{if(!this.realtimeUpdatesEnabled)return console.log("Incoming warning, but ignoring due to realtime updates disabled...");if(console.log("Warnings update",r,h,`Mode: ${this.mode}`),this.mode===Ce)["CAN","UPG"].includes(h.properties.action)?this.warningsStore.delete(h.properties.id)||this.warningsStore.deleteByCommonId(h.properties.common_id):await n(h);else if(this.mode===Pt){h.geometry===null&&(h.geometry=await this.warningsStore.fetchGeometry(h)),this.bufferedWarnings.push(h);const f=j.utc();f.subtract(this.bufferedMaxAge,"seconds"),this.bufferedWarnings=this.bufferedWarnings.filter(function(y){return!j.utc(y.properties.expires_at).isBefore(f)})}});const n=async h=>{if(await this.warningsStore.push(h),!Fr(h,this.settings.filter,Date.now())){console.log(`Warning ${h.properties.id} filtered out, skipping sound/flash.`);return}const f=`${h.properties.product}.${h.properties.significance}`,y=Ms(this.settings.config,f,h.properties.country_iso);this.soundEffects.playSound(y.sound.id);let N=0;typeof h.properties.tags=="object"&&typeof h.properties.tags.TIME_MOT_LOC=="object"&&(N=h.properties.tags.TIME_MOT_LOC.positions.length),d(h.properties.id,{at:new Date,emergency:h.properties.emergency,motion_length:N,flash:!0,flash_interval:y.flash.interval,flash_duration:y.flash.duration})},l={},d=(h,f)=>{const y=f.emergency===!0?this.emergencySourceId:this.normalSourceId,N=()=>{g.setFeatureState({source:y,id:h},{flash:!1});for(let S=0;S<f.motion_length;++S)g.setFeatureState({source:this.motionPointsSourceId,id:`${h}-${S}`},{flash:!1}),g.setFeatureState({source:this.motionPathSourceId,id:`${h}-${S}`},{flash:!1}),g.setFeatureState({source:this.motionArrowHeadSourceId,id:`${h}-${S}`},{flash:!1});clearInterval(l[h].interval),delete l[h]};if(l[h]!==void 0)if(l[h].config.flash_duration!==f.flash_duration)N();else if(l[h].config.flash_interval!==f.flash_interval)N();else return;const w=setInterval(()=>{const S=new Date().getTime();try{if(!this.warningsStore.featureExists(h)||f.flash_duration>1&&S-f.at.getTime()>f.flash_duration)return N();g.setFeatureState({source:y,id:h},{flash:f.flash});for(let v=0;v<f.motion_length;++v)g.setFeatureState({source:this.motionPointsSourceId,id:`${h}-${v}`},{flash:f.flash}),g.setFeatureState({source:this.motionPathSourceId,id:`${h}-${v}`},{flash:f.flash}),g.setFeatureState({source:this.motionArrowHeadSourceId,id:`${h}-${v}`},{flash:f.flash});f.flash=!f.flash}catch(v){console.error("Error in flash",v)}},f.flash_interval);l[h]={config:f,interval:w}},m=h=>{h.visible?this.show():this.hide()};this.settings.$subscribe((h,f)=>{m(f)}),m(this.settings)}flashFeature(e){const t=e.properties.emergency===!0?this.emergencySourceId:this.normalSourceId;let o=0;typeof e.properties.tags=="object"&&typeof e.properties.tags.TIME_MOT_LOC=="object"&&(o=e.properties.tags.TIME_MOT_LOC.positions.length),this.setWarningFlash(t,e.properties.id,o,!0),setTimeout(()=>{this.setWarningFlash(t,e.properties.id,o,!1)},500)}setWarningFlash(e,t,o,a){g.setFeatureState({source:e,id:t},{flash:a});for(let r=0;r<o;++r)g.setFeatureState({source:this.motionPointsSourceId,id:`${t}-${r}`},{flash:a}),g.setFeatureState({source:this.motionPathSourceId,id:`${t}-${r}`},{flash:a}),g.setFeatureState({source:this.motionArrowHeadSourceId,id:`${t}-${r}`},{flash:a})}addLayer(){g.addSource(this.normalSourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addSource(this.emergencySourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.emergencyLineLayerId,type:"line",source:this.emergencySourceId,layout:{"line-sort-key":["-",0,["get","line-sort-key"]],"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["boolean",["feature-state","flash"],!1],["get","line-flash-color"],["get","line-color"]],"line-opacity":["get","line-opacity"],"line-width":["case",["boolean",["feature-state","flash"],!1],["*",["get","line-width"],2],["*",["get","line-width"],1.5]],"line-dasharray":[0,4,3]}},"ww-top-middle-radar-layer-2"),g.addLayer({id:this.emergencyBackgroundLineLayerId,type:"line",source:this.emergencySourceId,layout:{"line-sort-key":["-",0,["get","line-sort-key"]],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-background-color"],"line-opacity":["get","line-opacity"],"line-width":["case",["boolean",["feature-state","flash"],!1],["*",["get","line-width"],2],["get","line-width"]]}},this.emergencyLineLayerId),g.addLayer({id:this.emergencyFillLayerId,type:"fill",source:this.emergencySourceId,layout:{"fill-sort-key":["-",0,["get","fill-sort-key"]]},paint:{"fill-color":["get","fill-color"],"fill-opacity":["get","fill-opacity"]}},"ww-bottom-middle-radar-layer"),g.addLayer({id:this.lineLayerId,type:"line",source:this.normalSourceId,layout:{"line-sort-key":["-",0,["get","line-sort-key"]],"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["boolean",["feature-state","flash"],!1],["get","line-flash-color"],["get","line-color"]],"line-opacity":["case",["boolean",["feature-state","flash"],!1],1,["get","line-opacity"]],"line-width":this.lineLayerLineWidth,"line-dasharray":["case",["has","line-dasharray"],["get","line-dasharray"],[1]]}},this.emergencyLineLayerId),g.addLayer({id:this.lineOutlineLayerId,type:"line",source:this.normalSourceId,layout:{"line-sort-key":["-",0,["get","line-sort-key"]],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-halo-color"],"line-opacity":["case",["boolean",["feature-state","flash"],!1],1,["get","line-opacity"]],"line-width":this.lineOutlineLayerLineWidth},filter:["any",["all",["!",["in",["concat",["get","product"],".",["get","significance"]],["literal",["RHY.Y"]]]]]]},this.lineLayerId),g.addLayer({id:this.fillLayerId,type:"fill",source:this.normalSourceId,layout:{"fill-sort-key":["-",0,["get","fill-sort-key"]]},paint:{"fill-color":["get","fill-color"],"fill-opacity":["get","fill-opacity"]}},"ww-bottom-middle-radar-layer"),g.addSource(this.motionPointsSourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.motionPointsLayerId,type:"circle",source:this.motionPointsSourceId,paint:{"circle-radius":3,"circle-stroke-width":1,"circle-color":["case",["boolean",["feature-state","flash"],!1],["get","line-flash-color"],["get","circle-color"]],"circle-stroke-color":["get","circle-stroke-color"],"circle-pitch-alignment":"map"},minzoom:6}),g.addSource(this.motionPathSourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.motionPathLayerId,type:"line",source:this.motionPathSourceId,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["case",["boolean",["feature-state","flash"],!1],["get","line-flash-color"],["get","line-color"]],"line-width":2},minzoom:6},this.motionPointsLayerId),g.addSource(this.motionArrowHeadSourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.motionArrowHeadLayerId,type:"fill",source:this.motionArrowHeadSourceId,paint:{"fill-color":["case",["boolean",["feature-state","flash"],!1],["get","line-flash-color"],["get","fill-color"]]},minzoom:6},this.motionPointsLayerId)}openWarningHelpModal(e){const t=ze[e],o=ne({defaultModelValue:!0,component:Ae,attrs:{title:t.name},slots:{title:le({component:Dx,attrs:{config:t,onClose(){o.close()}}}),default:le({component:Cx,attrs:{config:t,onClose(){o.close()}}})}});return o}openWarningModal(e){const t=ze[`${e.properties.product}.${e.properties.significance}`],o=ne({defaultModelValue:!0,component:Ae,attrs:{title:t.name,onOpened(){const a=new Ne;a.set("wid",e.properties.id),a.save()},onClosed(){const a=new Ne;a.delete("wid"),a.save()}},slots:{default:le({component:vx,attrs:{feature:e,onClose(){o.close()}}})}});return o}openSettings(){const e=this;return ne({defaultModelValue:!0,component:Ae,attrs:{title:"Alert Settings",onClose(){e.alertsStore.setSelectedAlert(null)}},slots:{default:le({component:q_})}})}openNotFoundModal(){return ne({defaultModelValue:!0,component:fo,attrs:{title:"Warning Not Found"},slots:{default:le({component:_x})}})}applyPropertiesToFeature(e){const t=`${e.properties.product}.${e.properties.significance}`,o=ze[t],a=ge(this.settings.config[e.properties.country_iso][t]);return e.properties["line-color"]=e.properties.emergency?"#FFFFFF":a.color,e.properties["line-background-color"]=a.color,e.properties["line-opacity"]=.7,e.properties["line-width"]=e.properties.emergency?4:a.line_width,e.properties["line-sort-key"]=o.priority,e.properties["fill-color"]=a.color,e.properties["fill-opacity"]=a.fill_opacity,e.properties["fill-sort-key"]=o.priority,e}render(e){const t=e.filter(r=>{const n=ze[`${r.properties.product}.${r.properties.significance}`];return n===void 0&&console.log(`NWS config missing for: ${r.properties.product}.${r.properties.significance}`),n!==void 0}),o=t.filter(r=>!r.properties.emergency),a=t.filter(r=>r.properties.emergency);g.getSource(this.normalSourceId).setData({type:"FeatureCollection",features:o}),g.getSource(this.emergencySourceId).setData({type:"FeatureCollection",features:a}),this.settings.show_storm_motion?this.renderMotion(t):this.clearMotion()}renderOnly(e){this.renderOnlyIds=e.map(t=>t.properties.id),this.render(e)}renderMotion(e){const t={type:"FeatureCollection",features:[]},o={type:"FeatureCollection",features:[]},a={type:"FeatureCollection",features:[]},r=j.utc();e.forEach(n=>{try{if(!(typeof n.properties.tags=="object"&&typeof n.properties.tags.TIME_MOT_LOC=="object"))return;const l=n.properties.tags.TIME_MOT_LOC,d=n.properties["line-background-color"],m=Ft(d).darken(.25).toHex();if(l.speed<1)return;l.positions.forEach((h,f)=>{t.features.push({type:"Feature",geometry:{type:"Point",coordinates:h},properties:{id:`${n.properties.id}-${f}`,"circle-color":d,"circle-stroke-color":m,"line-flash-color":n.properties["line-flash-color"]}});const y=Rs(h),N=(l.direction+180)%360,w=l.speed*1.15078;let v=j.duration(r.diff(j.utc(n.properties.issued_at))).asHours()*w;v>10?v=10:v<3&&(v=3);const A=Gt(y,v,N,{units:"miles"}),B=[h,A.geometry.coordinates];o.features.push({type:"Feature",geometry:{type:"LineString",coordinates:B},properties:{id:`${n.properties.id}-${f}`,"line-color":d,"line-flash-color":n.properties["line-flash-color"]}});const I=.5,R=.33,M=Gt(y,v-I,N,{units:"miles"}),D=Gt(M,R,N-90,{units:"miles"}).geometry.coordinates,k=Gt(M,R,N+90,{units:"miles"}).geometry.coordinates,F=[A.geometry.coordinates,D,k,A.geometry.coordinates];a.features.push({type:"Feature",geometry:{type:"Polygon",coordinates:[F]},properties:{id:`${n.properties.id}-${f}`,"fill-color":d,"line-flash-color":n.properties["line-flash-color"]}})})}catch(l){console.error("Failed to generate warning motion",n,l)}}),g.getSource(this.motionPointsSourceId).setData(t),g.getSource(this.motionPathSourceId).setData(o),g.getSource(this.motionArrowHeadSourceId).setData(a)}clearMotion(){const e={type:"FeatureCollection",features:[]},t={type:"FeatureCollection",features:[]},o={type:"FeatureCollection",features:[]};g.getSource(this.motionPointsSourceId).setData(e),g.getSource(this.motionPathSourceId).setData(t),g.getSource(this.motionArrowHeadSourceId).setData(o)}async loadHistory(e){this.mode=Pt,this.bufferedWarnings=[],this.bufferedMaxAge=e;try{const t=await Se.instance().get(`/warnings/USA-${e}.geojson`),o=t.features.filter(a=>a.geometry===null);if(o.length>0){const a=o.map(r=>async()=>{r.geometry=await this.warningsStore.fetchGeometry(r)});console.time("Load warning geometry data for playback"),await Ho(a,6),console.timeEnd("Load warning geometry data for playback")}this.bufferedWarnings=t.features.filter(a=>{const r=`${a.properties.product}.${a.properties.significance}`,n=ze[r]!==void 0;return n||console.warn(`Warning: ${r} is not supported.`),n})}catch(t){console.log("Failed to load warnings archive list",t)}}drawHistory(e,t){typeof e=="string"&&(e=j.utc(e)),e=e.valueOf();const o={},a={};let r=t?m=>{if(this.renderOnlyIds.length>0&&!this.renderOnlyIds.includes(m.properties.id))return!1;const h=m.properties.expires_at_ms,f=e<h;return f&&(o[m.properties.common_id]=m.properties.action,a[m.properties.common_id]=m.properties.issued_at),f}:m=>{if(this.renderOnlyIds.length>0&&!this.renderOnlyIds.includes(m.properties.id))return!1;const h=m.properties.issued_at_ms,f=m.properties.expires_at_ms,y=h<e&&e<f;return y&&(o[m.properties.common_id]=m.properties.action,a[m.properties.common_id]=m.properties.issued_at),y};const n=this.bufferedWarnings.filter(r),l=["CAN","UPG"],d=n.filter(m=>!l.includes(o[m.properties.common_id])&&a[m.properties.common_id]===m.properties.issued_at);this.warningsStore.setFeatureList(d)}clearBufferedHistoricalState(){this.bufferedWarnings=[],this.mode!==Ce&&this.warningsStore.load(),this.mode=Ce}async fetchWarningFromArchive(e){try{const t=await Se.instance().get(`/warnings/archive/${e}.geojson`),o=this.applyPropertiesToFeature(t);return this.openWarningModal(o)}catch(t){console.log(t),this.openNotFoundModal()}}show(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","none")}setRealtimeUpdates(e){this.realtimeUpdatesEnabled=e}fitBounds(e){var n,l,d,m;const t=Ar(e.geometry),o=new Te.LngLat(t[0],t[1]),a=new Te.LngLat(t[2],t[3]),r=new Te.LngLatBounds(o,a);((n=e.properties.tags)==null?void 0:n.TIME_MOT_LOC)!==void 0&&((m=(d=(l=e.properties.tags)==null?void 0:l.TIME_MOT_LOC)==null?void 0:d.positions)==null||m.forEach(h=>{r.extend(h)})),g.fitBounds(r,{padding:window.innerWidth/8,duration:0})}getMode(){return this.mode}getFeaturesThatContainPoint(e,t=1/0){const o=Rs(e),a=this.warningsStore.features,r=a.map((l,d)=>{const m=`${l.properties.product}.${l.properties.significance}`,h=ze[m];return[d,h.priority]});r.sort((l,d)=>l[1]-d[1]);const n=[];for(const[l,d]of r)if(a[l].type!==null&&kr(o,a[l])&&(n.push(a[l]),n.length>=t))break;return n}}const Ro={MCD:{priority:1,color:"#FF0002",name:"Mesoscale Convective Discussion",icon:"mdi:warmth",help:`When conditions start to align for severe weather, the Storm Prediction Center (SPC) typically releases a Mesoscale Discussion (MCD) statement anywhere from 30 minutes to several hours before issuing a weather watch. MCDs are also issued for hazardous winter weather on the mesoscale level, covering events like locally heavy snowfall, blizzards, and freezing rain (as detailed below).

    Additionally, MCDs can address heavy rainfall, convective trends, and other weather phenomena when the forecaster believes valuable information can be provided that may not be immediately apparent to field forecasters. These discussions are based on mesoscale analysis, observation interpretation, and short-term, high-resolution numerical model output.

An MCD outlines current weather conditions, forecasts for the next few hours, meteorological reasoning, and, in the case of severe thunderstorm potential, the timing and location where SPC might issue a watch. These discussions offer a bit of extra lead time, helping you prepare operations before an official watch is in place. MCDs begin with a numerical string that provides the latitude and longitude coordinates of a polygon, loosely describing the area under discussion.`},MPD:{priority:2,color:"#008B00",name:"Mesoscale Precipitation Discussion",icon:"cil:rain",help:`The Weather Prediction Center (WPC) provides short-term guidance during heavy rain events that pose a risk of flash flooding to National Weather Service (NWS) Weather Forecast Offices (WFOs), River Forecast Centers (RFCs), the media, emergency managers, and other relevant partners. This guidance is delivered through Mesoscale Precipitation Discussions (MPDs), which are typically issued 1-6 hours in advance and cover areas approximately half the size of Kansas. Each MPD includes a graphic outlining the area of concern and key meteorological factors, along with a brief text summary emphasizing the mesoscale features driving the expected heavy rainfall. The likelihood of flash flooding is categorized under one of three headlines:

    FLASH FLOODING LIKELY: There is high confidence that environmental conditions are or will become favorable for heavy rainfall leading to flash flooding.

    FLASH FLOODING POSSIBLE: Conditions are favorable or becoming favorable for heavy rainfall, but there is uncertainty about how the event will unfold and whether flash flooding will occur.

    FLASH FLOODING UNLIKELY: There is high confidence that conditions are, or will become, unfavorable for heavy rainfall leading to flash flooding, often issued toward the event's conclusion.

The WPC’s Metwatch desk focuses specifically on flash flooding caused by widespread intense rainfall, excluding localized flash flooding and those triggered by other factors like dam failures or ice jams.`}},Z3=61*1e3;let or=!1;const Xo=ve("mesoscale_discussions",{state:()=>({geojson:{type:"FeatureCollection",features:[]},last_update_at:null,loading:!1}),actions:{init(){or||(or=!0,setInterval(()=>{if(C.mesoscaleDiscussions.getMode()!==Ce)return;const i=Ps(ge(this.geojson.features));this.geojson.features.length!==i.length&&(this.geojson.features=i)},Z3))},async load(){if(!this.loading)try{this.loading=!0;const i=await Se.instance().get(`/mesoscale-discussions/USA.geojson?_=${new Date().getTime()}`);i.features=Ps(i.features),this.geojson=i,this.last_update_at=j.utc().toISOString()}catch(i){return console.log(i),i}finally{this.loading=!1}},async push(i){const e=j.utc();if(j.utc(i.properties.expires_at).isBefore(e))return;const o=this.geojson.features.findIndex(a=>a.properties.id===i.properties.id);o>=0?this.geojson.features[o]=i:this.geojson.features.push(i)},filter(i){return this.geojson.features.filter(e=>e.properties.product===i)},getFeatureById(i,e=!1){return(e?ge:o=>o)(this.geojson.features.find(o=>o.properties.id===i))}}}),qs=ve("settings/mesoscale_discussions",{state:()=>({visible:!0}),persist:!0,actions:{toggleVisible(){this.visible=!this.visible}}}),Y3={class:"text-center tags mt-3"},J3=["title"],Q3=["title"],q3=["title"],eS={key:2,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},tS={key:3,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},oS={key:4,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded"},sS={class:"text dark:text-white"},aS={name:"MesoscaleDiscussionModal",props:["feature"],methods:{onShareClick(i){he.share()}}},rS=Object.assign(aS,{setup(i){return(e,t)=>(c(),p(z,null,[s("hr",{class:"divider",style:pe({"border-color":i.feature.properties["line-color"]})},null,4),s("div",Y3,[s("span",{class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.issued_at},"Issued "+_(u(Pe)(i.feature.properties.issued_at)),9,J3),u(j).utc(i.feature.properties.expires_at).isBefore(u(j).utc())?(c(),p("span",{key:0,class:"bg-red-100 text-red-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.expires_at},"Expired "+_(u(Pe)(i.feature.properties.expires_at))+"!",9,Q3)):(c(),p("span",{key:1,class:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-slate-300 text-sm font-medium me-2 px-2.5 py-0.5 rounded",title:i.feature.properties.expires_at},"Expires "+_(u(Pe)(i.feature.properties.expires_at)),9,q3)),i.feature.properties.tags.MOST_PROBABLE_PEAK_TORNADO_INTENSITY?(c(),p("span",eS,"Peak Tornado Intensity: "+_(i.feature.properties.tags.MOST_PROBABLE_PEAK_TORNADO_INTENSITY),1)):x("",!0),i.feature.properties.tags.MOST_PROBABLE_PEAK_WIND_GUST?(c(),p("span",tS,"Peak Wind Gust: "+_(i.feature.properties.tags.MOST_PROBABLE_PEAK_WIND_GUST.replace("UP TO","≤")),1)):x("",!0),i.feature.properties.tags.MOST_PROBABLE_PEAK_HAIL_SIZE?(c(),p("span",oS,"Peak Hail Size: "+_(i.feature.properties.tags.MOST_PROBABLE_PEAK_HAIL_SIZE.replace("UP TO","≤").replace(" IN",'"')),1)):x("",!0),s("button",{type:"button",class:"bg-[#F6B91A] text-[#17274F] hover:bg-[#17274F] hover:text-[#F6B91A] dark:hover:bg-[#F6B91A] dark:hover:text-[#17274F] rounded-lg text-xs px-2.5 py-0.5 relative top-[-2px] text-center me-2 mb-2 font-medium transition-all duration-200 transform active:scale-90 active:shadow-[0_0_0_2px_#17274F,0_0_0_4px_#F6B91A] dark:active:shadow-[0_0_0_2px_#F6B91A,0_0_0_4px_#17274F]",onClick:t[0]||(t[0]=o=>e.onShareClick(o))},[b(u(T),{icon:"ion:share-outline",class:"inline mr-1 size-5"}),t[1]||(t[1]=s("span",{class:"relative top-[2px] font-bold"},"Share",-1))])]),s("pre",sS,_(i.feature.properties.text),1),t[2]||(t[2]=s("hr",{class:"my-4"},null,-1)),t[3]||(t[3]=s("p",{class:"text-sm text-slate-600 dark:text-slate-400"},"The information is provided to us in realtime from the National Weather Service (NWS), specifically from the Storm Prediction Center (SPC) and the Weather Prediction Center (WPC).",-1))],64))}}),iS=G(rS,[["__scopeId","data-v-b5bb4b9c"]]),nS={},lS={class:"mt-5"};function cS(i,e){return c(),p("div",lS,e[0]||(e[0]=[s("p",null,"This mesoscale discussion has likely expired and is therefore no longer active.",-1)]))}const dS=G(nS,[["render",cS]]),uS={name:"MDHelp",props:["config"],emits:["close"]},pS=["innerHTML"];function mS(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.config.help.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,pS)}const hS=G(uS,[["render",mS]]),gS={class:"text-2xl sm:text-4xl font-medium"},fS={name:"MDHelpTitle",props:["config"],emits:["close"]},yS=Object.assign(fS,{setup(i){return(e,t)=>(c(),p("h1",gS,[b(u(T),{icon:i.config.icon,class:"s-6 sm:s-10 inline mr-3",style:pe({color:i.config.color})},null,8,["icon","style"]),L(_(i.config.name),1)]))}}),NS={class:"font-bold"},vS={key:0},bS={class:"font-bold"},wS={key:1},xS={class:"font-bold"},_S={key:2},SS={class:"font-bold"},kS={key:3},AS={class:"font-bold"},CS={class:"font-bold"},TS=["innerHTML"],BS=ae({__name:"MDPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){return(e,t)=>(c(),p("div",{class:O(["flex justify-between cursor-pointer",{"mb-2":!e.isLast}]),onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},[s("div",{class:"border-l-2 pl-2",style:pe({borderColor:e.feature.properties["fill-color"]})},[s("div",NS,"Mesoscale Discussion #"+_(e.feature.properties.number),1),e.feature.properties.tags.CONCERNING?(c(),p("div",vS,[t[1]||(t[1]=L("Concerning: ")),s("span",bS,_(e.feature.properties.tags.CONCERNING[0]),1)])):x("",!0),e.feature.properties.tags.MOST_PROBABLE_PEAK_TORNADO_INTENSITY?(c(),p("div",wS,[t[2]||(t[2]=L("Peak Tornado Intensity: ")),s("span",xS,_(e.feature.properties.tags.MOST_PROBABLE_PEAK_TORNADO_INTENSITY),1)])):x("",!0),e.feature.properties.tags.MOST_PROBABLE_PEAK_WIND_GUST?(c(),p("div",_S,[t[3]||(t[3]=L("Peak Wind Gust: ")),s("span",SS,_(e.feature.properties.tags.MOST_PROBABLE_PEAK_WIND_GUST.replace("UP TO","≤")),1)])):x("",!0),e.feature.properties.tags.MOST_PROBABLE_PEAK_HAIL_SIZE?(c(),p("div",kS,[t[4]||(t[4]=L("Peak Hail Size: ")),s("span",AS,_(e.feature.properties.tags.MOST_PROBABLE_PEAK_HAIL_SIZE.replace("UP TO","≤").replace(" IN",'"')),1)])):x("",!0),s("div",null,[t[5]||(t[5]=L("Expires ")),s("span",CS,_(u(Pe)(new Date(e.feature.properties.expires_at))),1)])],4),s("div",null,[s("div",{class:"h-full",innerHTML:u(Ot)},null,8,TS)])],2))}});class DS{constructor(){this.mesoscaleDiscussionsStore=Xo(),this.settings=qs(),this.mesoscaleDiscussionsStore.init(),this.realtimeUpdatesEnabled=!0,this.mode=vo,this.bufferedMesoscaleDiscussions=[],this.bufferedMaxAge=0,this.renderOnlyIds=[],this.sourceId="ww-mesoscale-discussions-source",this.lineOutlineLayerId="ww-mesoscale-discussions-outline-layer",this.lineLayerId="ww-mesoscale-discussions-line-layer",this.fillLayerId="ww-mesoscale-discussions-fill-layer",this.FLASH_MAX_TIME=10*1e3,this.FLASH_FREQUENCY=750,this.layers=[this.lineOutlineLayerId,this.lineLayerId,this.fillLayerId],this.addLayer();const e=lt(r=>{const n=zr(r.features).map(l=>this.mesoscaleDiscussionsStore.geojson.features.find(d=>d.properties.id===l.properties.id)).filter(l=>l!==void 0);if(n.length!=0)return()=>{const l=window.document.createElement("div");return n.forEach((d,m)=>{const h=window.document.createElement("div");Tt(Xt(BS,{feature:d,isLast:m===n.length-1,onClick:()=>{g.popups.clear(),this.openModal(d)}}),h),l.appendChild(h)}),l}});g.on("click",this.fillLayerId,e),this.mesoscaleDiscussionsStore.$subscribe((r,n)=>{const l=ge(n.geojson);this.render(l)}),this.render(ge(this.mesoscaleDiscussionsStore.geojson)),(async()=>{await this.mesoscaleDiscussionsStore.load(),this.mode=Ce;const r=new Ne;if(r.has("mdid")){const n=r.get("mdid"),l=this.mesoscaleDiscussionsStore.geojson.features.find(d=>d.properties.id===n);if(l!==void 0)return r.has("mdr")&&r.get("mdr")==1&&(this.fitBounds(l),setTimeout(()=>{const d=Mt(l.geometry);C.radar.turnOnClosestOnlineRadar(d);const m=new Ne;m.delete("mdr"),m.save()},500)),this.openModal(l);await this.fetchFromArchive(n)}})();const t={},o="mesoscale-discussions";te.roomJoin(o),te.on(o,async r=>{if(!this.realtimeUpdatesEnabled)return console.log("Incoming mesoscale discussion, but ignoring due to realtime updates disabled...");if(console.log("Mesoscale discussion",o,r,`Mode: ${this.mode}`),this.mode===Ce)await this.mesoscaleDiscussionsStore.push(r),t[r.properties.id]={at:new Date,flash:!0};else if(this.mode===Pt){this.bufferedMesoscaleDiscussions.push(r);const n=j.utc();n.subtract(this.bufferedMaxAge,"seconds"),this.bufferedMesoscaleDiscussions=this.bufferedMesoscaleDiscussions.filter(function(l){return!j.utc(l.properties.expires_at).isBefore(n)})}}),setInterval(()=>{const r=new Date;for(const n in t){const l=t[n],d=r.getTime()-l.at.getTime(),m=this.sourceId;if(d>this.FLASH_MAX_TIME){g.setFeatureState({source:m,id:n},{flash:!1}),delete t[n];continue}g.setFeatureState({source:m,id:n},{flash:l.flash}),l.flash=!l.flash}},this.FLASH_FREQUENCY);const a=r=>{r.visible?this.show():this.hide()};this.settings.$subscribe((r,n)=>{a(n)}),a(this.settings)}flashFeature(e){this.setWarningFlash(this.sourceId,e.properties.id,!0),setTimeout(()=>{this.setWarningFlash(this.sourceId,e.properties.id,!1)},this.FLASH_FREQUENCY/1.5)}setWarningFlash(e,t,o){console.log(e,t,o),g.setFeatureState({source:e,id:t},{flash:o})}addLayer(){g.addSource(this.sourceId,{type:"geojson",promoteId:"id",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.lineLayerId,type:"line",source:this.sourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["boolean",["feature-state","flash"],!1],"#FFFFFF",["get","line-color"]],"line-opacity":["case",["boolean",["feature-state","flash"],!1],1,["get","line-opacity"]],"line-width":["case",["boolean",["feature-state","flash"],!1],["*",["get","line-width"],1.75],["get","line-width"]]}},C.warnings.lineLayerId),g.addLayer({id:this.lineOutlineLayerId,type:"line",source:this.sourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["boolean",["feature-state","flash"],!1],"#000000","#FFFFFF"],"line-opacity":["case",["boolean",["feature-state","flash"],!1],1,["get","line-opacity"]],"line-width":["case",["boolean",["feature-state","flash"],!1],["+",["*",["get","line-width"],1.75],1],["+",["get","line-width"],2]]}},this.lineLayerId),g.addLayer({id:this.fillLayerId,type:"fill",source:this.sourceId,layout:{"fill-sort-key":["get","fill-sort-key"]},paint:{"fill-color":["get","fill-color"],"fill-opacity":["get","fill-opacity"]}},"ww-bottom-middle-radar-layer")}applyPropertiesToFeature(e){var a,r,n,l,d,m,h,f,y,N,w,S,v,A,B;const t=Ro[e.properties.product];let o=t.color;return((n=(r=(a=e==null?void 0:e.properties)==null?void 0:a.tags)==null?void 0:r.CONCERNING)!=null&&n.includes("Heavy snow")||(m=(d=(l=e==null?void 0:e.properties)==null?void 0:l.tags)==null?void 0:d.CONCERNING)!=null&&m.includes("Winter mixed precipitation")||(y=(f=(h=e==null?void 0:e.properties)==null?void 0:h.tags)==null?void 0:f.CONCERNING)!=null&&y.includes("Snow Squall")||(S=(w=(N=e==null?void 0:e.properties)==null?void 0:N.tags)==null?void 0:w.CONCERNING)!=null&&S.includes("Freezing rain")||(B=(A=(v=e==null?void 0:e.properties)==null?void 0:v.tags)==null?void 0:A.CONCERNING)!=null&&B.includes("Blizzard"))&&(o="#0002FF"),e.properties["line-color"]=o,e.properties["line-background-color"]=o,e.properties["line-opacity"]=1,e.properties["line-width"]=2,e.properties["line-sort-key"]=1e3-t.priority,e.properties["fill-color"]=o,e.properties["fill-opacity"]=.1,e.properties["fill-sort-key"]=1e3-t.priority,e}render(e){const t=e.features.map(o=>this.applyPropertiesToFeature(o));g.getSource(this.sourceId).setData({type:"FeatureCollection",features:t})}renderOnly(e){this.renderOnlyIds=e.map(t=>t.properties.id),this.render({features:e})}openMDHelpModal(e){const t=Ro[e],o=ne({defaultModelValue:!0,component:Ae,attrs:{title:t.name},slots:{title:le({component:yS,attrs:{config:t,onClose(){o.close()}}}),default:le({component:hS,attrs:{config:t,onClose(){o.close()}}})}});return o}openModal(e){const t=Ro[e.properties.product];ne({defaultModelValue:!0,component:Ae,attrs:{title:`${t.name} #${e.properties.number}`,onOpened(){const o=new Ne;o.set("mdid",e.properties.id),o.save()},onClosed(){const o=new Ne;o.delete("mdid"),o.save()}},slots:{default:le({component:iS,attrs:{feature:e}})}})}openNotFoundModal(){return ne({defaultModelValue:!0,component:fo,attrs:{title:"Mesoscale Discussion Not Found"},slots:{default:le({component:dS})}})}async loadHistory(e){this.mode=Pt,this.bufferedMesoscaleDiscussions=[],this.bufferedMaxAge=e;try{const t=await Se.instance().get(`/mesoscale-discussions/USA-${e}.geojson`);this.bufferedMesoscaleDiscussions=t.features}catch(t){console.log("Failed to load mesoscale discussions archive list",t)}}drawHistory(e,t){typeof e=="string"&&(e=j.utc(e)),e=e.valueOf();const o={};let a=t?n=>{if(this.renderOnlyIds.length>0&&!this.renderOnlyIds.includes(n.properties.id))return!1;const l=n.properties.expires_at_ms,d=e<l;return d&&(o[n.properties.common_id]=n.properties.id),d}:n=>{if(this.renderOnlyIds.length>0&&!this.renderOnlyIds.includes(n.properties.id))return!1;const l=n.properties.issued_at_ms,d=n.properties.expires_at_ms,m=l<e&&e<d;return m&&(o[n.properties.common_id]=n.properties.id),m};const r=this.bufferedMesoscaleDiscussions.filter(a).filter(n=>o[n.properties.common_id]===n.properties.id);this.mesoscaleDiscussionsStore.geojson.features=r}clearBufferedHistoricalState(){this.bufferedMesoscaleDiscussions=[],this.mode!==Ce&&this.mesoscaleDiscussionsStore.load(),this.mode=Ce}async fetchFromArchive(e){try{const t=await Se.instance().get(`/mesoscale-discussions/archive/${e}.geojson`),o=this.applyPropertiesToFeature(t);return this.openModal(o)}catch(t){console.log(t),this.openNotFoundModal()}}show(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","none")}setRealtimeUpdates(e){this.realtimeUpdatesEnabled=e}fitBounds(e){const t=Ar(e.geometry),o=new Te.LngLat(t[0],t[1]),a=new Te.LngLat(t[2],t[3]),r=new Te.LngLatBounds(o,a);g.fitBounds(r,{padding:window.innerWidth/8,duration:0})}getMode(){return this.mode}}const IS={name:"Discussion",props:["id","step","metadata"],emits:["close"],methods:{formattedValue(i){return i/1e6>1?`${(i/1e6).toFixed(1)}M`:`${(i/1e3).toFixed(1)}K`}},computed:{lastUpdatedAt(){return j.utc(this.metadata.last_update_at).local().format("YYYY-MM-DD HH:mm:ss")},providedBy(){if(this.id.startsWith("USA/SPC"))return"the National Weather Service (NWS), specifically from the Storm Prediction Center (SPC)";if(this.id.startsWith("USA/CPC"))return"the National Weather Service (NWS), specifically from the Climate Prediction Center (CPC)";if(this.id.startsWith("USA/WPC"))return"the National Weather Service (NWS), specifically from the Weather Prediction Center (WPC)";if(this.id.startsWith("CAN/SPC"))return"Environment and Climate Change Canada (ECCC), specifically from the Storm Prediction Center (SPC)"}}},ES={key:0},LS={class:"table-auto w-full mb-4"},RS={class:"mt-2"},FS={class:"pt-4"},MS={class:"pt-4"},PS={class:"pt-4"},HS={colspan:"3",class:"pt-2 pb-4 border-b-2"},zS=["innerHTML"],OS={class:"text-sm text-slate-600 dark:text-slate-400"};function KS(i,e,t,o,a,r){return c(),p(z,null,[t.metadata.impacts!==void 0&&t.metadata.impacts.length>0?(c(),p("div",ES,[s("table",LS,[e[1]||(e[1]=s("thead",null,[s("tr",null,[s("th",{class:"font-bold text-left text-xl border-b-2 pb-1"},"Risk"),s("th",{class:"font-bold text-left text-xl border-b-2 pb-1"},[L("Area mi"),s("sup",null,"2")]),s("th",{class:"font-bold text-left text-xl border-b-2 pb-1"},"Population")])],-1)),s("tbody",RS,[(c(!0),p(z,null,ee(t.metadata.impacts,(n,l)=>(c(),p(z,null,[s("tr",null,[s("td",FS,[s("u",null,[s("strong",null,_(n.risk),1)])]),s("td",MS,[s("u",null,[s("strong",null,_(r.formattedValue(n.area_size)),1)])]),s("td",PS,[s("u",null,[s("strong",null,_(r.formattedValue(n.area_population)),1)])])]),s("tr",null,[s("td",HS,[e[0]||(e[0]=s("strong",null,"Affected:",-1)),L(" "+_(n.places.join(", ")),1)])])],64))),256))])])])):x("",!0),s("p",{innerHTML:t.metadata.discussion.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,zS),e[2]||(e[2]=s("hr",{class:"my-4"},null,-1)),s("p",OS,"The outlooks are provided to us in realtime from "+_(r.providedBy)+". Last update at: "+_(r.lastUpdatedAt),1)],64)}const US=G(IS,[["render",KS]]),$S={name:"OutlookHelp",props:["text"],emits:["close"]},XS=["innerHTML"];function WS(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.text.trim().replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,XS)}const VS=G($S,[["render",WS]]),sr="0",Ns=ve("outlook",{state:()=>({activeOutlookId:sr,activeStep:null,steps:[],colortable:[],isDataLoading:!1}),persist:{storage:{getItem:i=>{const e=new Ne;if(e.has("oid")&&e.has("ost")){const t=e.get("oid"),o=e.get("ost");Ns().$patch({activeOutlookId:t,activeStep:o})}},setItem:(i,e)=>{const t=Ns(),o=new Ne;t.activeOutlookId===sr?(o.delete("oid"),o.delete("ost")):(o.set("oid",t.activeOutlookId),o.set("ost",t.activeStep)),o.save()}}}}),ho=[{id:"WEEK_2",name:"Week 2"},{id:"WEEK_3",name:"Week 3"}],GS={"USA/SPC/CONVECTIVE/CATEGORICAL":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/SPC/CONVECTIVE/TORNADO":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"}],"USA/SPC/CONVECTIVE/WIND":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"}],"USA/SPC/CONVECTIVE/HAIL":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"}],"USA/SPC/CONVECTIVE/PROB":[{id:"DAY_3",name:"Day 3"},{id:"DAY_4",name:"Day 4"},{id:"DAY_5",name:"Day 5"},{id:"DAY_6",name:"Day 6"},{id:"DAY_7",name:"Day 7"},{id:"DAY_8",name:"Day 8"}],"USA/SPC/THUNDERSTORM/THUNDERSTORM":()=>{const i=j.utc(),e=i.format("YYYY"),t=i.format("MM"),o=i.format("DD"),a=j.utc(`${e}-${t}-${o} 00:00:00`).local().format("HH"),r=j.utc(`${e}-${t}-${o} 04:00:00`).local().format("HH"),n=j.utc(`${e}-${t}-${o} 12:00:00`).local().format("HH"),l=j.utc(`${e}-${t}-${o} 16:00:00`).local().format("HH"),d=j.utc(`${e}-${t}-${o} 20:00:00`).local().format("HH");return i.isAfter(j.utc("21:00","hh:mm"))?[{id:"0000",name:`${a}-${r}:00`},{id:"0400",name:`${r}-${n}:00`}]:i.isAfter(j.utc("17:00","hh:mm"))?[{id:"2000",name:`${d}-${a}:00`},{id:"0000",name:`${a}-${r}:00`},{id:"0400",name:`${r}-${n}:00`}]:i.isAfter(j.utc("13:00","hh:mm"))?[{id:"1600",name:`${l}-${d}:00`},{id:"2000",name:`${d}-${a}:00`},{id:"0000",name:`${a}-${r}:00`}]:i.isAfter(j.utc("06:00","hh:mm"))?[{id:"1200",name:`${n}-${l}:00`},{id:"1600",name:`${l}-${d}:00`},{id:"2000",name:`${d}-${a}:00`}]:i.isAfter(j.utc("01:30","hh:mm"))?[{id:"0400",name:`${r}-${n}:00`}]:[]},"USA/SPC/FIRE/DRYT":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"}],"USA/SPC/FIRE/WINDRH":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"}],"USA/CPC/CLIMATE/TEMP":[{id:"6_10_DAY",name:"6-10 Day"},{id:"8_14_DAY",name:"8-14 Day"},{id:"3_4_WEEKS",name:"Weeks 3-4"},{id:"1_MONTH",name:"Monthly (1 Month)"},{id:"3_MONTH",name:"Seasonal (3 Month)"}],"USA/CPC/CLIMATE/PRECIP":[{id:"6_10_DAY",name:"6-10 Day"},{id:"8_14_DAY",name:"8-14 Day"},{id:"3_4_WEEKS",name:"Weeks 3-4"},{id:"1_MONTH",name:"Monthly (1 Month)"},{id:"3_MONTH",name:"Seasonal (3 Month)"}],"USA/CPC/DROUGHT/DROUGHT":[{id:"CURRENT",name:"Current"},{id:"MONTHLY",name:"Monthly"},{id:"SEASONAL",name:"Seasonal"}],"USA/CPC/GLOBAL_TROPICS_HARZARDS/COMBINED":ho,"USA/CPC/GLOBAL_TROPICS_HARZARDS/TROPICAL_CYCLONE_FORMATION":ho,"USA/CPC/GLOBAL_TROPICS_HARZARDS/ENHANCED_PRECIPITATION":ho,"USA/CPC/GLOBAL_TROPICS_HARZARDS/SUPPRESSED_PRECIPITATION":ho,"USA/CPC/GLOBAL_TROPICS_HARZARDS/ABOVE_AVERAGE_TEMPERATURES":ho,"USA/CPC/GLOBAL_TROPICS_HARZARDS/BELOW_AVERAGE_TEMPERATURES":ho,"USA/WPC/EXCESSIVE_RAINFALL/RAINFALL":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_4",name:"Day 4"},{id:"DAY_5",name:"Day 5"}],"USA/WPC/QPF/DAILY":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/WPC/QPF/MULTI_DAY":[{id:"DAY_1_2",name:"Day 1-2"},{id:"DAY_1_3",name:"Day 1-3"},{id:"DAY_1_5",name:"Day 1-5"},{id:"DAY_1_7",name:"Day 1-7"}],"USA/WPC/QPF/DAY_1_6_HOURS":[{id:"00",name:"00z"},{id:"06",name:"06z"},{id:"12",name:"12z"},{id:"18",name:"18z"}],"USA/WPC/QPF/DAY_2_6_HOURS":[{id:"00",name:"00z"},{id:"06",name:"06z"},{id:"12",name:"12z"},{id:"18",name:"18z"}],"USA/WPC/QPF/DAY_3_6_HOURS":[{id:"00",name:"00z"},{id:"06",name:"06z"},{id:"12",name:"12z"},{id:"18",name:"18z"}],"USA/WPC/WSSI/OVERALL":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/SNOW_AMOUNT":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/SNOW_LOAD":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/ICE_ACCUMULATION":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/FLASH_FREEZE":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/BLOWING_SNOW":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WSSI/GROUND_BLIZZARD":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"},{id:"DAY_1_3",name:"Day 1-3"}],"USA/WPC/WINTER_WEATHER/SNOWFALL_4_INCHES":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/WPC/WINTER_WEATHER/SNOWFALL_8_INCHES":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/WPC/WINTER_WEATHER/SNOWFALL_12_INCHES":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/WPC/WINTER_WEATHER/FREEZING_RAIN":[{id:"DAY_1",name:"Day 1"},{id:"DAY_2",name:"Day 2"},{id:"DAY_3",name:"Day 3"}],"USA/AVALANCHE_ORG/AVALANCHES/CONDITIONS":[{id:"CURRENT",name:"Current"}]},jS={"USA/SPC/CONVECTIVE":{title:"SPC Convective/Severe Weather",text:`The Storm Prediction Center (SPC) provides Day 1, Day 2, and Day 3 Convective Outlooks that highlight both non-severe thunderstorm regions and severe thunderstorm risks across the contiguous U.S. These probabilistic forecasts reflect the likelihood of severe weather occurring within 25 miles of any given point.

The categorical risk levels in these outlooks are based on probability forecasts for tornadoes, damaging winds, and large hail on Days 1 and 2, and a combined severe weather risk for Day 3.

- TSTM (light green): General or non-severe thunderstorms – Indicates areas with a 10% or higher probability of thunderstorms during the forecast period.
- 1-MRGL (dark green): Marginal risk – Indicates a chance of severe storms that are either limited in organization and duration or very low in coverage and intensity.
- 2-SLGT (yellow): Slight risk – Highlights areas of organized severe storms that are not widespread but can vary in intensity.
- 3-ENH (orange): Enhanced risk – Denotes a higher coverage of severe storms compared to Slight risk, with varying intensity levels.
- 4-MDT (red): Moderate risk – Forecasts widespread severe weather, including several tornadoes or numerous intense thunderstorms. This level is typically used for days with intense supercells producing tornadoes or large hail, or for widespread damaging winds.
- 5-HIGH (magenta): High risk – Signals a severe weather outbreak is likely, including numerous long-lived, intense tornadoes or a derecho with hurricane-force winds and widespread damage. This level is reserved for extreme confidence in severe weather outbreaks.

Forecasting severe weather events, such as tornadoes, large hail, or damaging winds, involves significant uncertainty. It's essential not to rigidly associate the risk category (e.g., 2-SLGT-yellow) with the expected intensity of every storm in the area. Violent tornadoes, for instance, can occur in 2-SLGT-yellow, 3-ENH-orange, or 4-MDT-red risk zones, not just in 5-HIGH-magenta. Some 2-SLGT-yellow areas may cover large regions with only a few tornadoes expected, while others may pose no tornado threat but still bring severe hail and wind.

SPC outlooks focus on organized convection, including supercells, squall lines, and multicell thunderstorms, all of which can cause damage from tornadoes, high winds, or large hail. Pulse-type thunderstorms, which are isolated and brief, are not considered organized and are typically excluded from severe risk areas unless confidence is high enough to designate a 1-MRGL-dark green risk. While any thunderstorm can briefly produce severe weather, it's not uncommon for local National Weather Service offices to issue severe thunderstorm warnings outside of an SPC risk zone.`},"USA/SPC/THUNDERSTORM":{title:"SPC Thunderstorms",text:`The SPC (Storm Prediction Center) provides Thunderstorm Outlooks that indicate the likelihood of thunderstorms across the contiguous United States in 4 or 8-hour intervals. These probabilistic forecasts offer the best estimate of a thunderstorm occurring within 12 miles of a given point, with forecast thresholds set at 10%, 40%, and 70%. The table below outlines the issuance times and the corresponding forecast periods, up to three time windows:

- 0130Z: 0400-1200Z
- 0600Z: 1200-1600Z, 1600-2000Z, 2000-0000Z
- 1300Z: 1600-2000Z, 2000-0000Z, 0000-0400Z
- 1700Z: 2000-0000Z, 0000-0400Z, 0400-1200Z
- 2100Z: 0000-0400Z, 0400-1200Z

Thunderstorm forecasts are crucial for protecting lives and property, as every thunderstorm brings the risk of lightning, a serious hazard. The SPC's enhanced temporal resolution helps National Weather Service (NWS) forecasters and partners make time-sensitive decisions regarding thunderstorms.`},"USA/SPC/FIRE":{title:"SPC Fire Weather",text:`The Storm Prediction Center (SPC) provides the Fire Weather Outlooks and are designed to identify areas across the continental U.S. where existing fuel conditions, combined with forecasted weather over the next 8 days, pose a significant risk for the ignition and spread of wildfires. This product is used by the National Weather Service (NWS) and various federal, state, and local agencies.

Each outlook includes a categorical forecast that visually represents fire weather risk areas across the U.S., along with a detailed text narrative. The graphic uses different labels and colors to depict five types of Fire Weather Outlook risk areas:

- ELEVATED (orange): Elevated risk due to wind and relative humidity.
- CRITICAL (red): Critical risk from wind and relative humidity.
- EXTREME (magenta): Extremely critical risk from wind and relative humidity.
- ISODRYT (brown): Elevated risk from isolated dry thunderstorms.
- SCTDRYT (red): Critical risk from scattered dry thunderstorms.

Guidelines for issuing Critical and Extremely Critical areas are as follows:

Critical risk from dry thunderstorms:

- Dry fuels (as defined below).
- At least 40% coverage of cloud-to-ground lightning strikes, with rainfall of 0.10" or less.
- Relative humidity at or below regional thresholds (refer to this graphic).
- Temperatures at or above 50-60°F, depending on the season.

Critical risk from wind and relative humidity:

- Dry fuels.
- Sustained winds of 20 mph or greater (15 mph in Florida).
- Relative humidity at or below regional thresholds.
- Temperatures at or above 50-60°F, depending on the season.
- These conditions must persist for 3 hours or more.

Extremely Critical risk from wind and relative humidity:

- Very dry fuels.
- Sustained winds of 30 mph or greater (25 mph in Florida).
- Relative humidity at or below two-thirds of regional thresholds.
- Temperatures at or above 60-70°F, depending on the season.
- These conditions must persist for 3 hours or more.

Extremely Critical areas are designated when wind, humidity, and temperatures significantly deviate from typical norms. They may also be issued for borderline weather conditions if exceptional drought is present.`},"USA/CPC/CLIMATE":{title:"CPC Climate",text:`The NOAA Climate Prediction Center (CPC) offers multiple climate outlooks across different timeframes to help anticipate temperature and precipitation trends:

<strong>6-10 Day Outlook</strong>
    This short-range outlook predicts temperature and precipitation anomalies over a 6-10 day period, highlighting areas likely to experience above or below-normal conditions. It is useful for preparing for near-term weather patterns and is updated daily based on recent atmospheric and climate model data.

<strong>8-14 Day Outlook</strong>
    Similar to the 6-10 day outlook, this 8-14 day forecast predicts weather trends within a slightly longer range, providing insights on temperature and precipitation anomalies. Updated daily, it’s helpful for medium-range planning, offering a broader view of upcoming conditions that could impact agriculture, energy use, and travel.

<strong>Week 3-4 Outlook</strong>
    Extending to a three-to-four-week window, this outlook forecasts temperature and precipitation trends that are influenced by longer-term atmospheric patterns. Updated weekly, it provides valuable insights for planning purposes in industries like agriculture and energy that rely on understanding weather in advance.

<strong>1-Month Outlook</strong>
    This monthly outlook forecasts temperature and precipitation anomalies for the upcoming month. Released during the latter half of each month, it incorporates models, recent trends, and seasonal climate drivers, such as La Niña or El Niño, to anticipate broader weather trends useful for longer-term planning.

<strong>3-Month Outlook</strong>
    The longest-range CPC outlook, the 3-month forecast, provides an assessment of temperature and precipitation anomalies for the upcoming three months. It factors in seasonal climate drivers and long-term atmospheric patterns. This quarterly view is particularly valuable for industries affected by seasonal climate trends, like agriculture, water management, and energy.`},"USA/CPC/DROUGHT":{title:"CPC Drought",text:`The CPC (Climate Prediction Center) Drought Outlook is a climate forecast tool that provides a forward-looking assessment of drought conditions across the United States. It highlights areas where drought is expected to persist, improve, or develop over a specified time frame, typically ranging from one month to a full season. The outlook combines various data sources, including current drought conditions, precipitation trends, soil moisture levels, long-term weather patterns, and climate model forecasts.

The report uses clear visual representations, such as color-coded maps, to indicate areas of concern and anticipated changes in drought status. These forecasts are vital for agricultural planning, water resource management, and disaster preparedness, providing stakeholders with actionable insights to mitigate the impacts of drought.`},"USA/WPC/EXCESSIVE_RAINFALL":{title:"WPC Excessive Rainfall",text:"In the Excessive Rainfall Outlooks (ERO), the Weather Prediction Center (WPC) predicts the likelihood that rainfall will surpass flash flood guidance (FFG) within 40 kilometers (25 miles) of any given point. The gridded FFG, provided by the twelve NWS River Forecast Centers (RFCs) covering the lower 48 states, indicates the amount of rainfall over short durations (1, 3, and 6 hours) that could bring rivers and streams to their bankfull levels. To estimate this, the WPC evaluates environmental factors like moisture levels and steering winds, identifies weather patterns linked to heavy rainfall, and utilizes a range of deterministic and ensemble-based models to consider both meteorological and hydrological flash flooding factors. The ERO is a collaborative product enhanced by input from meteorologists and hydrologists at the WFOs, RFCs, and the National Water Center."},"USA/WPC/QPF":{title:"WPC Quantitive Precipitation Forecast (QPF)",text:"The WPC Quantitative Precipitation Forecast (QPF) provides expert analysis and projections of anticipated precipitation amounts across the United States. Issued by the Weather Prediction Center (WPC), the QPF outlines forecasted rainfall, snowfall, and other precipitation over specified time intervals, typically in 6-hour increments, and extends up to 7 days. It uses various meteorological models, historical data, and real-time observations to predict the potential for rainfall accumulation, helping agencies and the public prepare for potential flooding, drought conditions, and other weather impacts. This forecast is a crucial tool for emergency management, agriculture, water resource planning, and weather-sensitive industries, providing detailed maps with estimated precipitation levels to support informed decision-making and preparedness."},"USA/WPC/WSSI":{title:"WPC Winter Storm Severity Index",text:`The Winter Storm Severity Index (WSSI), developed by the Weather Prediction Center (WPC), is a specialized tool used to communicate the potential impacts of winter weather. It provides a color-coded map that categorizes the severity of expected winter storms based on factors like snowfall, icing, sleet, and blowing snow, along with their potential impacts on travel, infrastructure, and daily life. Ranging from "Limited" to "Extreme" impact levels, the WSSI helps forecasters, emergency managers, and the public quickly assess the possible disruption and hazards posed by winter storms in a specific area. By focusing on impact rather than purely meteorological criteria, the WSSI enables users to make informed decisions about winter weather preparedness and response.

    The WSSI includes a range of impact-based products, each focusing on different aspects of winter weather to provide a comprehensive understanding of potential hazards:

    <strong>Overall</strong>: This provides a comprehensive assessment of the potential impact of all winter weather factors combined, including snowfall, ice, wind, and temperature drops. By synthesizing data from individual components—such as Snow Amount, Snow Load, Ice Accumulation, Flash Freeze, Blowing Snow, and Ground Blizzard—this category offers a clear, color-coded overview of the total severity of a winter storm event in a given area. Ranging from "Limited" to "Extreme" impact levels, the Overall product helps users quickly identify regions facing the most significant combined hazards, supporting effective planning and response to mitigate storm-related risks across communities.

    <strong>Snow Amount</strong>: This product highlights the severity of snowfall accumulation, considering not only total snow depth but also how it may affect travel, infrastructure, and daily routines. Higher snow amounts are likely to bring greater disruptions, particularly when accumulations exceed thresholds for typical snow removal capabilities.

    <strong>Snow Load</strong>: Focused on the weight of accumulated snow, the Snow Load product assesses potential impacts on structures, trees, and power lines. Heavy, wet snow can lead to structural stress and damage, particularly for vulnerable or flat-roofed buildings, as well as cause tree limbs to break and disrupt power service.

    <strong>Ice Accumulation</strong>: This product identifies the severity of ice build-up from freezing rain, which poses risks to road conditions, power lines, and trees. Even minor ice accumulations can make travel dangerous, while heavier accumulations can lead to widespread power outages and infrastructure damage.

    <strong>Flash Freeze</strong>: This product tracks areas where rapid drops in temperature cause water on roads or surfaces to freeze almost instantly. Flash freeze events can lead to highly hazardous driving conditions and make walkways treacherous in a short time.

    <strong>Blowing Snow</strong>: Highlighting visibility and travel impacts, the Blowing Snow product assesses the severity of snow being lifted and carried by the wind. This can reduce visibility drastically, especially on open roads, creating hazardous driving conditions.

    <strong>Ground Blizzard</strong>: This product focuses on blizzard conditions that occur without new snowfall, where existing snow on the ground is whipped up by high winds. Ground blizzards can create whiteout conditions, making travel nearly impossible and significantly increasing the risk of accidents.`},"USA/WPC/WINTER_WEATHER":{title:"WPC Winter Weather",text:"The Weather Prediction Center (WPC) Winter Weather Outlooks provide advanced, comprehensive forecasts focusing on winter weather conditions across the United States. These outlooks cover potential snow and ice accumulations, storm tracks, temperature trends, and anticipated impacts, allowing for efficient planning and response. Issued several days in advance, they are designed to inform the public, emergency responders, and decision-makers about high-impact winter weather events. The outlooks are updated frequently, using the latest meteorological data and model guidance, and include graphics that highlight areas of heightened risk, probabilities of snowfall thresholds, and potential hazards from ice and extreme cold."},"USA/AVALANCHE_ORG/AVALANCHES":{title:"US Avalanches",text:`Avalanche.org serves as a hub for avalanche information and education across the United States. It is a collaborative effort between the American Avalanche Association (A3) and the U.S. Forest Service National Avalanche Center (NAC). By aggregating data from professional forecast centers, the site offers real-time avalanche updates to the public.

  Avalanche centers create and share safety messages to inform the public about current and forecasted avalanche conditions. Many also offer free or low-cost avalanche education programs.

<strong>Forest Service</strong>

<a class="text-blue-600 hover:underline" href="http://bridgeportavalanchecenter.org">Bridgeport Avalanche Center</a>
Box 1000
Bridgeport, CA 93517

<a class="text-blue-600 hover:underline" href="http://jhavalanche.org">Bridger-Teton Avalanche Center</a>
PO Box 424
Teton Village, WY 83025

<a class="text-blue-600 hover:underline" href="http://www.cnfaic.org">Chugach NF Avalanche Center</a>
P.O. Box 129
Girdwood, AK 99587

<a class="text-blue-600 hover:underline" href="http://www.flatheadavalanche.org">Flathead Avalanche Center </a>
10 Hungry Horse Drive
Hungry Horse, MT 59919

<a class="text-blue-600 hover:underline" href="http://www.mtavalanche.com">Gallatin National Forest Avalanche Center</a>
PO Box 130
Bozeman, MT 59771

<a class="text-blue-600 hover:underline" href="http://www.idahopanhandleavalanche.org/">Idaho Panhandle Avalanche Center</a>
PO Box 405
Ponderay, ID 83852

<a class="text-blue-600 hover:underline" href="https://avalanche.org/national-avalanche-center/">National Avalanche Center</a>
P.O. Box 130
Bozeman, MT 59771

<a class="text-blue-600 hover:underline" href="http://www.nwac.us">Northwest Avalanche Center</a>
7600 Sand Point Way NE
Seattle, WA 98115

<a class="text-blue-600 hover:underline" href="http://www.shastaavalanche.org">Mt Shasta Avalanche Center</a>
204 West Alma Street
Mount Shasta, CA 96067

<a class="text-blue-600 hover:underline" href="http://www.mountwashingtonavalanchecenter.org">Mt Washington Avalanche Center</a>
300 Glen Road
Gorham, NH &nbsp;03581

<a class="text-blue-600 hover:underline" href="http://payetteavalanche.org">Payette Avalanche Center</a>
PO Box 2177
McCall, ID 83638

<a class="text-blue-600 hover:underline" href="http://www.sawtoothavalanche.com">Sawtooth Avalanche Center</a>
206 Sun Valley Road
Sun Valley, ID &nbsp;83353

<a class="text-blue-600 hover:underline" href="http://www.sierraavalanchecenter.org">Sierra Avalanche Center</a>
10811 Stockrest Springs Rd
Truckee, CA 96161

<a class="text-blue-600 hover:underline" href="https://utahavalanchecenter.org">Utah Avalanche Center
</a>2242 West North Temple
Salt Lake City, UT 84116

<a class="text-blue-600 hover:underline" href="http://missoulaavalanche.org">West Central Montana Avalanche Center</a>
PO Box 72
Missoula, MT 59806

<strong>State</strong>

<a class="text-blue-600 hover:underline" href="http://avalanche.state.co.us">Colorado Avalanche Information Center</a>
325 Broadway WS1
Boulder, CO 80305

<strong>Local Nonprofit</strong>

<a class="text-blue-600 hover:underline" href="https://alaskasnow.org/" target="_blank" rel="noopener noreferrer">Alaska Avalanche Information Center</a>
Supports the Haines, Valdez, Cordova, and E AK Range Avalanche Centers
PO Box 911
Valdez, AK 99686

<a class="text-blue-600 hover:underline" href="http://www.coavalanche.org/" target="_blank" rel="noopener noreferrer">Central Oregon Avalanche Center</a>
2701 NW Scandia Loop
Bend, Oregon 97701

<a class="text-blue-600 hover:underline" href="http://cbavalanchecenter.org/" target="_blank" rel="noopener noreferrer">Crested Butte Avalanche Center</a>
PO Box 2351
Crested Butte, CO 81224

<a class="text-blue-600 hover:underline" href="https://www.esavalanche.org/" target="_blank" rel="noopener noreferrer">Eastern Sierra Avalanche Center</a>
PO Box 1675
Mammoth Lakes, CA 93546

<a class="text-blue-600 hover:underline" href="https://hpavalanche.org/" target="_blank" rel="noopener noreferrer">Hatcher Pass Avalanche Center</a>
5629 Byrwood Circle
Palmer, AK 99645

<a class="text-blue-600 hover:underline" href="https://kachinapeaks.org/">Kachina Peaks Avalanche Center</a>
PO Box 174
Flagstaff, AZ 86002-0174

<a class="text-blue-600 hover:underline" href="https://taosavalanchecenter.org/" target="_blank" rel="noopener noreferrer">Taos Avalanche Center</a>
PO Box 267
El Prado, NM 87529

<a class="text-blue-600 hover:underline" href="https://www.wallowaavalanchecenter.org/" target="_blank" rel="noopener noreferrer">Wallowa Avalanche Center</a>
P.O. Box 324
Joseph, Oregon 97846
`}},ZS={class:"flex flex-col dark:bg-ww-blue max-w-[280px]"},YS={key:0,class:"flex items-center gap-3 mb-3"},JS={class:"flex items-center justify-center bg-[#F6B91A] rounded-lg p-2 w-10 h-10"},QS={class:"text-lg font-bold text-[#17274F] dark:text-white capitalize"},qS={key:1,class:"flex items-center gap-3 mb-3"},e5={class:"flex items-center justify-center bg-blue-100 dark:bg-ww-blue-200 rounded-lg p-2 w-12 h-12"},t5={class:"text-lg font-bold text-[#17274F] dark:text-white capitalize"},o5={class:"space-y-1 mb-2"},s5={class:"text-[#17274F] dark:text-white font-semibold"},a5={class:"text-gray-600 dark:text-gray-300 !mt-0"},r5={class:"text-[#17274F] dark:text-white"},i5={key:2,class:"text-sm text-gray-600 dark:text-gray-300 mb-3"},n5={class:"text-center"},l5={class:"font-semibold"},c5={class:"font-semibold"},d5=["href"],u5=ae({__name:"AvalanchePopup",props:{feature:{type:Object,required:!0}},setup(i){const e=t=>j.utc(t).local().format("MMM Do HH:mm");return(t,o)=>(c(),p("div",ZS,[i.feature.properties.danger_level>=0?(c(),p("div",YS,[s("div",JS,[b(u(T),{icon:"material-symbols:warning",class:"text-[#17274F] size-6"})]),s("div",null,[s("div",QS,_(i.feature.properties.danger_level)+" - "+_(i.feature.properties.danger),1),o[0]||(o[0]=s("div",{class:"text-sm text-gray-600 dark:text-gray-300"}," Avalanche Danger ",-1))])])):(c(),p("div",qS,[s("div",e5,[b(u(T),{icon:"material-symbols:info",class:"text-blue-700 dark:text-blue-300 size-8"})]),s("div",null,[s("div",t5,_(i.feature.properties.danger),1),o[1]||(o[1]=s("div",{class:"text-sm text-gray-600 dark:text-gray-300"}," Information Available ",-1))])])),s("div",o5,[s("div",s5,_(i.feature.properties.name),1),s("div",a5,_(i.feature.properties.center),1),s("div",r5,_(i.feature.properties.travel_advice),1)]),i.feature.properties.start_date!==i.feature.properties.end_date?(c(),p("div",i5,[s("div",n5,[s("span",l5,_(e(i.feature.properties.start_date)),1),o[2]||(o[2]=L(" - ")),s("span",c5,_(e(i.feature.properties.end_date)),1)])])):x("",!0),s("a",{href:i.feature.properties.link,target:"_blank",class:"inline-flex items-center justify-center py-1.5 bg-[#17274F] hover:bg-[#223a6b] dark:bg-[#F6B91A] dark:hover:bg-[#f7c54a] text-white dark:text-[#17274F] font-semibold rounded-lg transition-colors duration-200 text-sm"}," Get the Forecast ",8,d5)]))}}),p5=G(u5,[["__scopeId","data-v-9ca25d0c"]]);let m5=class{constructor(){this.outlookStore=Ns(),this.nonHatchedSourceId="ww-outlooks-non-hatched-source",this.hatchedSourceId="ww-outlooks-hatched-source",this.lineNonHatchedLayerId="ww-outlooks-line-non-hatched-layer",this.fillNonHatchedLayerId="ww-outlooks-fill-non-hatched-layer",this.lineHatchedLayerId="ww-outlooks-line-hatched-layer",this.fillHatchedLayerId="ww-outlooks-fill-hatched-layer",this.activeSocketRooms=[],this.renderedId=null,this.renderedStep=null,this.renderedGeojson=null,this.addLayer();const e=lt(o=>{const a=wo(o.features.filter(r=>r.source.startsWith("ww-outlooks-")),r=>r.properties.id);if(a.length!=0)return()=>{const r=a[0];if(this.renderedId==="USA/AVALANCHE_ORG/AVALANCHES/CONDITIONS"){const h=window.document.createElement("div");return Tt(Xt(p5,{feature:r}),h),h}const n=this.renderedGeojson.metadata!==void 0&&this.renderedGeojson.metadata.discussion!==void 0,l=()=>{const h=`<svg class='inline size-4 h-full ml-1' xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 256"><path fill="currentColor" d="m184.49 136.49l-80 80a12 12 0 0 1-17-17L159 128L87.51 56.49a12 12 0 1 1 17-17l80 80a12 12 0 0 1-.02 17"/></svg>`;let y=`<div class='flex cursor-pointer'><div>${`<div><strong>${r.properties.name}</strong></div>`}</div>`;return n&&(y+=`<div class='ml-auto'>${h}</div>`),y+="</div>",y},d=window.document.createElement("div"),m=window.document.createElement("div");if(m.innerHTML=l(),m.addEventListener("click",()=>{if(g.popups.clear(),this.renderedGeojson===null)return!1;n&&this.openDiscussionModel(this.renderedId,this.renderedStep,"Forecast Discussion",this.renderedGeojson.metadata)}),d.appendChild(m),this.renderedId.startsWith("USA/WPC/EXCESSIVE_RAINFALL/RAINFALL")&&["DAY_1","DAY_2","DAY_3"].includes(this.renderedStep)){const h=window.document.createElement("button");h.innerText="See QPF",h.classList.add("w-full","px-4","py-1","font-bold","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","mt-2"),h.addEventListener("click",f=>(g.popups.clear(),this.renderOutlook("USA/WPC/QPF/DAILY",this.renderedStep),!1)),d.appendChild(h)}return d}});g.on("click",this.fillHatchedLayerId,e),g.on("click",this.fillNonHatchedLayerId,e);const t=Ib({color:"#000000"});g.addImage("ww-dashed-black-hatch-pattern",t)}addLayer(){g.addSource(this.hatchedSourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addSource(this.nonHatchedSourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.lineHatchedLayerId,type:"line",source:this.hatchedSourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-color"],"line-opacity":["get","line-opacity"],"line-width":["get","line-width"]}},C.mesoscaleDiscussions.lineLayerId),g.addLayer({id:this.fillHatchedLayerId,type:"fill",source:this.hatchedSourceId,layout:{"fill-sort-key":["get","fill-sort-key"]},paint:{"fill-color":["get","fill-color"],"fill-opacity":["get","fill-opacity"],"fill-pattern":["get","fill-pattern"]}},this.lineHatchedLayerId),g.addLayer({id:this.lineNonHatchedLayerId,type:"line",source:this.nonHatchedSourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-color"],"line-opacity":["get","line-opacity"],"line-width":["get","line-width"]}},this.fillHatchedLayerId),g.addLayer({id:this.fillNonHatchedLayerId,type:"fill",source:this.nonHatchedSourceId,layout:{"fill-sort-key":["get","fill-sort-key"]},paint:{"fill-color":["get","fill-color"],"fill-opacity":["get","fill-opacity"]}},this.lineNonHatchedLayerId)}async fetchOutlook(e,t){return await Se.instance().get(`/outlooks/${e}/${t}/latest.geojson?_=${new Date().getTime()}`)}async renderOutlook(e,t){this.stopListeningToRooms(),this.setSteps(e),this.outlookStore.activeOutlookId=e,this.outlookStore.activeStep=t;let o;this.outlookStore.isDataLoading=!0;const a=new Date;try{o=await this.fetchOutlook(e,t)}catch(n){return console.error(`Failed to fetch outlook: ${e} ${t}`,n)}finally{setTimeout(()=>{this.outlookStore.isDataLoading=!1},650-(new Date-a))}if(e.startsWith("USA/WPC/EXCESSIVE_RAINFALL")){const n={...o};n.features=o.features.map(l=>{l.properties["line-sort-key"]=l.properties.DN,l.properties["fill-sort-key"]=l.properties.DN;const d=Ft(l.properties.fill).darken(.15).toHex();return l.properties["line-color"]=d,l.properties["fill-color"]=l.properties.fill,l.properties["line-opacity"]=1,l.properties["fill-opacity"]=1,l.properties["line-width"]=2,l}),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else if(e.startsWith("USA/WPC/QPF")){const n={...o};n.features=o.features.map(l=>(l.properties["line-sort-key"]=l.properties.DN,l.properties["fill-sort-key"]=l.properties.DN,l.properties["line-color"]=l.properties.stroke,l.properties["fill-color"]=l.properties.fill,l.properties["line-opacity"]=0,l.properties["fill-opacity"]=1,l.properties["line-width"]=0,l)),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else if(e.startsWith("USA/WPC/WSSI")||e.startsWith("USA/WPC/WINTER_WEATHER")){const n={...o};n.features=o.features.map(l=>(l.properties["line-sort-key"]=l.properties.DN,l.properties["fill-sort-key"]=l.properties.DN,l.properties["line-color"]=l.properties.fill,l.properties["fill-color"]=l.properties.fill,l.properties["line-opacity"]=0,l.properties["fill-opacity"]=1,l.properties["line-width"]=0,l)),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else if(e.startsWith("USA/AVALANCHE_ORG/AVALANCHES")){const n={...o};n.features=o.features.map(l=>{l.properties["line-sort-key"]=1e3-l.properties.danger_level,l.properties["fill-sort-key"]=1e3-l.properties.danger_level;const d=Ft(l.properties.color).darken(.15).toHex();return l.properties["line-color"]=d,l.properties["fill-color"]=l.properties.color,l.properties["line-opacity"]=1,l.properties["fill-opacity"]=.7,l.properties["line-width"]=1.5,l}),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else if(e.startsWith("USA/CPC/DROUGHT")){const n={...o};n.features=o.features.map(l=>(l.properties["line-sort-key"]=l.properties.DN,l.properties["fill-sort-key"]=l.properties.DN,l.properties["line-color"]=l.properties.fill,l.properties["fill-color"]=l.properties.fill,l.properties["line-opacity"]=0,l.properties["fill-opacity"]=1,l.properties["line-width"]=0,l)),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else if(e.startsWith("USA/CPC/GLOBAL_TROPICS_HARZARDS")){const n={...o};n.features=o.features.map((l,d)=>(l.properties["line-sort-key"]=1e5-d,l.properties["fill-sort-key"]=1e5-d,l.properties["line-color"]=l.properties.fill,l.properties["fill-color"]=l.properties.fill,l.properties["line-opacity"]=0,l.properties["fill-opacity"]=1,l.properties["line-width"]=0,l)),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData(n)}else{const n={...o};n.features=o.features.filter(d=>d.properties.LABEL==="SIGN").map(d=>(d.properties.LABEL==="SIGN"&&(d.properties.DN=1e3,d.properties.fill="rgba(0,0,0,0)",d.properties["fill-pattern"]="ww-dashed-black-hatch-pattern"),d.properties["line-sort-key"]=d.properties.DN,d.properties["fill-sort-key"]=d.properties.DN,d.properties["line-color"]=d.properties.stroke,d.properties["fill-color"]=d.properties.fill,d.properties["line-opacity"]=1,d.properties["fill-opacity"]=1,d.properties["line-width"]=2,d.properties.name===void 0&&d.properties.LABEL2!==void 0&&(d.properties.name=d.properties.LABEL2),d));const l={...o};l.features=o.features.filter(d=>d.properties.LABEL!=="SIGN").map(d=>(d.properties.LABEL==="SIGN"&&(d.properties.DN=1e3,d.properties.fill="rgba(0,0,0,0)"),d.properties["line-sort-key"]=d.properties.DN,d.properties["fill-sort-key"]=d.properties.DN,d.properties["line-color"]=d.properties.stroke,d.properties["fill-color"]=d.properties.fill,d.properties["line-opacity"]=1,d.properties["fill-opacity"]=1,d.properties["line-width"]=2,d.properties.name===void 0&&d.properties.LABEL2!==void 0&&(d.properties.name=d.properties.LABEL2),d)),g.getSource(this.hatchedSourceId).setData(n),g.getSource(this.nonHatchedSourceId).setData(l)}this.renderedId=e,this.renderedStep=t,this.renderedGeojson=o;const r=`outlook:${e}/${t}`;return this.activeSocketRooms.push(r),te.roomJoin(r),te.on(r,async n=>{console.log("Outlook update",r,n),await this.renderOutlook(e,t)}),this.setColortableBasedOnGeojson(o),o}setColortableBasedOnGeojson(e){const t=this.outlookStore.activeOutlookId;let o=e.features.filter(a=>typeof a.properties.fill!="string"?!1:a.properties.fill.length>0);if(o=o.map(a=>{const r=Ft(a.properties.fill).toRgb();let n=a.properties.name;return t==="USA/SPC/CONVECTIVE/CATEGORICAL"?n=n.replace("Thunderstorms",""):t==="USA/WPC/EXCESSIVE_RAINFALL/RAINFALL"&&o.length>2&&window.innerWidth<640&&(n=n.split(/[ ,]+/)[0]),{color:Object.values(r),name:n}}),t.startsWith("USA/SPC/CONVECTIVE/")||t.startsWith("USA/WPC/QPF/")||t.startsWith("USA/WPC/WINTER_WEATHER/")||t.startsWith("USA/WPC/WSSI/")||t.startsWith("USA/CPC/DROUGHT/"))o=[...new Map(o.map(r=>[r.name,r])).values()];else if(t.startsWith("USA/CPC/CLIMATE/")){this.outlookStore.colortable=[];return}else if(t.startsWith("USA/AVALANCHE_ORG/AVALANCHES/")){o=e.features.map(r=>{const n=Ft(r.properties.color).toRgb();return{name:qn(r.properties.danger),color:Object.values(n),sortIdx:r.properties.danger_level}});let a=[...new Map(o.map(r=>[r.name,r])).values()];a.sort((r,n)=>r.sortIdx-n.sortIdx),o=a}else if(t.startsWith("USA/CPC/GLOBAL_TROPICS_HARZARDS/")){o=e.features.filter(r=>typeof r.properties.fill!="string"?!1:r.properties.fill.length>0),o.sort((r,n)=>r.properties.prob-n.properties.prob);const a={TROPICAL_CYCLONE_FORMATION:"TCF",ENHANCED_PRECIPITATION:"EP",SUPPRESSED_PRECIPITATION:"SP",ABOVE_AVERAGE_TEMPERATURES:"AAT",BELOW_AVERAGE_TEMPERATURES:"BAT"};o=o.map(r=>{const n=Ft(r.properties.fill).toRgb();return{color:Object.values(n),name:t.endsWith("COMBINED")?`${a[r.properties.product]}: ${r.properties.prob}%`:`${r.properties.prob}%`,uniqueKey:t.endsWith("COMBINED")?`${r.properties.product}-${r.properties.prob}%`:`${r.properties.prob}%`}}),o=[...new Map(o.map(r=>[r.uniqueKey,r])).values()]}else if(o.length>4){this.outlookStore.colortable=[];return}o.length===0&&o.push({color:[0,0,0],name:"No data"}),this.outlookStore.colortable=o}stopListeningToRooms(){this.activeSocketRooms.forEach(e=>{te.roomLeave(e),te.removeAllListeners(e)}),this.activeSocketRooms=[]}clear(){this.stopListeningToRooms(),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.nonHatchedSourceId).setData({type:"FeatureCollection",features:[]}),g.getSource(this.hatchedSourceId).setData({type:"FeatureCollection",features:[]})}openDiscussionModel(e,t,o,a){ne({defaultModelValue:!0,component:Ae,attrs:{title:o},slots:{default:le({component:US,attrs:{id:e,step:t,metadata:a}})}})}openOutlookHelpModal(e){let t=null,o=e.slice(0);for(;t=jS[o],t===void 0;){const r=o.split("/");if(r.pop(),r.length===0)break;o=r.join("/")}if(t==null)return alert("Unable to locate help information");const a=ne({defaultModelValue:!0,component:Ae,attrs:{title:t.title},slots:{default:le({component:VS,attrs:{text:t.text,onClose(){a.close()}}})}});return a}setSteps(e){let t=GS[e];return t===void 0&&(t=[]),typeof t=="function"&&(t=t()),t.length>0&&t.find(o=>o.id===this.outlookStore.activeStep)===void 0&&(this.outlookStore.activeStep=t[0].id),this.outlookStore.steps=t,t}show(){for(const e of[this.lineNonHatchedLayerId,this.fillNonHatchedLayerId,this.lineHatchedLayerId,this.fillHatchedLayerId])g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of[this.lineNonHatchedLayerId,this.fillNonHatchedLayerId,this.lineHatchedLayerId,this.fillHatchedLayerId])g.setLayoutProperty(e,"visibility","none")}};const So=ve("tropical",{state:()=>({wsp:null,toa:null,fwr:null,storms:[],disturbances:[]}),actions:{setWsp(i){this.wsp=i},clearWsp(){this.setWsp(null)},setToa(i){this.toa=i},clearToa(){this.setToa(null)},setFwr(i){this.fwr=i},clearFwr(){this.setFwr(null)},setStorms(i){this.storms=i},clearStorms(){this.setStorms([])},setDisturbances(i){this.disturbances=i},clearDisturbances(){this.setDisturbances([])}}}),h5={class:"relative inline"},g5={key:0,class:"z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 left-0 top-10 absolute"},f5={class:"py-2 text-sm text-gray-700","aria-labelledby":"dropdownDefaultButton"},y5=["textContent","onClick"],N5={name:"WspButton",components:{Icon:T},data(){return{isOpen:!1,wsps:[{id:"34kt",name:"34 knots (~39 mph)"},{id:"50kt",name:"50 knots (~58 mph)"},{id:"64kt",name:"64 knots (~74 mph)"}]}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},onMenuOutsideClick(){setTimeout(()=>{this.isOpen=!1},10)},toggle(){this.isOpen?this.close():this.open()},async onWspOptionClick(i,e){console.log(e),this.close(),this.$parent.$emit("close"),e.id===this.tropicalStore.wsp?C.tropical.clearWsp():await C.tropical.fetchAndRenderWsp(e.id)}},computed:{tropicalStore:()=>So()}},v5=Object.assign(N5,{setup(i){return(e,t)=>(c(),p("div",h5,[s("button",{type:"button",class:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl font-bold rounded-lg text-xs sm:text-sm px-2.5 py-1 text-center me-2 mt-2",onClick:t[0]||(t[0]=P(o=>e.toggle(o),["prevent"]))},[b(u(T),{icon:"ph:wind-duotone",class:"inline mr-1 size-5"}),t[1]||(t[1]=L("Wind Speed ")),t[2]||(t[2]=s("span",{class:"sm:hidden font-bold"},"Prob.",-1)),t[3]||(t[3]=s("span",{class:"hidden sm:inline font-bold"},"Probabilities",-1)),t[4]||(t[4]=L()),b(u(T),{icon:e.isOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"inline -mt-[1px] ml-1 font-bold size-5"},null,8,["icon"])]),b(at,{name:"slide-fade"},{default:ie(()=>[e.isOpen?V((c(),p("div",g5,[s("ul",f5,[(c(!0),p(z,null,ee(e.wsps,o=>(c(),p("li",null,[s("a",{href:"#",class:O(["block px-4 py-2 hover:bg-gray-100",{"font-bold":e.tropicalStore.wsp===o.id}]),textContent:_(o.name),onClick:P(a=>e.onWspOptionClick(a,o),["prevent"])},null,10,y5)]))),256))])])),[[u(De),e.onMenuOutsideClick]]):x("",!0)]),_:1})]))}}),b5=G(v5,[["__scopeId","data-v-438d19ff"]]),w5={key:0,class:"relative inline"},x5={key:0,class:"z-10 bg-white divide-y divide-gray-100 rounded-lg shadow w-44 left-0 top-10 absolute"},_5={class:"py-2 text-sm text-gray-700","aria-labelledby":"dropdownDefaultButton"},S5=["textContent","onClick"],k5={name:"ToaButton",props:["storm"],components:{Icon:T},data(){return{isOpen:!1}},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},onMenuOutsideClick(){setTimeout(()=>{this.isOpen=!1},10)},toggle(){this.isOpen?this.close():this.open()},async onToaOptionClick(i,e){if(this.close(),this.$parent.$emit("close"),e.id===this.tropicalStore.toa)C.tropical.clearToa();else{this.tropicalStore.setToa(e.id);const t=(()=>{if(e.id.includes("earliest"))return"earliest";if(e.id.includes("most_likely"))return"most_likely";throw new Error("Unknown TOA kind")})();await C.tropical.fetchAndRenderToa(this.storm,t)}}},computed:{tropicalStore:()=>So(),toas(){const i=[];return this.storm.time_of_arrival_earliest_url!==null&&i.push({id:`${this.storm.id}-earliest`,name:"Earliest Reasonable"}),this.storm.time_of_arrival_most_likely_url!==null&&i.push({id:`${this.storm.id}-most_likely`,name:"Most Likely"}),i}}},A5=Object.assign(k5,{setup(i){return(e,t)=>e.toas.length>0?(c(),p("div",w5,[s("button",{type:"button",class:"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl font-bold rounded-lg text-xs sm:text-sm px-2.5 py-1 text-center me-2 mt-2",onClick:t[0]||(t[0]=P(o=>e.toggle(o),["prevent"]))},[b(u(T),{icon:"ph:clock",class:"inline mr-1 size-5"}),t[1]||(t[1]=L("Time Of Arrival ")),b(u(T),{icon:e.isOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"inline -mt-[1px] ml-1 font-bold size-5"},null,8,["icon"])]),b(at,{name:"slide-fade"},{default:ie(()=>[e.isOpen?V((c(),p("div",x5,[s("ul",_5,[(c(!0),p(z,null,ee(e.toas,o=>(c(),p("li",null,[s("a",{href:"#",class:O(["block px-4 py-2 hover:bg-gray-100",{"font-bold":e.tropicalStore.toa===o.id}]),textContent:_(o.name),onClick:P(a=>e.onToaOptionClick(a,o),["prevent"])},null,10,S5)]))),256))])])),[[u(De),e.onMenuOutsideClick]]):x("",!0)]),_:1})])):x("",!0)}}),C5=G(A5,[["__scopeId","data-v-bf53c5e5"]]),T5={name:"StormProductHelp",props:["text"],emits:["close"]},B5=["innerHTML"];function D5(i,e,t,o,a,r){return c(),p("p",{innerHTML:t.text.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,B5)}const Qr=G(T5,[["render",D5]]),I5={name:"Discussion",props:["storm"],emits:["close"],components:{Icon:T,WspButton:b5,ToaButton:C5},data(){return{tab:"public_advisory",tabs:[{id:"public_advisory",name:"Public Advisory",help:"A Public Advisory is a key text product issued by both the National Weather Service (NWS) and the National Hurricane Center (NHC) to provide critical information to the public about ongoing or forecasted tropical cyclones, hurricanes, or other significant weather events. These advisories typically contain details about the storm's current location, movement, intensity, and any potential hazards such as heavy rainfall, strong winds, or storm surges. Additionally, the Public Advisory may outline warnings or watches in effect for specific areas, recommendations for preparedness actions, and projected paths or updates on the storm's expected evolution. Public Advisories are updated regularly as conditions change, serving as an essential tool for keeping the public informed and safe during hazardous weather events."},{id:"forecast_discussion",name:"Forecast Discussion",help:"A Forecast Discussion is a detailed text product issued by both the National Weather Service (NWS) and the National Hurricane Center (NHC) that provides an in-depth analysis of the meteorological reasoning behind a forecast, particularly for significant weather events like tropical cyclones or hurricanes. This product explains the thought process of forecasters, including how current observations, computer models, and other data sources contribute to the forecast's development. It discusses uncertainties, potential changes in track or intensity, and why specific warnings or watches have been issued. The Forecast Discussion offers valuable insights for weather professionals, emergency managers, and the general public who seek to understand the technical aspects behind a weather forecast or storm update."},{id:"forecast_advisory",name:"Forecast Advisory",help:"A Forecast Advisory is a text product issued by the National Hurricane Center (NHC) that provides the latest forecast information regarding a tropical cyclone's expected path, intensity, and size. This advisory typically includes the storm's current position, wind speeds, and central pressure, as well as a forecast track for the next several hours or days. The Forecast Advisory is designed to give a clear, concise update on the tropical cyclone's expected movement and impacts, offering essential guidance for decision-makers and the general public in affected areas. It also includes information about any active watches or warnings, helping communities to prepare for potential threats like high winds, storm surges, or heavy rainfall. Forecast Advisories are issued regularly as new data becomes available and conditions evolve."},{id:"wind_speed_probabilities",name:"Wind Speed Probabilities",help:`Wind Speed Probabilities is a specialized text product issued by the National Hurricane Center (NHC) that provides information on the likelihood of experiencing tropical storm-force, hurricane-force, or other specific wind speeds at various locations over a given time period. This product uses a probabilistic approach to communicate the chances that sustained winds at or above certain thresholds will affect a particular area as a tropical cyclone approaches.

The Wind Speed Probabilities are based on a combination of the forecast track, intensity, and size of the storm, as well as the inherent uncertainties in those forecasts. This product helps emergency managers, decision-makers, and the public understand the potential for damaging winds at specific locations, aiding in preparedness actions and decision-making. The probabilities are typically displayed in tabular or graphical form and updated regularly to reflect changes in the storm's forecast.`}]}},methods:{async onForecastWindRadiiClick(i){this.$emit("close"),this.storm.id===this.tropicalStore.fwr?C.tropical.clearFwr():(this.tropicalStore.setFwr(this.storm.id),await C.tropical.fetchAndRenderFwr(this.storm))},onShareClick(i){he.share()},onTabClick(i,e){return this.tab=e,!1},showHelp(i){const e=this.tabs.find(o=>o.id===this.tab),t=ne({defaultModelValue:!0,component:Ae,attrs:{title:e.name},slots:{default:le({component:Qr,attrs:{text:e.help,onClose(){t.close()}}})}})}},computed:{tropicalStore:()=>So(),lastUpdatedAt(){return j.utc(this.storm.last_update_at).local().format("YYYY-MM-DD HH:mm:ss")},forecastWindRadiiActive(){return this.tropicalStore.fwr===this.storm.id}}},E5={class:"border-b border-gray-200 hidden sm:block"},L5={class:"flex flex-wrap -mb-px text-sm font-medium text-center text-gray-500 dark:text-white"},R5={class:"me-2"},F5=["onClick","textContent"],M5={class:"sm:hidden"},P5={class:"flex"},H5=["value","textContent"],z5=["innerHTML"],O5={class:"text-sm text-slate-600 dark:text-slate-400"};function K5(i,e,t,o,a,r){const n=Ie("WspButton"),l=Ie("ToaButton"),d=Ie("Icon");return c(),p(z,null,[s("div",null,[b(n),b(l,{storm:t.storm},null,8,["storm"]),t.storm.forecast_wind_radii_url?(c(),p("button",{key:0,type:"button",class:O(["font-bold rounded-lg text-xs sm:text-sm px-2.5 py-1 text-center me-2 mt-2",{"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl":!r.forecastWindRadiiActive,"border border-blue-700 text-purple-600":r.forecastWindRadiiActive}]),onClick:e[0]||(e[0]=P(m=>r.onForecastWindRadiiClick(m),["prevent"]))},[b(d,{icon:"oui:radius",class:"inline mr-1 size-5"}),e[5]||(e[5]=L("Forecast Wind Radii"))],2)):x("",!0),s("button",{type:"button",class:"bg-[#F6B91A] text-[#17274F] hover:bg-[#17274F] hover:text-[#F6B91A] dark:hover:bg-[#F6B91A] dark:hover:text-[#17274F] rounded-lg text-xs px-2.5 py-0.5 relative top-[-2px] text-center me-2 mb-2 font-medium transition-all duration-200 transform active:scale-90 active:shadow-[0_0_0_2px_#17274F,0_0_0_4px_#F6B91A] dark:active:shadow-[0_0_0_2px_#F6B91A,0_0_0_4px_#17274F]",onClick:e[1]||(e[1]=P(m=>r.onShareClick(m),["prevent"]))},[b(d,{icon:"ion:share-outline",class:"inline mr-1 size-5"}),e[6]||(e[6]=L("Share"))])]),s("div",E5,[s("ul",L5,[(c(!0),p(z,null,ee(a.tabs,m=>(c(),p("li",R5,[s("a",{href:"#",onClick:P(h=>r.onTabClick(h,m.id),["prevent"]),class:O(["inline-flex items-center justify-center p-4 px-3 border-b-2 rounded-t-lg group",{"text-blue-600 dark:text-blue-400 border-blue-600 active":this.tab===m.id,"border-transparent hover:text-gray-600 dark:hover:text-gray-300 hover:border-gray-300":this.tab!==m.id}]),textContent:_(m.name)},null,10,F5)]))),256)),s("li",null,[s("a",{href:"#",class:"inline-flex items-center justify-center p-4 rounded-t-lg group hover:text-gray-600",onClick:e[2]||(e[2]=P(m=>r.showHelp(m),["prevent"]))},[b(d,{icon:"carbon:help",class:"size-5 align-middle"})])])])]),s("div",M5,[s("div",P5,[V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-1","onUpdate:modelValue":e[3]||(e[3]=m=>a.tab=m)},[(c(!0),p(z,null,ee(a.tabs,m=>(c(),p("option",{value:m.id,textContent:_(m.name)},null,8,H5))),256))],512),[[Qe,a.tab]]),s("a",{href:"#",class:"inline-flex items-center justify-center p-2 pl-4",onClick:e[4]||(e[4]=P(m=>r.showHelp(m),["prevent"]))},[b(d,{icon:"carbon:help",class:"size-5 align-middle"})])])]),s("p",{innerHTML:t.storm[this.tab].replace(/(?:\r\n|\r|\n)/g,"<br>"),class:"pt-3"},null,8,z5),e[7]||(e[7]=s("hr",{class:"my-4"},null,-1)),s("p",O5,"The information is provided to us in realtime from the National Weather Service (NWS), specifically from the National Hurricane Center (NHC). Last update at: "+_(r.lastUpdatedAt),1)],64)}const U5=G(I5,[["render",K5]]),$5={name:"StormProductHelp",props:["feature"],emits:["close"],computed:{lastUpdatedAt(){return j.utc(this.feature.properties.last_update_at).local().format("YYYY-MM-DD HH:mm:ss")}}},X5=["innerHTML"],W5={class:"text-sm text-slate-600 dark:text-slate-400"};function V5(i,e,t,o,a,r){return c(),p(z,null,[s("p",{innerHTML:t.feature.properties.discussion.replace(/(?:\r\n|\r|\n)/g,"<br>")},null,8,X5),e[0]||(e[0]=s("hr",{class:"my-4"},null,-1)),s("p",W5,"The information is provided to us in realtime from the National Weather Service (NWS), specifically from the National Hurricane Center (NHC). Last update at: "+_(r.lastUpdatedAt),1)],64)}const G5=G($5,[["render",V5]]),ea=ve("settings/tropical",{state:()=>({visible:!0}),persist:!0,actions:{toggleVisible(){this.visible=!this.visible}}});class j5{constructor(){this.tropicalStore=So(),this.settings=ea(),this.appStore=xe(),this.forecastTrackPointSourceId="ww-tropical-forecast-track-point-source",this.forecastTrackSourceId="ww-tropical-forecast-track-source",this.forecastTrackConeSourceId="ww-tropical-forecast-track-cone-source",this.bestTrackSourceId="ww-tropical-best-track-source",this.peakStormSurgeSourceId="ww-tropical-peak-storm-surge-source",this.disturbancesSourceId="ww-tropical-disturbances-source",this.toaSourceId="ww-tropical-toa-source",this.wspSourceId="ww-tropical-wsp-source",this.fwrSourceId="ww-tropical-fwr-source",this.sources=[this.forecastTrackPointSourceId,this.forecastTrackSourceId,this.forecastTrackConeSourceId,this.bestTrackSourceId,this.peakStormSurgeSourceId,this.disturbancesSourceId,this.toaSourceId,this.wspSourceId,this.fwrSourceId],this.sources.forEach(v=>{g.addSource(v,{type:"geojson",generateId:!0,data:{type:"FeatureCollection",features:[]}})}),this.symbolForecastTrackPointLayerId="ww-tropical-forecast-track-point-layer",this.lineForecastTrackLayerId="ww-tropical-forecast-track-line-layer",this.lineForecastTrackConeLayerId="ww-tropical-forecast-track-cone-line-layer",this.fillForecastTrackConeLayerId="ww-tropical-forecast-track-cone-fill-layer",this.lineBestTrackLayerId="ww-tropcal-best-track-line-layer",this.linePeakStormSurgeLayerId="ww-tropical-peak-storm-surge-line-layer",this.lineDisturbancesLayerId="ww-tropical-disturbances-line-layer",this.fillDisturbancesLayerId="ww-tropical-disturbances-fill-layer",this.lineToaLayerId="ww-tropical-toa-line-layer",this.symbolToaLayerId="ww-tropical-toa-symbol-layer",this.fillWspLayerId="ww-tropical-wsp-fill-layer",this.lineForecastWindRadiiLayerId="ww-tropical-forecast-wind-radii-line-layer",this.fillForecastWindRadiiLayerId="ww-tropical-forecast-wind-radii-fill-layer",this.layers=[this.symbolForecastTrackPointLayerId,this.lineForecastTrackLayerId,this.lineForecastTrackConeLayerId,this.fillForecastTrackConeLayerId,this.lineBestTrackLayerId,this.linePeakStormSurgeLayerId,this.lineDisturbancesLayerId,this.fillDisturbancesLayerId,this.lineToaLayerId,this.symbolToaLayerId,this.fillWspLayerId,this.lineForecastWindRadiiLayerId,this.fillForecastWindRadiiLayerId],this.activeSocketRooms=[],this.storms=null,this.disturbances=null,this.addStormsLayer(),this.addToaLayer(),this.addFwrLayer(),this.addWspLayer(),this.addDisturbancesLayer();let e=Date.now();const t=lt(v=>{if(v.features.length==0)return;const A=v.features.filter(B=>B.source.startsWith("ww-tropical-"));if(A.length!==0)return this.storms===null?!1:(e=Date.now(),()=>{const B=A[0],I=this.storms.find(k=>k.id===B.properties.storm_id),R=window.document.createElement("div");let M="<div class='flex cursor-pointer'>";M+="<div class='w-full'>",M+=`<div class='text-center'><strong>${I.name}</strong></div>`,B.properties.maximum_wind_mph&&(M+=`<div>Wind Speed: <strong>${B.properties.maximum_wind_mph.toFixed(0)}mph</strong></div>`),B.properties.wind_gusts_mph&&(M+=`<div>Wind Gusts: <strong>${B.properties.wind_gusts_mph.toFixed(0)}mph</strong></div>`),B.properties.maximum_wind_kt&&hs(B.properties.maximum_wind_kt)>0&&(M+=`<div>Category: <strong>${hs(B.properties.maximum_wind_kt)}</strong></div>`),B.properties.motion&&(M+=`<div>Heading: <strong>${B.properties.motion}</strong></div>`),B.properties.minimum_pressure&&(M+=`<div>Min. Pressure: <strong>${B.properties.minimum_pressure}</strong></div>`),B.properties.valid_at&&(M+=`<div class='text-center mt-1 text-xs'>${j.utc(B.properties.valid_at).local().format("MMM Do, h A")}</div>`),M+="</div>",M+=`<div>${Ot}</div>`,M+="</div>",R.innerHTML=M,R.addEventListener("click",()=>{g.popups.clear(),this.openStormInfoModel(I)});const D=window.document.createElement("div");if(D.appendChild(R),this.appStore.mode!=="SATELLITE"){const k=window.document.createElement("button");k.innerText="Show on Satellite",k.classList.add("w-full","px-4","py-1","font-bold","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","mt-2"),k.addEventListener("click",F=>{g.popups.clear();const E=Mt(B.geometry),K=C.satellite.findBestSatelliteFor(E.geometry.coordinates);return C.satellite.turnOnSatellite(g.activeMap(),K),this.appStore.setMode("SATELLITE"),!1}),D.appendChild(k)}return D})});g.on("click",this.symbolForecastTrackPointLayerId,t);const o=Gr(v=>{if(v.features.length==0)return;const A=v.features.filter(k=>k.source.startsWith("ww-tropical-"));if(A.length===0)return;if(this.storms===null)return!1;const B=A[0];this.storms.find(k=>k.id===B.properties.storm_id);const I=window.document.createElement("div");let R="<div class='cursor-pointer'>";const M=B.properties.name.split("...").map(k=>k.trim());R+="<div class='text-center mb-1'><strong>Peak Storm Surge Forecast</strong></div>",R+=`<div class='text-center'><strong>${M[0]}</strong></div>`,M.length>1&&(R+=`<div class='text-center'><u><strong>${M[1]}</strong></u></div>`),R+="</div>",I.innerHTML=R,I.addEventListener("click",()=>{g.popups.clear()});const D=g.popups.create().setLngLat(v.lngLat).setDOMContent(I);g.popups.render(D)});g.on("click",this.linePeakStormSurgeLayerId,o);const a=lt(v=>{if(v.features.length==0)return;const A=v.features.filter(I=>I.source.startsWith("ww-tropical-"));if(!(A.length===0||Date.now()-e<10))return()=>{const I=[A[0]],R=I[0].properties.id,M=this.storms.find(E=>E.id===R),D=I.map(E=>`<div class='text-center'><strong>${M.name}</strong></div>`).join("")+"<div class='text-center text-xs italic'>Cone of Uncertainty</div>",k=window.document.createElement("div");k.innerHTML=`<div class='flex cursor-pointer'><div class='flex-1'>${D}</div><div>${Ot}</div></div>`,k.addEventListener("click",()=>{if(g.popups.clear(),this.storms===null)return!1;this.openStormInfoModel(M)});const F=window.document.createElement("div");if(F.appendChild(k),this.appStore.mode!=="SATELLITE"){const E=window.document.createElement("button");E.innerText="Show on Satellite",E.classList.add("w-full","px-4","py-1","font-bold","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","mt-2"),E.addEventListener("click",K=>{g.popups.clear();const U=Mt(I[0].geometry),X=C.satellite.findBestSatelliteFor(U.geometry.coordinates);return C.satellite.turnOnSatellite(g.activeMap(),X),this.appStore.setMode("SATELLITE"),!1}),F.appendChild(E)}return F}});g.on("click",this.fillForecastTrackConeLayerId,a);const r=lt(v=>{if(v.features.length==0)return;const A=v.features.filter(B=>B.source.startsWith("ww-tropical-"));if(A.length!==0)return()=>{const B=A[0];let I="<div class='text-center mb-1 text-gray-900 dark:text-slate-300'><strong>Tropical Disturbance</strong></div>";I+=`<div>Day 2: <strong>${B.properties.day_2_percentage} (${B.properties.day_2_category})</strong></div>`,I+=`<div>Day 7: <strong>${B.properties.day_7_percentage} (${B.properties.day_7_category})</strong></div>`;const R=window.document.createElement("div");R.innerHTML=`<div class='flex cursor-pointer'><div class='w-full'>${I}</div><div>${Ot}</div></div>`,R.addEventListener("click",()=>{g.popups.clear(),this.openDisturbanceInfoModel(B)});const M=window.document.createElement("div");if(M.appendChild(R),this.appStore.mode!=="SATELLITE"){const D=window.document.createElement("button");D.innerText="Show on Satellite",D.classList.add("w-full","px-4","py-1","font-bold","rounded-lg","text-white","bg-blue-600","hover:bg-blue-700","mt-2"),D.addEventListener("click",k=>{g.popups.clear();const F=Mt(B.geometry),E=C.satellite.findBestSatelliteFor(F.geometry.coordinates);return C.satellite.turnOnSatellite(g.activeMap(),E),this.appStore.setMode("SATELLITE"),!1}),M.appendChild(D)}return M}});g.on("click",this.fillDisturbancesLayerId,r);const n=lt(v=>{if(v.features.length==0)return;const A=v.features.filter(B=>B.source.startsWith("ww-tropical-fwr"));if(A.length!==0)return()=>{const B=A[0];let I="<div class='text-center mb-1'><strong>Forecast Wind Radii</strong></div>";I+=`<div>Wind speed: <strong>${B.properties.name}</strong></div>`;const R=window.document.createElement("div");return R.innerHTML=`<div class='flex cursor-pointer'><div>${I}</div></div>`,R.addEventListener("click",()=>{g.popups.clear()}),R}});g.on("click",this.fillForecastWindRadiiLayerId,n);const l=lt(v=>{if(v.features.length==0)return;const A=v.features.filter(B=>B.source.startsWith("ww-tropical-wsp"));if(A.length!==0)return()=>{const B=A[0];let I=`<div class='text-center mb-1'><strong>${this.tropicalStore.wsp} Wind Speed</strong></div>`;I+=`<div>Probability: <strong>${B.properties.name}</strong></div>`;const R=window.document.createElement("div");return R.innerHTML=`<div class='flex cursor-pointer'><div>${I}</div></div>`,R.addEventListener("click",()=>{g.popups.clear()}),R}});g.on("click",this.fillWspLayerId,l);const d=St({size:36,color:qt(157),border_color:"#FFFFFF",border_size:2,text:"H5"});g.addImage("ww-tropical-forecast-point-h5",d,{pixelRatio:2});const m=St({size:36,color:qt(130),border_color:"#FFFFFF",border_size:2,text:"H4"});g.addImage("ww-tropical-forecast-point-h4",m,{pixelRatio:2});const h=St({size:36,color:qt(111),border_color:"#FFFFFF",border_size:2,text:"H3"});g.addImage("ww-tropical-forecast-point-h3",h,{pixelRatio:2});const f=St({size:36,color:qt(96),border_color:"#FFFFFF",border_size:2,text:"H2"});g.addImage("ww-tropical-forecast-point-h2",f,{pixelRatio:2});const y=St({size:36,color:qt(74),border_color:"#FFFFFF",border_size:2,text:"H1"});g.addImage("ww-tropical-forecast-point-h1",y,{pixelRatio:2});const N=St({size:36,color:qt(39),border_color:"#FFFFFF",border_size:2,text:"TS"});g.addImage("ww-tropical-forecast-point-ts",N,{pixelRatio:2});const w=St({size:36,color:qt(0),border_color:"#FFFFFF",border_size:2,text:"TD"});g.addImage("ww-tropical-forecast-point-td",w,{pixelRatio:2}),(async()=>{try{await this.fetchAndRenderStorms()}catch(B){console.error("Failed to fetch or render tropical storms",B)}const v="tropical:USA-NHC-storms";this.activeSocketRooms.push(v),te.roomJoin(v),te.on(v,async B=>{console.log("tropical storm update",v,B),await this.fetchAndRenderStorms()});const A=new Ne;if(A.has("trs")){const B=A.get("trs");A.delete("trs"),A.save();const I=this.storms.find(R=>R.id===B);if(I===void 0)return;setTimeout(()=>{this.fitBoundsForForecast(I)},200)}})(),(async()=>{try{await this.fetchAndRenderDisturbances()}catch(B){console.error("Failed to fetch or render tropical disturbances",B)}const v="tropical:USA-NHC-disturbances";this.activeSocketRooms.push(v),te.roomJoin(v),te.on(v,async B=>{console.log("tropical disturbance update",v,B),await this.fetchAndRenderDisturbances()});const A=new Ne;A.has("trd")&&A.get("trd")})();const S=v=>{v.visible?this.show():this.hide()};this.settings.$subscribe((v,A)=>{S(A)}),S(this.settings)}addStormsLayer(){g.addLayer({id:this.symbolForecastTrackPointLayerId,type:"symbol",source:this.forecastTrackPointSourceId,layout:{"icon-image":["get","icon-image"],"icon-size":["get","icon-size"],"icon-padding":1,"symbol-sort-key":["get","symbol-sort-key"],"icon-pitch-alignment":"map"}},"ww-bottom-top-radar-layer"),g.addLayer({id:this.lineForecastTrackLayerId,type:"line",source:this.forecastTrackSourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":"#0F224E","line-opacity":.8,"line-width":2}},this.symbolForecastTrackPointLayerId),g.addLayer({id:this.lineForecastTrackConeLayerId,type:"line",source:this.forecastTrackConeSourceId,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#FFFFFF","line-opacity":.4,"line-width":2}},"ww-bottom-middle-radar-layer"),g.addLayer({id:this.fillForecastTrackConeLayerId,type:"fill",source:this.forecastTrackConeSourceId,layout:{},paint:{"fill-color":"#FFFFFF","fill-opacity":.1}},this.lineForecastTrackConeLayerId),g.addLayer({id:this.lineBestTrackLayerId,type:"line",source:this.bestTrackSourceId,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#0F224E","line-opacity":.5,"line-width":1,"line-dasharray":[0,4,3]}},this.lineForecastTrackLayerId),g.addLayer({id:this.linePeakStormSurgeLayerId,type:"line",source:this.peakStormSurgeSourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-color"],"line-opacity":["get","line-opacity"],"line-width":["get","line-width"]}},"ww-top-middle-radar-layer-2")}addToaLayer(){g.addLayer({id:this.symbolToaLayerId,type:"symbol",source:this.toaSourceId,layout:{"symbol-placement":"line","text-allow-overlap":!0,"text-field":["get","name"],"text-size":15,"text-ignore-placement":!1},paint:{"text-color":"#EEEEEE","text-halo-width":2,"text-halo-color":"#333333"}},this.lineBestTrackLayerId),g.addLayer({id:this.lineToaLayerId,type:"line",source:this.toaSourceId,layout:{"line-sort-key":["get","line-sort-key"],"line-cap":"round","line-join":"round"},paint:{"line-color":["get","line-color"],"line-opacity":["get","line-opacity"],"line-width":["get","line-width"]}},this.symbolToaLayerId)}addFwrLayer(){g.addLayer({id:this.lineForecastWindRadiiLayerId,type:"line",source:this.fwrSourceId,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["get","stroke"],"line-opacity":.1,"line-width":2}},this.lineToaLayerId),g.addLayer({id:this.fillForecastWindRadiiLayerId,type:"fill",source:this.fwrSourceId,layout:{"fill-sort-key":["get","fill-sort-key"]},paint:{"fill-color":["get","fill"],"fill-opacity":["get","fill-opacity"]}},this.lineForecastWindRadiiLayerId)}addWspLayer(){g.addLayer({id:this.fillWspLayerId,type:"fill",source:this.wspSourceId,layout:{},paint:{"fill-color":["get","fill"],"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.35,.15]}},this.linePeakStormSurgeLayerId)}addDisturbancesLayer(){g.addLayer({id:this.lineDisturbancesLayerId,type:"line",source:this.disturbancesSourceId,layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["get","stroke"],"line-opacity":.7,"line-width":2}},this.fillWspLayerId),g.addLayer({id:this.fillDisturbancesLayerId,type:"fill",source:this.disturbancesSourceId,layout:{},paint:{"fill-color":["get","fill"],"fill-opacity":.1}},this.lineDisturbancesLayerId)}async fetchAndRenderStorms(){let e;try{e=await this.fetchStorms()}catch(t){return console.error("Failed to fetch tropical storms",t)}this.storms=e,this.tropicalStore.setStorms(e.map(t=>({id:t.id,name:t.name,classification:t.classification,wind_speed_kt:t.wind_speed_kt,wind_speed_mph:t.wind_speed_mph,pressure:t.pressure,position:t.position,movement_direction:t.movement_direction,movement_speed:t.movement_speed,ocean:t.ocean,last_update_at:t.last_update_at}))),this.renderStorms(e)}async fetchStorms(){return await Se.instance().get(`/tropical/USA/NHC/storms.json?_=${new Date().getTime()}`)}async renderStorms(e){const t=[],o=[],a=[],r=[],n=[];for(const l of e){if(l.forecast_track){const d=l.forecast_track,m=d.features.filter(f=>f.geometry.type==="Point").map((f,y)=>(f.properties.id=`${y}`,f.properties.storm_id=l.id,f.properties["icon-image"]="ww-tropical-forecast-point-h5",f.properties["icon-image"]=(()=>{const N=f.properties.maximum_wind_mph;return N>=157?"ww-tropical-forecast-point-h5":N>=130?"ww-tropical-forecast-point-h4":N>=111?"ww-tropical-forecast-point-h3":N>=96?"ww-tropical-forecast-point-h2":N>=74?"ww-tropical-forecast-point-h1":N>=39?"ww-tropical-forecast-point-ts":"ww-tropical-forecast-point-td"})(),f.properties["icon-size"]=1,f));o.push(...m);const h=d.features.filter(f=>f.geometry.type==="LineString"&&f.geometry.coordinates.length===m.length).map(f=>(f.properties.id=l.id,f.properties["line-sort-key"]=1,f.properties["fill-sort-key"]=1,f.properties["line-color"]=f.properties.stroke,f.properties["fill-color"]=f.properties.fill,f.properties["line-opacity"]=1,f.properties["fill-opacity"]=1,f.properties["line-width"]=2,f.geometry.coordinates=Pa(Ha(f.geometry.coordinates)).geometry.coordinates,f));if(t.push(...h),l.best_track){const f=l.best_track,y=d.features.find(w=>w.geometry.type==="LineString"),N=f.features.reduce((w,S,v)=>(w.geometry.coordinates.push(S.geometry.coordinates),w),{type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{id:l.id,"line-color":"#000000","line-width":1,"line-opacity":.5}});N.geometry.coordinates.push(y.geometry.coordinates[0]),N.geometry.coordinates=Pa(Ha(N.geometry.coordinates)).geometry.coordinates,r.push(N)}}if(l.forecast_track_cone){const d=l.forecast_track_cone;d.features=d.features.map(m=>(m.properties.id=l.id,m.properties["line-sort-key"]=1,m.properties["fill-sort-key"]=1,m.properties["line-color"]=m.properties.stroke,m.properties["fill-color"]=m.properties.fill,m.properties["line-opacity"]=1,m.properties["fill-opacity"]=1,m.properties["line-width"]=2,m)),a.push(...d.features)}if(l.peak_storm_surge){const d=l.peak_storm_surge.features.map(m=>(m.properties.storm_id=l.id,m.properties["line-color"]=m.properties.stroke,m.properties["line-width"]=7,m.properties["line-opacity"]=1,m));n.push(...d)}}g.getSource(this.forecastTrackSourceId).setData({type:"FeatureCollection",features:t}),g.getSource(this.forecastTrackPointSourceId).setData({type:"FeatureCollection",features:o}),g.getSource(this.forecastTrackConeSourceId).setData({type:"FeatureCollection",features:a}),g.getSource(this.bestTrackSourceId).setData({type:"FeatureCollection",features:r}),g.getSource(this.peakStormSurgeSourceId).setData({type:"FeatureCollection",features:n})}async fetchAndRenderWsp(e){let t;try{t=await this.fetchWsp(e)}catch(o){return console.error("Failed to fetch WSP",o)}this.stopListeningToWspUpdates(),this.listenToWspUpdates(e),this.tropicalStore.setWsp(e),this.renderWsp(t)}async fetchWsp(e){return await Se.instance().get(`/tropical/USA/NHC/wsp_${e}.geojson?_=${new Date().getTime()}`)}async renderWsp(e){g.getSource(this.wspSourceId).setData(e)}listenToWspUpdates(e){const t=`tropical:USA-NHC-wsp_${e}`;this.activeSocketRooms.push(t),te.roomJoin(t),te.on(t,async o=>{console.log("tropical wsp update",t,o),await this.fetchAndRenderWsp(e)})}stopListeningToWspUpdates(){if(this.tropicalStore.wsp!==null){const e=`tropical:USA-NHC-wsp_${this.tropicalStore.wsp}`;this.activeSocketRooms=this.activeSocketRooms.filter(t=>t!==e),te.roomLeave(e),te.removeAllListeners(e)}}clearWsp(){this.tropicalStore.wsp!==null&&(this.stopListeningToWspUpdates(),this.tropicalStore.clearWsp(),g.getSource(this.wspSourceId).setData({type:"FeatureCollection",features:[]}))}async fetchAndRenderToa(e,t){const o=(()=>{if(t==="earliest")return e.time_of_arrival_earliest_url;if(t==="most_likely")return e.time_of_arrival_most_likely_url;throw new Error("Unknown TOA kind")})();let a;try{a=await this.fetchToa(o)}catch(r){return console.error("Failed to fetch TOA",r)}a.features=a.features.map(r=>{if(r.properties.arrival_at.length==0)return r;const n=j.utc(r.properties.arrival_at).local().format("ddd h a");return r.properties.name=n,r}),this.renderToa(a)}async fetchToa(e){return await Se.instance().get(e)}async renderToa(e){g.getSource(this.toaSourceId).setData(e)}clearToa(){this.tropicalStore.toa!==null&&(this.tropicalStore.clearToa(),g.getSource(this.toaSourceId).setData({type:"FeatureCollection",features:[]}))}async fetchAndRenderFwr(e){let t;try{t=await this.fetchFwr(e.forecast_wind_radii_url)}catch(o){return console.error("Failed to fetch FWR",o)}t.features=t.features.map(o=>{const a=o.properties.wind_speed_kt;o.properties["fill-sort-key"]=a;let r=.15;return(a>60||a>46)&&(r=.4),o.properties["fill-opacity"]=r,o}),this.renderFwr(t)}async fetchFwr(e){return await Se.instance().get(e)}async renderFwr(e){g.getSource(this.fwrSourceId).setData(e)}clearFwr(){this.tropicalStore.fwr!==null&&(this.tropicalStore.clearFwr(),g.getSource(this.fwrSourceId).setData({type:"FeatureCollection",features:[]}))}async fetchAndRenderDisturbances(){let e;try{e=await this.fetchDisturbances()}catch(t){return console.error("Failed to fetch tropical disturbances",t)}this.disturbances=e,this.tropicalStore.setDisturbances(e.features),this.renderDisturbances(e)}async fetchDisturbances(){return await Se.instance().get(`/tropical/USA/NHC/disturbances.geojson?_=${new Date().getTime()}`)}async renderDisturbances(e){g.getSource(this.disturbancesSourceId).setData(e)}stopListeningToRooms(){this.activeSocketRooms.forEach(e=>{te.roomLeave(e),te.removeAllListeners(e)}),this.activeSocketRooms=[]}clear(){this.stopListeningToRooms()}openStormInfoModel(e){const t=ne({defaultModelValue:!0,component:Ae,attrs:{title:e.name,onOpened(){const o=new Ne;o.set("trs",e.id),o.save()},onClosed(){const o=new Ne;o.delete("trs"),o.save()}},slots:{default:le({component:U5,attrs:{storm:e,onClose(){t.close()}}})}})}openDisturbanceInfoModel(e){ne({defaultModelValue:!0,component:Ae,attrs:{title:"Tropical Disturbance"},slots:{default:le({component:G5,attrs:{feature:e}})}})}openTropicalHelpModal(e){let t="",o="";e==="storms"?(t="Tropical Storms",o=`The National Weather Service (NWS) along with the National Hurricane Center (NHC) categorize tropical storms based on their intensity, wind speeds, and structure. These storms are classified within a broader framework of tropical cyclones, which are organized, rotating storm systems originating over tropical or subtropical waters. Here are the various classifications of tropical storms and related phenomena:

<strong>Tropical Depression</strong>
    Wind Speeds: Less than 39 mph (34 knots or 63 km/h).
    Description: A tropical depression is the weakest type of tropical cyclone, with maximum sustained winds below 39 mph. It is characterized by organized thunderstorms and a defined low-pressure center but lacks the well-defined spiral structure of more intense storms. Tropical depressions can still produce heavy rainfall and localized flooding.

<strong>Tropical Storm</strong>
    Wind Speeds: 39-73 mph (34-63 knots or 63-118 km/h).
    Description: A tropical storm is a stronger tropical cyclone with sustained wind speeds ranging from 39 to 73 mph. It has a more developed structure, including organized thunderstorms and, often, a defined center or "eye." Tropical storms can cause significant damage from winds, heavy rainfall, and storm surges, though they are not as destructive as hurricanes. These storms receive official names from a pre-designated list maintained by the NHC.

<strong>Hurricane (Category 1-5)</strong>
    Wind Speeds: 74 mph or higher (64 knots or 119 km/h).
    Description: Hurricanes are the strongest type of tropical cyclone, divided into five categories based on the Saffir-Simpson Hurricane Wind Scale. Hurricanes form when a tropical storm intensifies, with sustained wind speeds exceeding 74 mph. They are characterized by a well-defined eye, eyewall, and spiral rainbands. Hurricanes can cause widespread damage through strong winds, storm surges, and flooding.

    Categories of Hurricanes:
        Category 1: Wind speeds between 74-95 mph (64-82 knots or 119-153 km/h). Minimal damage, but still dangerous.
        Category 2: Wind speeds between 96-110 mph (83-95 knots or 154-177 km/h). Moderate damage.
        Category 3: Wind speeds between 111-129 mph (96-112 knots or 178-208 km/h). Extensive damage, classified as a major hurricane.
        Category 4: Wind speeds between 130-156 mph (113-136 knots or 209-251 km/h). Catastrophic damage.
        Category 5: Wind speeds of 157 mph or higher (137 knots or 252 km/h). Catastrophic, widespread devastation.

<strong>Post-Tropical Cyclone</strong>
    Wind Speeds: Variable.
    Description: A post-tropical cyclone is a former tropical cyclone that no longer possesses the characteristics of a tropical system, having lost its organized deep convection. These systems may transition into extra-tropical cyclones or remnants but can still bring strong winds and heavy rain.

<strong>Subtropical Storm</strong>
    Wind Speeds: 39-73 mph (34-63 knots or 63-118 km/h).
    Description: A subtropical storm has characteristics of both tropical and extra-tropical cyclones. Unlike tropical storms, subtropical storms typically have a broader wind field, less defined centers, and less concentrated thunderstorms near the center. These storms can evolve into fully tropical systems under favorable conditions.

<strong>Tropical Disturbance</strong>
    Wind Speeds: Below 39 mph (34 knots or 63 km/h).
    Description: A tropical disturbance is an organized area of thunderstorms over tropical or subtropical waters, showing signs of low-pressure development but without the well-defined circulation of a depression or storm. This stage can lead to further development into more intense tropical systems.

<strong>Tropical Wave (Easterly Wave)</strong>
    Wind Speeds: N/A (as it’s not a storm).
    Description: A tropical wave is a type of atmospheric trough characterized by a kink or bend in the normally straight flow of air in the tropics. It’s a precursor to more significant tropical systems and often leads to the development of tropical disturbances and, eventually, tropical storms or hurricanes.

Each of these storm classifications helps the NWS and NHC provide accurate forecasts and warnings, allowing communities to prepare and respond appropriately based on the storm’s intensity and potential impact.`):e==="disturbances"&&(t="Tropical Disturbances",o=`A Tropical Disturbance refers to a weather system characterized by a collection of organized thunderstorms, typically over tropical or subtropical waters, that exhibit some degree of cyclonic rotation but have not yet developed into a fully formed tropical cyclone (such as a tropical depression, tropical storm, or hurricane).

A tropical disturbance often has the following features:

- Thunderstorm Activity: The presence of persistent, organized thunderstorms.
- Cyclonic Rotation: Low-level winds may start to show signs of rotation, though typically it is weak and poorly defined.
- Potential for Development: While disturbances may vary in intensity, some can develop into more intense systems depending on favorable environmental conditions, such as warm sea surface temperatures, low vertical wind shear, and high atmospheric moisture.

The National Hurricane Center (NHC) closely monitors these disturbances because they can rapidly intensify under the right conditions. Disturbances are assigned an "invest" label and tracked for potential development into a tropical depression, tropical storm, or hurricane.`);const a=ne({defaultModelValue:!0,component:Ae,attrs:{title:t},slots:{default:le({component:Qr,attrs:{text:o,onClose(){a.close()}}})}});return a}getStorm(e){return this.storms.find(t=>t.id===e)}fitBoundsForForecast(e){if(e.forecast_track_cone,e.forecast_track_cone==null)return;const t=e.forecast_track_cone.features[0],o=new Te.LngLatBounds(t.geometry.coordinates[0][0],t.geometry.coordinates[0][0]);for(const a of t.geometry.coordinates[0])o.extend(a);g.fitBounds(o,{padding:window.innerWidth/8,duration:0})}fitBoundsForDisturbance(e){const t=new Te.LngLatBounds(e.geometry.coordinates[0][0],e.geometry.coordinates[0][0]);for(const o of e.geometry.coordinates[0])t.extend(o);g.fitBounds(t,{padding:window.innerWidth/8,duration:0})}show(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of this.layers)g.setLayoutProperty(e,"visibility","none")}}class Z5{constructor(){this.warningsStore=$t(),this.mesoscaleDiscussionsStore=Xo()}async focusRadarOnWarning(e,t){await this.warningsStore.load();const a=this.warningsStore.getFeatureById(e,!0);if(a===void 0)throw new Error(`Warning ${e} does not exist`);console.log(a),C.warnings.setRealtimeUpdates(!1),C.warnings.renderOnly([a]),C.warnings.fitBounds(a),C.mesoscaleDiscussions.hide(),C.tropical.hide(),C.radar.settings.storm_tracks=0,console.log(a,t),await C.radar.turnOnBestRadarForGeometry(a.geometry,t),g.triggerRepaint()}async focusRadarOnMesoscaleDiscussion(e,t){await this.mesoscaleDiscussionsStore.load();const a=this.mesoscaleDiscussionsStore.getFeatureById(e,!0);if(a===void 0)throw new Error(`Mesoscale Discussion ${e} does not exist`);console.log(a),C.warnings.setRealtimeUpdates(!1),C.warnings.hide(),C.mesoscaleDiscussions.setRealtimeUpdates(!1),C.mesoscaleDiscussions.renderOnly([a]),C.mesoscaleDiscussions.fitBounds(a),C.tropical.hide(),C.radar.settings.storm_tracks=0,await C.radar.turnOnBestRadarForGeometry(a.geometry,t),g.triggerRepaint()}async warningScreenshot(e,t="REF"){await this.focusRadarOnWarning(e,t),setTimeout(async()=>{await C.screenshot.take()},100)}async warningVideo(e,t="REF",o=15,a=3){await this.focusRadarOnWarning(e,t);const r=g.mapboxMapsFirst().stores.radar,n=r.activeTowerId,l=r.activeProductCode;try{await C.radar.loadHistory(n,[l],o),await C.mp4.record(),await C.radar.playScans(n,[l],o*a),C.mp4.stop()}catch(d){console.error("Failed to buffer radar scans",d)}}async warningGif(e,t="REF"){await this.focusRadarOnWarning(e,t),setTimeout(async()=>{await C.gif.record()},100),setTimeout(()=>{C.gif.stop()},3e3)}async mesoscaleDiscussionScreenshot(e,t="REF"){await this.focusRadarOnMesoscaleDiscussion(e,t),setTimeout(async()=>{await C.screenshot.take()},100)}async mesoscaleDiscussionVideo(e,t="REF",o=15,a=3){await this.focusRadarOnMesoscaleDiscussion(e,t);const r=g.mapboxMapsFirst().stores.radar,n=r.activeTowerId,l=r.activeProductCode;try{await C.radar.loadHistory(n,[l],o),await C.mp4.record(),await C.radar.playScans(n,[l],o*a),C.mp4.stop()}catch(d){console.error("Failed to buffer radar scans",d)}}}const et=ve("recording",{state:()=>({recording:!1,started_at:null,ended_at:null,screenshot:!1,recording_method:null}),actions:{startScreenshot(){this.screenshot=!0},stopScreenshot(){this.screenshot=!1},start(i){this.$patch({recording:!0,started_at:j.utc(),recording_method:i})},stop(){this.$patch({recording:!1,ended_at:j.utc(),recording_method:null})}}}),ar=25,Y5=100;class qr{constructor(){this.maps=g.mapboxMaps(),this.canvasRects=this.maps.map(e=>{const t=e.getCanvas(),o=t.getBoundingClientRect();return{canvas:t,left:o.left,top:o.top,width:o.width,height:o.height}}),this.calculateCompositeLayout(),this.recording=!1,this.stopRecordingTimeout=null,this.recordingStore=et(),this.worker=null,this.lastFrameTime=0,this.captureCanvas=null,this.captureContext=null,this.calculateOutputDimensions()}static isSupported(){return window.OffscreenCanvas!==void 0}calculateCompositeLayout(){let e=1/0,t=1/0,o=-1/0,a=-1/0;this.canvasRects.forEach(l=>{const d=l.canvas.getBoundingClientRect();e=Math.min(e,d.left),t=Math.min(t,d.top),o=Math.max(o,d.right),a=Math.max(a,d.bottom)});const r=o-e,n=a-t;this.canvasLayout={totalWidth:r,totalHeight:n,offsetLeft:e,offsetTop:t},this.canvasRects=this.canvasRects.map(l=>{const d=l.canvas.getBoundingClientRect();return{canvas:l.canvas,relativeLeft:d.left-e,relativeTop:d.top-t,width:d.width,height:d.height,sourceWidth:l.canvas.width,sourceHeight:l.canvas.height}})}calculateOutputDimensions(){let r=this.canvasLayout.totalWidth,n=this.canvasLayout.totalHeight;const l=r/n,d=r*n;if(d>912384){const m=Math.sqrt(912384/d);r=Math.floor(r*m),n=Math.floor(n*m)}(r>1280||n>720)&&(r/1280>n/720?(r=1280,n=Math.round(r/l)):(n=720,r=Math.round(n*l))),r=Math.floor(r/2)*2,n=Math.floor(n/2)*2,this.output={width:r,height:n}}async startNativeRecording(){return await Zt(500),new Promise((e,t)=>{const o=a=>{var r;try{const n=JSON.parse(a.data||((r=a.nativeEvent)==null?void 0:r.data));n.type==="ERROR"?t(n.message):n.type==="STARTED_MP4_RECORDING"&&(this.stopRecordingTimeout=setTimeout(()=>{this.stop()},this.getMaxRecordingLength()),e())}catch(n){t(n)}finally{window.removeEventListener("message",o)}};window.addEventListener("message",o,!0),window.ReactNativeWebView.postMessage(JSON.stringify({type:"START_MP4_RECORDING"}))})}getMaxRecordingLength(){const e=we();return e.isAtleast(e.tiers.PLUS)?20*1025:10*1050}async startBrowserRecording(){this.maps=g.mapboxMaps(),this.canvasRects=this.maps.map(a=>{const r=a.getCanvas(),n=r.getBoundingClientRect();return{canvas:r,left:n.left,top:n.top,width:n.width,height:n.height}}),this.calculateCompositeLayout(),this.calculateOutputDimensions(),await new Promise(a=>setTimeout(a,Y5));const e=document.querySelectorAll(".map-overlay");this.overlayData=await Promise.all(Array.from(e).map(async a=>{const r=await Ws(a),n=a.getBoundingClientRect();return{canvas:r,left:n.left-this.canvasLayout.offsetLeft,top:n.top-this.canvasLayout.offsetTop,width:n.width,height:n.height}})),this.stopRecordingTimeout=setTimeout(()=>this.stop(),this.getMaxRecordingLength()),this.worker=new Worker(new URL("/assets/recordingWorker-BAtKVhom.js",import.meta.url),{type:"module"}),this.captureCanvas=document.createElement("canvas"),this.captureCanvas.width=this.canvasLayout.totalWidth,this.captureCanvas.height=this.canvasLayout.totalHeight,this.captureContext=this.captureCanvas.getContext("2d",{willReadFrequently:!0,alpha:!0,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"});const t=await this.loadWatermark("ww-watermark.png");this.watermarkCanvas=new OffscreenCanvas(150,75),this.watermarkCanvas.getContext("2d").drawImage(t,0,0,150,75),this.worker.postMessage({type:"start",canvasWidth:this.canvasLayout.totalWidth,canvasHeight:this.canvasLayout.totalHeight,outputWidth:this.output.width,outputHeight:this.output.height,fps:ar}),this.worker.onmessage=a=>{a.data.type==="done"&&this.downloadBlob(a.data.blob,a.data.filename)},this.lastFrameTime=performance.now(),this.renderFrame()}async record(){if(this.recording=!0,this.recordingStore.startScreenshot(),this.recordingStore.start(),C.isNativeApp()&&C.isNativeVersionAtleast(ke)){try{await this.startNativeRecording()}catch(e){this.markStopped(),console.error("Failed to start native screen recording",e),window._alert("Failed to start screen recording. Please enable screen recording/camera permission in your settings to use this feature.","Screen Recording Failed")}return}try{console.log("Recording using browser"),await this.startBrowserRecording()}catch(e){this.markStopped(),console.error("Failed to start browser screen recording",e)}}renderFrame(){if(!this.recording)return;const e=performance.now();if(e-this.lastFrameTime>=1e3/ar)try{this.captureContext.imageSmoothingEnabled=!0,this.captureContext.imageSmoothingQuality="high",this.captureContext.fillStyle="#ffffff",this.captureContext.fillRect(0,0,this.captureCanvas.width,this.captureCanvas.height),this.canvasRects.forEach(h=>{this.captureContext.drawImage(h.canvas,0,0,h.sourceWidth,h.sourceHeight,Math.round(h.relativeLeft),Math.round(h.relativeTop),Math.round(h.width),Math.round(h.height))}),this.overlayData&&this.overlayData.forEach(h=>{this.captureContext.drawImage(h.canvas,Math.round(h.left),Math.round(h.top),Math.round(h.width),Math.round(h.height))});const o=10,a=25,r=150,n=75,l=this.captureCanvas.width-r-o,d=a;this.captureContext.drawImage(this.watermarkCanvas,l,d,r,n);const m=this.captureContext.getImageData(0,0,this.captureCanvas.width,this.captureCanvas.height);this.worker.postMessage({type:"frame",imageData:m},[m.data.buffer]),this.lastFrameTime=e}catch(o){console.error("Error capturing frame:",o),this.stop();return}requestAnimationFrame(()=>this.renderFrame())}stopNativeRecording(){this.markStopped(),window.ReactNativeWebView.postMessage(JSON.stringify({type:"STOP_MP4_RECORDING"}))}stopBrowserRecording(){this.markStopped(),this.worker&&this.worker.postMessage({type:"stop"}),this.captureCanvas=null,this.captureContext=null}markStopped(){this.recording=!1,this.recordingStore.stopScreenshot(),this.recordingStore.stop(),this.stopRecordingTimeout!=null&&(clearTimeout(this.stopRecordingTimeout),this.stopRecordingTimeout=null)}stop(){if(console.log("Stopping recording..."),C.isNativeApp()&&C.isNativeVersionAtleast(ke)){this.stopNativeRecording();return}this.stopBrowserRecording()}async downloadBlob(e,t){navigator._download.blob(e,"video/mp4")}async loadWatermark(e){return new Promise((t,o)=>{const a=new Image;a.onload=()=>t(a),a.onerror=o,a.src=e})}}const J5=10*1e3;class Q5{constructor(){this.map=g.mapboxMapsFirst(),this.canvas=this.map.getCanvas(),this.recording=!1,this.stopRecordingTimeout=null,this.recordingStore=et();const e=1280*720,t=this.canvas.width,o=this.canvas.height,a=t*o,r=Math.sqrt(e/a);let n=Math.floor(t*r);n*=.9,n=parseInt(n),n%2==1&&--n;let l=Math.floor(o*r);l*=.9,l=parseInt(l),l%2==1&&--l,this.output={width:n,height:l}}async download(e,t,o){const a=e instanceof Blob?e:new Blob([e],{type:o});navigator._download.blob(a,o)}async record(){const e=this.output.width,t=this.output.height;this.recording=!0,this.recordingStore.startScreenshot(),this.stopRecordingTimeout=setTimeout(()=>{this.stop()},J5);const o=document.createElement("canvas");o.width=e,o.height=t;const a=o.getContext("2d",{willReadFrequently:!0}),n=1e3/25,l=Fi(),d=new Image;d.src="ww-watermark.png",await d.decode();const m=document.querySelectorAll(".map-overlay");let h=null,f=null;for(m.length>0&&(h=m[0],f=await Ws(h)),console.time("encode");this.recording;){a.drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,e,t);const S=150;if(a.drawImage(d,o.width-S-10,35,S,75),f!==null){this.canvas.width/this.canvas.height;const k=f.width/f.height;let F=e,E=F/k;E>t&&(E=t,F=E*k),a.drawImage(f,0,0,f.width,f.height,0,0,F,E)}const I=a.getImageData(0,0,e,t).data,R="rgb444",M=Mi(I,256,{format:R}),D=Pi(I,M,R);l.writeFrame(D,e,t,{palette:M,delay:n}),await new Promise(k=>setTimeout(k,0))}l.finish(),console.timeEnd("encode");const y=l.bytesView(),w=`WeatherWise_${j.utc().format("YYYY_MM_DD_HH_mm_ss")}.gif`;this.download(y,w,"image/gif")}stop(){this.recording=!1,this.recordingStore.stopScreenshot(),this.recordingStore.stop(),this.stopRecordingTimeout!=null&&(clearTimeout(this.stopRecordingTimeout),this.stopRecordingTimeout=null)}}class q5{constructor(e){this.recordingStore=et()}async takeNativeScreenshot(){return await Zt(500),new Promise((e,t)=>{const o=function(a){var r;try{const n=JSON.parse(a.data||((r=a.nativeEvent)==null?void 0:r.data));n.type==="ERROR"?(window.removeEventListener("message",o),t(n.message)):n.type==="SCREENSHOT_CAPTURED"&&(window.removeEventListener("message",o),e())}catch(n){window.removeEventListener("message",o),t(n)}};window.ReactNativeWebView.postMessage(JSON.stringify({type:"CAPTURE_SCREENSHOT"})),window.addEventListener("message",o,!0)})}async takeBrowserScreenshot(){const t=g.mapboxMaps().map(A=>A.getCanvas()).map(A=>{const B=A.getBoundingClientRect();return{canvas:A,left:B.left,top:B.top,width:B.width,height:B.height}}),{minLeft:o,minTop:a,maxRight:r,maxBottom:n}=t.reduce((A,{left:B,top:I,width:R,height:M})=>{const D=B+R,k=I+M;return A.minLeft=Math.min(A.minLeft,B),A.minTop=Math.min(A.minTop,I),A.maxRight=Math.max(A.maxRight,D),A.maxBottom=Math.max(A.maxBottom,k),A},{minLeft:1/0,minTop:1/0,maxRight:-1/0,maxBottom:-1/0}),l=r-o,d=n-a,m=document.createElement("canvas");m.width=l,m.height=d;const h=m.getContext("2d");for(const{canvas:A,left:B,top:I,width:R,height:M}of t){const F=A.width,E=A.height,K=B-o,U=I-a,X=R,J=M;h.drawImage(A,0,0,F,E,K,U,X,J)}const f=new Image;f.src="ww-watermark-300.png",await f.decode();const y=150;h.drawImage(f,m.width-y-10,30,y,75);const v=document.querySelectorAll(".map-overlay");for(const A of v){const B=await Ws(A),I=A.getBoundingClientRect(),R=B.width,M=B.height,D=I.width,k=I.height,F=I.left-o,E=I.top-a;h.drawImage(B,0,0,R,M,F,E,D,k)}this.recordingStore.stopScreenshot(),setTimeout(()=>{const A="image/png";m.toBlob(B=>{navigator._download.blob(B,A)},A)},1e3)}async take(){if(this.recordingStore.startScreenshot(),C.isAppleNative()&&C.isNativeVersionAtleast(ke)){try{await this.takeNativeScreenshot()}catch(e){console.error(e),window._alert("Failed to take screenshot. Please enable screenshot permission in your settings to use this feature.","Screenshot Failed")}finally{this.recordingStore.stopScreenshot()}return}try{await this.takeBrowserScreenshot()}catch(e){console.error(e)}finally{this.recordingStore.stopScreenshot()}}}function ei(){return"standalone"in window.navigator&&window.navigator.standalone}function st(){return typeof window<"u"&&typeof window.WeatherWiseBridge<"u"}const Qt=ve("settings/drawing",{state:()=>({lineColor:[255,0,0,1],lineWidth:10,position:null,annotating:!1}),getters:{getRGBALineColor:i=>`rgba(${i.lineColor.join(",")})`,getLineWidth:i=>i.lineWidth,getLineColor:i=>i.lineColor,isAnnotating:i=>i.annotating},actions:{setLineColor(i){this.lineColor=i},setLineWidth(i){this.lineWidth=i},setPosition(i){this.position=i},startAnnotating(){this.annotating=!0},stopAnnotating(){this.annotating=!1}},persist:{paths:["lineColor","lineWidth"]}});Hi([zi]);const as=i=>i.preventDefault();class ek{constructor(){this.annotations=[],this.undoStack=[],this.redoStack=[],this.locked=!1,this.drawingSettingsStore=Qt(),this.setLineColor(this.drawingSettingsStore.getLineColor),this.startDrawing=this.startDrawing.bind(this),this.continueDrawing=this.continueDrawing.bind(this),this.endDrawing=this.endDrawing.bind(this),this.initSourceAndLayers()}initSourceAndLayers(){g.addSource("ww-annotations",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:"ww-annotations-layer-outline",type:"line",source:"ww-annotations",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["get","outlineColor"],"line-width":["interpolate",["linear"],["zoom"],10,["*",["get","width"],.8],15,["*",["get","width"],1.5],20,["*",["get","width"],3]],"line-opacity":1}}),g.addLayer({id:"ww-annotations-layer",type:"line",source:"ww-annotations",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":["get","color"],"line-width":["interpolate",["linear"],["zoom"],10,["*",["get","width"],.5],15,["*",["get","width"],1],20,["*",["get","width"],2]]}})}enable(){this.drawingSettingsStore.isAnnotating||(this.drawingSettingsStore.startAnnotating(),this.lockMap(),g.on("mousedown",this.startDrawing),g.on("touchstart",this.startDrawing,{passive:!1}))}disable(){this.drawingSettingsStore.isAnnotating&&(this.drawingSettingsStore.stopAnnotating(),this.unlockMap(),g.off("mousedown",this.startDrawing),g.off("touchstart",this.startDrawing),g.off("mousemove",this.continueDrawing),g.off("mouseup",this.endDrawing),g.off("touchmove",this.continueDrawing),g.off("touchend",this.endDrawing))}lockMap(){this.locked=!0,g.forEach(e=>{const t=e.getCanvas();t.style.cursor="crosshair",t.addEventListener("touchstart",as,{passive:!1}),t.addEventListener("touchmove",as,{passive:!1})}),g.forEach(e=>{e.scrollZoom.disable(),e.doubleClickZoom.disable(),e.touchZoomRotate.disable(),e.dragPan.disable()})}unlockMap(){this.locked=!1,g.forEach(e=>{const t=e.getCanvas();t.style.cursor="",t.removeEventListener("touchstart",as),t.removeEventListener("touchmove",as)}),g.forEach(e=>{e.scrollZoom.enable(),e.doubleClickZoom.enable(),e.touchZoomRotate.enable(),e.dragPan.enable()})}startDrawing(e){var a;if(!this.drawingSettingsStore.isAnnotating||!this.locked)return;e.preventDefault(),this.drawing=!0;const t=e.target.getCanvas(),o=(a=e.originalEvent)!=null&&a.touches?g.unproject(this.getPointFromTouch(t,e.originalEvent.touches[0])):e.lngLat;this.currentLine={type:"Feature",geometry:{type:"LineString",coordinates:[[o.lng,o.lat]]},properties:{color:this.drawingSettingsStore.getRGBALineColor,outlineColor:this.outlineColor,width:this.drawingSettingsStore.getLineWidth}},g.on("mousemove",this.continueDrawing),g.on("mouseup",this.endDrawing),g.on("touchmove",this.continueDrawing),g.on("touchend",this.endDrawing)}continueDrawing(e){var a;if(!this.drawing)return;e.preventDefault();const t=e.target.getCanvas(),o=(a=e.originalEvent)!=null&&a.touches?g.unproject(this.getPointFromTouch(t,e.originalEvent.touches[0])):e.lngLat;this.currentLine.geometry.coordinates.push([o.lng,o.lat]),this.updateAnnotations()}endDrawing(){this.drawing&&(this.drawing=!1,this.annotations.push(this.currentLine),this.undoStack.push(this.currentLine),this.currentLine=null,this.updateAnnotations(),g.off("mousemove",this.continueDrawing),g.off("mouseup",this.endDrawing),g.off("touchmove",this.continueDrawing),g.off("touchend",this.endDrawing))}updateAnnotations(){const e=g.getSource("ww-annotations");if(e){const t=[...this.annotations];this.currentLine&&t.push(this.currentLine),e.setData({type:"FeatureCollection",features:t})}}undo(){if(this.undoStack.length>0){const e=this.undoStack.pop();Array.isArray(e)&&e.length>0&&e[0].type==="Feature"?(this.redoStack.push([...this.annotations]),this.annotations=[...e]):(this.redoStack.push(e),this.annotations.pop()),this.updateAnnotations()}}redo(){if(this.redoStack.length>0){const e=this.redoStack.pop();Array.isArray(e)&&e.length>0&&e[0].type==="Feature"?(this.undoStack.push([...this.annotations]),this.annotations=[...e]):(this.annotations.push(e),this.undoStack.push(e)),this.updateAnnotations()}}setLineColor(e){const t=`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]||1})`;this.drawingSettingsStore.setLineColor(e);const o=Ft(t).luminance();this.outlineColor=o<.1?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)"}setLineWidth(e){this.drawingSettingsStore.setLineWidth(e)}clearAnnotations(){this.annotations.length>0&&this.undoStack.push([...this.annotations]),this.redoStack=[],this.annotations=[],this.updateAnnotations()}getPointFromTouch(e,t){const o=e.getBoundingClientRect();return{x:t.clientX-o.left,y:t.clientY-o.top}}}const tk="/assets/chaser-00992981-423a-42c2-a1ea-b8e174a627ed-C0xQPFkj.png",ok="/assets/chaser-028fd498-54bd-4b7a-b6f4-c84f9ccc9ca8-Dm3rCNUn.png",sk="/assets/chaser-0bf5bceb-e8f3-4dba-88f7-3a3532610d6a-BhSKBGtP.png",ak="/assets/chaser-0c532840-cbd7-447f-b338-b1bd244c788b-DkgIB9rP.png",rk="/assets/chaser-0c94c44c-dd00-4a4f-90a1-ba5c6a95c890-rBRyYv4T.png",ik="/assets/chaser-1f22aacc-bb43-4159-b64b-15e1fcecb0d3-DuvBx-8u.png",nk="/assets/chaser-21f6a705-3d57-4c22-974b-530a169f9393-D7qGPWh2.png",lk="/assets/chaser-42addff2-f955-46a8-9243-333bc8ae6567-D4ErZ3yx.png",ck="/assets/chaser-55980514-07b6-4692-81cb-da88123ccfbc-DVZo9zEF.png",dk="/assets/chaser-6b61a2b9-9199-42ce-a11b-029d74f508dd-BRnkAh4a.png",uk="/assets/chaser-72ed4047-73e1-4aad-8d0f-a7852c40ccc4-VmgmnY6B.png",pk="/assets/chaser-7ea10d5a-6127-4292-beab-3cc75b44b3e3-504LXbf0.png",mk="/assets/chaser-9dbdb352-2cfc-49a8-bd5c-e482811c558d-BBypdNa1.png",hk="/assets/chaser-a38cf438-c02a-4ba7-b33b-d275d3d73278-DqKSPHRT.png",gk="/assets/chaser-a9aca452-487b-4604-90d2-b22c7c58554b-DAMjZdPb.png",fk="/assets/chaser-b6b0ae73-000f-499e-9ac9-71dfe3f607f3-C4s8cigP.png",yk="/assets/chaser-cb17a19e-41d7-47d1-bdf1-e8dee0ec6ac8-Drp1T92o.png",Nk="/assets/chaser-d0a7de4a-f7bc-4506-80ec-ae486bb44fdb-DsNSUDBi.png",vk="/assets/chaser-da9c93f4-7a70-4c71-be70-f61976b28406-Df_P_Dw7.png",bk="/assets/chaser-e461dc0e-8dc7-4ed4-bb84-ce14aa36f562-CWAd4Eqy.png",wk="/assets/chaser-eb7ded21-88bd-4dd2-a5f9-a06d964ec4a7-CMg5LUz6.png",xk="/assets/chaser-ec5c0159-4c32-40fc-bf39-ad6a0c0a393f-CNerdvhU.png",_k="/assets/chaser-eed90169-afbc-4aac-bc2b-26739b1c0173-D8SYijx-.png",Sk="/assets/chaser-fa487540-6c87-478e-b555-adac51feda2f-CHR9_dzV.png",rr={mapLayerOn:!1},rs=ve("settings/vendors/hazcams",{state:()=>({...JSON.parse(JSON.stringify(rr))}),actions:{toggle(){this.mapLayerOn=!this.mapLayerOn},set(i){this.mapLayerOn=i},reset(){this.$state=JSON.parse(JSON.stringify(rr))}},persist:!0}),kk={class:"flex flex-col max-w-3xl sm:max-w-5xl sm:my-12 mx-auto p-1 relative bg-white dark:bg-ww-blue border dark:border-gray-700 rounded-lg"},Ak={class:"absolute top-2 right-1 bg-white rounded-bl-lg"},Ck={class:"flex items-center"},Tk={class:"text-gray-900 dark:text-slate-300"},Bk=ae({__name:"Video",props:{title:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),q(u(Oo),{"content-transition":"vfm-fade","overlay-transition":"vfm-fade","content-class":"absolute inset-0","focus-trap":!1,"lock-scroll":!1,"onUpdate:modelValue":a[2]||(a[2]=r=>t("update:modelValue",r))},{default:ie(()=>[s("div",{class:"flex justify-center items-center h-full overflow-auto dark:bg-gray-900/50 sm:pt-[40vh] lg:pt-0",onClick:a[1]||(a[1]=P(()=>t("update:modelValue",!1),["self"]))},[s("div",kk,[s("div",Ak,[s("button",{onClick:a[0]||(a[0]=r=>{t("update:modelValue",!1),t("close")}),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 hover:dark:text-white transition-colors"})])]),s("div",Ck,[s("div",Tk,[dt(o.$slots,"default")])])])])]),_:3}))}}),Dk={class:"aspect-video"},Ik=["src"],Ek={name:"PlaybackModal",props:["feature"],methods:{}},ti=Object.assign(Ek,{setup(i){return(e,t)=>(c(),p(z,null,[s("div",Dk,[s("iframe",{src:`https://hazcams.com/embed/station/${i.feature.properties.id}?linkout=false&hd=true`,class:"w-full h-full","webkit-playsinline":"",playsinline:"",frameborder:"0",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin allow-popups"},null,8,Ik)]),t[0]||(t[0]=s("p",{class:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 px-2 pb-1 pt-1"},[L("Access to this live video stream is kindly provided by "),s("a",{href:"https://hazcams.com/",target:"_blank",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Hazcams"),L(". All content within the stream is owned and controlled by Hazcams. The stream may contain sponsored third party content not affiliated with WeatherWise.")],-1))],64))}}),ta="/assets/hazcams-dark-BHDBSDL0.svg",Lk=["textContent"],Rk=["innerHTML"],Fk=ae({__name:"HazcamsPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){return(e,t)=>(c(),p("div",{class:O(["flex justify-between cursor-pointer py-1",{"mb-2":!e.isLast}]),onClick:t[0]||(t[0]=o=>e.onClick(e.feature))},[s("div",null,[s("div",null,[t[1]||(t[1]=s("img",{src:ta,class:"w-6 h-auto relative top-[-1px]",alt:"Hazcams Logo"},null,-1)),s("span",{class:"ml-2 font-bold",textContent:_(e.feature.properties.name)},null,8,Lk)])]),s("div",{innerHTML:u(Ot)},null,8,Rk)],2))}}),To={"eb7ded21-88bd-4dd2-a5f9-a06d964ec4a7":{name:"Brett Adair"},"00992981-423a-42c2-a1ea-b8e174a627ed":{name:"Kyle Davies"},"0bf5bceb-e8f3-4dba-88f7-3a3532610d6a":{name:"Jason Cooley"},"0c532840-cbd7-447f-b338-b1bd244c788b":{name:"Tyler Kurtz"},"1f22aacc-bb43-4159-b64b-15e1fcecb0d3":{name:"Jennifer McMahan"},"42addff2-f955-46a8-9243-333bc8ae6567":{name:"Taylor Woodall"},"55980514-07b6-4692-81cb-da88123ccfbc":{name:"Austin Detzel"},"7ea10d5a-6127-4292-beab-3cc75b44b3e3":{name:"Ryan Pitt"},"9dbdb352-2cfc-49a8-bd5c-e482811c558d":{name:"Sam Camp"},"a38cf438-c02a-4ba7-b33b-d275d3d73278":{name:"Justin Selig"},"a9aca452-487b-4604-90d2-b22c7c58554b":{name:"Eric Tole"},"d0a7de4a-f7bc-4506-80ec-ae486bb44fdb":{name:"Nick Smego"},"da9c93f4-7a70-4c71-be70-f61976b28406":{name:"Cody Hudson"},"e461dc0e-8dc7-4ed4-bb84-ce14aa36f562":{name:"David Drummond"},"ec5c0159-4c32-40fc-bf39-ad6a0c0a393f":{name:"Michael Beard"},"eed90169-afbc-4aac-bc2b-26739b1c0173":{name:"Nick Busby"},"fa487540-6c87-478e-b555-adac51feda2f":{name:"Michael Craddock"},"cb17a19e-41d7-47d1-bdf1-e8dee0ec6ac8":{name:"Drew Richards"},"6b61a2b9-9199-42ce-a11b-029d74f508dd":{name:"Aaron"},"028fd498-54bd-4b7a-b6f4-c84f9ccc9ca8":{name:"Joe Pisani"},"b6b0ae73-000f-499e-9ac9-71dfe3f607f3":{name:"James Hilger"},"0c94c44c-dd00-4a4f-90a1-ba5c6a95c890":{name:"Nacoma Hutchinson"},"21f6a705-3d57-4c22-974b-530a169f9393":{name:"Chris Jackson"},"72ed4047-73e1-4aad-8d0f-a7852c40ccc4":{name:"Storm Chaser Rob"}};class Mk{constructor(){this.sourceId="ww-hazcams-source",this.pointLayerId="ww-hazcams-point-layer",this.boundPointOnClick=null,this.stations={type:"FeatureCollection",features:[]},this.clickHandler=t=>{g.popups.clear(),C.isNativeVersionAtleast(ke)||!C.isAppleNative()?this.openPlaybackModal(t):window.open(`https://web2.weatherwise.app/hazcams/${t.properties.id}`,"_blank")},this.pointOnClick=lt(t=>{const o=wo(t.features,a=>a.properties.id);if(o.length!=0)return()=>{const a=window.document.createElement("div");return o.forEach((r,n)=>{const l=window.document.createElement("div");Tt(Xt(Fk,{feature:r,isLast:n===o.length-1,onClick:this.clickHandler}),l),a.appendChild(l)}),a}});const e=new Ne;this.stationsEndpoint="/vendors/hazcams/stations.geojson",this.socketRoom="vendors:hazcams:stations",e.has("rw")&&(this.stationsEndpoint="/vendors/hazcams/stations-rw.geojson",this.socketRoom="vendors:hazcams:stations:rw")}async draw(){try{const e=[];e.push(async()=>{await g.asyncLoadAndAddImage(new URL("/assets/hazcam-point-Bgbkr7Gg.png",import.meta.url).href,"ww-hazcams-dot")}),e.push(async()=>{await g.asyncLoadAndAddImage(new URL("/assets/hazcam-mobile-point-f3okcafH.png",import.meta.url).href,"ww-hazcams-mobile-dot")}),Object.keys(To).forEach(o=>{e.push(async()=>{await g.asyncLoadAndAddImage(new URL(Object.assign({"../assets/vendors/hazcams/chaser-00992981-423a-42c2-a1ea-b8e174a627ed.png":tk,"../assets/vendors/hazcams/chaser-028fd498-54bd-4b7a-b6f4-c84f9ccc9ca8.png":ok,"../assets/vendors/hazcams/chaser-0bf5bceb-e8f3-4dba-88f7-3a3532610d6a.png":sk,"../assets/vendors/hazcams/chaser-0c532840-cbd7-447f-b338-b1bd244c788b.png":ak,"../assets/vendors/hazcams/chaser-0c94c44c-dd00-4a4f-90a1-ba5c6a95c890.png":rk,"../assets/vendors/hazcams/chaser-1f22aacc-bb43-4159-b64b-15e1fcecb0d3.png":ik,"../assets/vendors/hazcams/chaser-21f6a705-3d57-4c22-974b-530a169f9393.png":nk,"../assets/vendors/hazcams/chaser-42addff2-f955-46a8-9243-333bc8ae6567.png":lk,"../assets/vendors/hazcams/chaser-55980514-07b6-4692-81cb-da88123ccfbc.png":ck,"../assets/vendors/hazcams/chaser-6b61a2b9-9199-42ce-a11b-029d74f508dd.png":dk,"../assets/vendors/hazcams/chaser-72ed4047-73e1-4aad-8d0f-a7852c40ccc4.png":uk,"../assets/vendors/hazcams/chaser-7ea10d5a-6127-4292-beab-3cc75b44b3e3.png":pk,"../assets/vendors/hazcams/chaser-9dbdb352-2cfc-49a8-bd5c-e482811c558d.png":mk,"../assets/vendors/hazcams/chaser-a38cf438-c02a-4ba7-b33b-d275d3d73278.png":hk,"../assets/vendors/hazcams/chaser-a9aca452-487b-4604-90d2-b22c7c58554b.png":gk,"../assets/vendors/hazcams/chaser-b6b0ae73-000f-499e-9ac9-71dfe3f607f3.png":fk,"../assets/vendors/hazcams/chaser-cb17a19e-41d7-47d1-bdf1-e8dee0ec6ac8.png":yk,"../assets/vendors/hazcams/chaser-d0a7de4a-f7bc-4506-80ec-ae486bb44fdb.png":Nk,"../assets/vendors/hazcams/chaser-da9c93f4-7a70-4c71-be70-f61976b28406.png":vk,"../assets/vendors/hazcams/chaser-e461dc0e-8dc7-4ed4-bb84-ce14aa36f562.png":bk,"../assets/vendors/hazcams/chaser-eb7ded21-88bd-4dd2-a5f9-a06d964ec4a7.png":wk,"../assets/vendors/hazcams/chaser-ec5c0159-4c32-40fc-bf39-ad6a0c0a393f.png":xk,"../assets/vendors/hazcams/chaser-eed90169-afbc-4aac-bc2b-26739b1c0173.png":_k,"../assets/vendors/hazcams/chaser-fa487540-6c87-478e-b555-adac51feda2f.png":Sk})[`../assets/vendors/hazcams/chaser-${o}.png`],import.meta.url).href,`ww-hazcams-${o}`)})}),(await Ho(e,6)).filter(o=>o.status==="rejected").forEach(o=>console.error(o.reason)),this.addLayer(),await this.addData(),this.boundPointOnClick=this.pointOnClick.bind(this),g.on("click",this.pointLayerId,this.boundPointOnClick)}catch(e){throw this.clear(),new Error(`Failed to draw hazcams: ${e.message}`)}}addLayer(){g.addSource(this.sourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.pointLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":["get","icon-image"],"icon-size":.15,"icon-allow-overlap":!1,"icon-anchor":"center","icon-offset":[0,0],"icon-pitch-alignment":"map","icon-padding":.5,"symbol-sort-key":["get","symbol-sort-key"]}},"ww-radar-towers-dot-layer")}async fetchAndSetData(){const e=JSON.parse(JSON.stringify(this.stations));await this.fetchData(),g.getSource(this.sourceId).setData(this.stations);const t=new Ne;if(t.has("hctrackid")){const o=t.get("hctrackid"),a=this.stations.features.find(n=>n.properties.id===o);if(a===void 0)return;const r=e.features.find(n=>n.properties.id===o);if(r===void 0||r!==void 0&&JSON.stringify(a.geometry)!==JSON.stringify(r.geometry)){const n=a.geometry.coordinates;g.mapboxMapsFirst().easeTo({center:n,duration:1e3}),setTimeout(()=>{C.radar.turnOnClosestRadar(n)},1010)}}}async addData(){try{await this.fetchAndSetData(),te.roomJoin(this.socketRoom),te.on(this.socketRoom,async e=>{console.log("Hazcams update",this.socketRoom,e);try{await this.fetchAndSetData()}catch(t){console.error("Failed to load hazcams data after update",t)}})}catch(e){console.error("Failed to load hazcams data",e)}}async fetchData(){this.stations=await Se.instance().get(this.stationsEndpoint),this.stations.features=this.stations.features.filter(e=>{const t=e.properties.online&&!e.properties.unlisted;return e.properties.type==="chaser"?To[e.properties.id]!==void 0?t:!1:t}).map(e=>{let t="ww-hazcams-dot",o=3;return e.properties.id.startsWith("hazcams-mobile-")?(t="ww-hazcams-mobile-dot",o=2):e.properties.type==="chaser"&&(o=1,To[e.properties.id]!==void 0?(e.properties.name=To[e.properties.id].name,t=`ww-hazcams-${e.properties.id}`):(e.properties.sponsors&&e.properties.sponsors.length>0&&(e.properties.name=e.properties.sponsors[0].name),t="ww-hazcams-mobile-dot")),e.properties["icon-image"]=t,e.properties["symbol-sort-key"]=o,e})}openPlaybackModal(e){ne({defaultModelValue:!0,component:Bk,attrs:{title:`${e.properties.name}`,onOpened(){const t=new Ne;t.set("hcid",e.properties.id),t.save()},onClosed(){const t=new Ne;t.delete("hcid"),t.save()}},slots:{default:le({component:ti,attrs:{feature:e}})}})}show(){for(const e of[this.pointLayerId])g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of[this.pointLayerId])g.setLayoutProperty(e,"visibility","none")}clear(){try{g.popups.clear(),this.stations.features=[],this.boundPointOnClick&&(g.off("click",this.pointLayerId,this.boundPointOnClick),this.boundPointOnClick=null),g.hasImage("ww-hazcams-dot")&&g.removeImage("ww-hazcams-dot"),g.hasImage("ww-hazcams-mobile-dot")&&g.removeImage("ww-hazcams-mobile-dot"),Object.keys(To).forEach(e=>{g.hasImage(`ww-hazcams-${e}`)&&g.removeImage(`ww-hazcams-${e}`)}),g.getLayer(this.pointLayerId)&&g.removeLayer(this.pointLayerId),g.getSource(this.sourceId)&&g.removeSource(this.sourceId),te.roomLeave(this.socketRoom),te.removeAllListeners(this.socketRoom)}catch(e){throw new Error(`Failed to clear hazcams: ${e.message}`)}}getStations(){return this.stations.features}}const io=new Mk,Pk={async install(i){const e=async()=>{console.log("Installing hazcams");const t=new Ne;if(t.has("hcid")){await io.fetchData();const o=io.getStations().find(a=>a.properties.id===t.get("hcid"));o&&io.openPlaybackModal(o)}console.log("Hazcams initialized")};try{await e()}catch(t){console.error("Failed to initialize hazcams:",t)}}},ko=()=>{const i=async()=>{try{rs().mapLayerOn?await t():await e()}catch(n){throw console.error("Failed to toggle hazcams:",n),new Error("Failed to toggle hazcam visibility")}},e=async()=>{await io.draw(),rs().set(!0)},t=async()=>{io.clear(),rs().set(!1)},o=async()=>{if(a())try{await io.fetchAndSetData()}catch(n){console.log("Failed to update hazcams",n)}},a=()=>rs().mapLayerOn;return{toggle:i,show:e,hide:t,isVisible:a,showIfVisible:()=>{a()&&e()},hazcams:io,update:o}},ir={positionsMapLayerOn:!1},Ds=ve("settings/vendors/spotter-network",{state:()=>({...JSON.parse(JSON.stringify(ir))}),actions:{toggle(){this.positionsMapLayerOn=!this.positionsMapLayerOn},turnOnPositionsMapLayer(){this.positionsMapLayerOn=!0},turnOffPositionsMapLayer(){this.positionsMapLayerOn=!1},reset(){this.$state=JSON.parse(JSON.stringify(ir))}},persist:!0}),Hk={class:"mb-10 mx-auto hyphens-auto w-full md:max-w-[60%] relative"},zk={class:"absolute top-0 right-0 z-50"},Ok={class:"bg-gradient-to-tr from-red-500 to-black rounded-t-lg p-4 md:p-8 text-white relative overflow-hidden"},Kk={class:"absolute top-0 right-0 opacity-10"},Uk={class:"flex items-center space-x-4"},$k={class:"text-3xl"},Xk={key:0,class:"font-bold capitalize"},Wk={key:1,class:"font-bold capitalize"},Vk={key:2,class:"font-bold capitalize"},Gk={class:"flex items-center mt-2"},jk={class:"bg-white dark:bg-ww-blue shadow-xl rounded-b-lg"},Zk={class:"p-4 md:p-8"},Yk={class:"grid md:grid-cols-2 gap-8"},Jk={class:"bg-gray-50 dark:bg-ww-blue-200 rounded-xl p-6"},Qk={class:"flex items-center mb-4"},qk={class:"space-y-3 text-wrap"},eA={class:"flex items-center"},tA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},oA={class:"flex items-center"},sA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},aA={key:0,class:"flex items-center"},rA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},iA={key:1,class:"flex items-center"},nA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},lA={key:0,class:"bg-gray-50 dark:bg-ww-blue-200 rounded-xl p-6"},cA={class:"flex items-center mb-4"},dA={class:"space-y-3"},uA={key:0,class:"flex items-center group"},pA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},mA={key:1,class:"flex items-center group"},hA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},gA={key:2,class:"flex items-center"},fA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},yA={key:3,class:"flex items-center"},NA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},vA={key:0,class:"mt-8 bg-gray-50 dark:bg-ww-blue-200 rounded-xl p-6"},bA={class:"flex items-center mb-4"},wA={class:"space-y-3"},xA={key:0,class:"flex items-center"},_A={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},SA={key:1,class:"flex items-center group"},kA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},AA={key:2,class:"flex items-center group"},CA={class:"text-gray-600 dark:text-gray-300 whitespace-pre-wrap"},TA={name:"PlaybackModal",props:["feature"],computed:{spotter(){return this.feature.properties}},methods:{}},BA=Object.assign(TA,{emits:["close","share"],setup(i,{emit:e}){const t=e;return(o,a)=>V((c(),p("div",Hk,[s("div",zk,[s("button",{onClick:a[0]||(a[0]=r=>t("close")),class:"p-[5px]"},[b(u(T),{icon:"clarity:window-close-line",class:"size-8 sm:size-9 text-white"})])]),s("div",Ok,[s("div",Kk,[b(u(T),{icon:"game-icons:binoculars",class:"w-48 h-48"})]),s("div",Uk,[s("div",null,[s("h2",$k,[o.spotter.last?(c(),p("span",Xk,_(o.spotter.last),1)):x("",!0),o.spotter.first&&o.spotter.last?(c(),p("span",Wk,", ")):x("",!0),o.spotter.first?(c(),p("span",Vk,_(o.spotter.first),1)):x("",!0)]),s("p",Gk,[b(u(T),{icon:"mdi:clock-outline",class:"min-w-5 min-h-5 mr-2"}),L(" Last update: "+_(u(js)(u(j)(o.spotter.report_at),"HH:mm")),1)])])])]),s("div",jk,[s("div",Zk,[s("div",Yk,[s("div",Jk,[s("div",Qk,[b(u(T),{icon:"mdi:map-marker-radius",class:"w-6 h-6 md:w-8 md:h-8 text-red-500 mr-2"}),a[1]||(a[1]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Location Details",-1))]),s("div",qk,[s("div",eA,[b(u(T),{icon:"mdi:latitude",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",tA,_(o.spotter.lat.toFixed(6))+"° N",1)]),s("div",oA,[b(u(T),{icon:"mdi:longitude",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",sA,_(o.spotter.lon.toFixed(6))+"° W",1)]),o.spotter.elev!==0?(c(),p("div",aA,[b(u(T),{icon:"mdi:elevation-rise",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",rA,_(o.spotter.elev)+"m elevation",1)])):x("",!0),o.spotter.dir>0?(c(),p("div",iA,[b(u(T),{icon:"mdi:compass",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",nA,_(o.spotter.dir)+"° direction",1)])):x("",!0)])]),o.spotter.email||o.spotter.phone||o.spotter.ham||o.spotter.freq?(c(),p("div",lA,[s("div",cA,[b(u(T),{icon:"mdi:contact-phone",class:"w-6 h-6 md:w-8 md:h-8 text-blue-500 mr-2"}),a[2]||(a[2]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Contact Information",-1))]),s("div",dA,[o.spotter.email?(c(),p("a",uA,[b(u(T),{icon:"mdi:email",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",pA,_(o.spotter.email),1)])):x("",!0),o.spotter.phone?(c(),p("a",mA,[b(u(T),{icon:"mdi:phone",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",hA,_(o.spotter.phone),1)])):x("",!0),o.spotter.ham?(c(),p("div",gA,[b(u(T),{icon:"mdi:radio",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",fA,_(o.spotter.ham),1)])):x("",!0),o.spotter.freq?(c(),p("div",yA,[b(u(T),{icon:"mdi:radio-tower",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",NA,_(o.spotter.freq),1)])):x("",!0)])])):x("",!0)]),o.spotter.note||o.spotter.web||o.spotter.twitter?(c(),p("div",vA,[s("div",bA,[b(u(T),{icon:"mdi:information",class:"w-6 h-6 md:w-8 md:h-8 text-purple-500 mr-2"}),a[3]||(a[3]=s("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Additional Information",-1))]),s("div",wA,[o.spotter.note?(c(),p("div",xA,[b(u(T),{icon:"mdi:note-text",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",_A,_(o.spotter.note),1)])):x("",!0),o.spotter.web?(c(),p("a",SA,[b(u(T),{icon:"mdi:web",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("div",kA,_(o.spotter.web),1)])):x("",!0),o.spotter.twitter?(c(),p("a",AA,[b(u(T),{icon:"mdi:twitter",class:"min-w-5 min-h-5 text-gray-500 dark:text-gray-400 mr-2"}),s("span",CA,_(o.spotter.twitter),1)])):x("",!0)])])):x("",!0)]),a[4]||(a[4]=s("div",{class:"border-t border-gray-100 dark:border-ww-blue-200"},[s("div",{class:"px-8 py-4"},[s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},[L(" The data provided by "),s("a",{href:"https://www.spotternetwork.org/",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",target:"_blank",rel:"noopener nofollow"},"Spotter Network"),L(" is intended solely for storm tracking and response efforts. Contact with spotters should only occur when necessary and must remain professional, respectful, and relevant to these activities. Respecting the privacy of individuals by refraining from sharing or misusing personal details is essential to maintaining trust and the integrity of this collaborative network. ")])])],-1))])])),[[u(De),[()=>t("close")]]])}}),DA=G(BA,[["__scopeId","data-v-899c48f2"]]),IA={class:"flex"},EA={class:"border rounded-full mr-1 p-1 bg-gradient-to-tr from-red-500 to-black white max-h-[24.5px] max-w-[24.5px]"},LA={class:"w-full"},RA=["textContent"],FA={key:1,class:"font-bold mr-1"},MA=["textContent"],PA={class:""},HA=["innerHTML"],zA=ae({__name:"SpotterNetworkPositionPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){return(e,t)=>(c(),p("div",{class:O(["flex justify-between cursor-pointer py-1",{"mb-2":!e.isLast}]),onClick:t[0]||(t[0]=(...o)=>e.onClick&&e.onClick(...o))},[s("div",null,[s("div",null,[s("div",IA,[s("div",EA,[b(u(T),{icon:"game-icons:binoculars",class:"ml-auto size-4 text-white"})]),s("div",LA,[e.feature.properties.last?(c(),p("span",{key:0,class:"font-bold capitalize",textContent:_(e.feature.properties.last)},null,8,RA)):x("",!0),e.feature.properties.last&&e.feature.properties.first?(c(),p("span",FA,",")):x("",!0),e.feature.properties.first?(c(),p("span",{key:2,class:"font-bold capitalize",textContent:_(e.feature.properties.first)},null,8,MA)):x("",!0)])]),s("div",PA,[t[1]||(t[1]=L(" Last update: ")),s("span",null,_(u(Pe)(new Date(e.feature.properties.unix*1e3))),1)])])]),s("div",{innerHTML:u(Ot)},null,8,HA)],2))}}),nr=["interpolate",["linear"],["get","age"],0,1,3600,.2];class OA{constructor(){this.sourceId="ww-spotter-network-source",this.pointLayerId="ww-spotter-network-point-layer",this.boundPointOnClick=null,this.positions={type:"FeatureCollection",features:[]},this.clickHandler=e=>{g.popups.clear(),this.openModal(e)},this.pointOnClick=lt(e=>{const t=wo(e.features,o=>o.properties.id);if(t.length!=0)return()=>{const o=window.document.createElement("div");return t.forEach((a,r)=>{const n=window.document.createElement("div");Tt(Xt(zA,{feature:a,isLast:r===t.length-1,onClick:()=>{this.clickHandler(a)}}),n),o.appendChild(n)}),o}})}async draw(){try{await g.asyncLoadAndAddImage(new URL("/assets/spotter-network-point-C0c4Pa4U.png",import.meta.url).href,"ww-spotter-network-dot"),this.addLayer(),await this.addData(),this.boundPointOnClick=this.pointOnClick.bind(this),g.on("click",this.pointLayerId,this.boundPointOnClick)}catch(e){console.log("Failed to draw Spotter Network:",e),this.clear()}}addLayer(){g.addSource(this.sourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.pointLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":"ww-spotter-network-dot","icon-size":.3,"icon-allow-overlap":!1,"icon-anchor":"center","icon-offset":[0,0],"icon-pitch-alignment":"map","symbol-sort-key":["get","symbol-sort-key"]},paint:{"icon-opacity":nr}},"ww-radar-towers-dot-layer")}async fetchAndSetData(){await this.fetchData();const e=j().unix();this.positions.features.forEach(t=>{t.properties.age=e-t.properties.unix,t.properties["symbol-sort-key"]=t.properties.unix}),g.getSource(this.sourceId).setData(this.positions),g.setPaintProperty(this.pointLayerId,"icon-opacity",nr)}async addData(){try{await this.fetchAndSetData();const e="vendors:spotter-network:positions";te.roomJoin(e),te.on(e,async t=>{console.log("Spotter Network Positions update",e,t);try{await this.fetchAndSetData()}catch(o){console.error("Failed to load Spotter Network Positions data after update",o)}})}catch(e){console.error("Failed to load Spotter Network Positions data",e)}}async fetchData(){const e=await Se.instance().get("/vendors/spotter-network/positions.geojson"),t=j().utc().subtract(1,"hour");e.features=e.features.filter(o=>j.unix(o.properties.unix).isSameOrAfter(t)),this.positions=e}show(){for(const e of[this.pointLayerId])g.setLayoutProperty(e,"visibility","visible")}hide(){for(const e of[this.pointLayerId])g.setLayoutProperty(e,"visibility","none")}clear(){try{g.popups.clear(),this.positions.features=[],this.boundPointOnClick&&(g.off("click",this.pointLayerId,this.boundPointOnClick),this.boundPointOnClick=null),g.hasImage("ww-spotter-network-dot")&&g.removeImage("ww-spotter-network-dot"),g.getLayer(this.pointLayerId)&&g.removeLayer(this.pointLayerId),g.getSource(this.sourceId)&&g.removeSource(this.sourceId);const e="vendors:spotter-network:positions";te.roomLeave(e),te.removeAllListeners(e)}catch(e){throw new Error(`Failed to clear Spotter Network: ${e.message}`)}}openModal(e){const t=ne({defaultModelValue:!0,component:mt,slots:{default:le({component:DA,attrs:{feature:e,onClose(){t.close()}}})}})}}const is=new OA,oa=()=>{const i=async()=>{try{a()?await t():await e()}catch(n){throw console.error("Failed to toggle Spotter Network:",n),new Error("Failed to toggle Spotter Network visibility")}},e=async()=>{await is.draw(),Ds().turnOnPositionsMapLayer()},t=async()=>{is.clear(),Ds().turnOffPositionsMapLayer()},o=async()=>{if(a())try{await is.fetchAndSetData()}catch(n){console.log("Failed to update Spotter Network positions",n)}},a=()=>Ds().positionsMapLayerOn;return{toggle:i,show:e,hide:t,isVisible:a,showIfVisible:()=>{a()&&e()},spotNetPos:is,update:o}},lr={mapLayerOn:!1},KA=ve("settings/storm_chasers",{state:()=>({...JSON.parse(JSON.stringify(lr))}),actions:{toggle(){this.mapLayerOn=!this.mapLayerOn},set(i){this.mapLayerOn=i},reset(){this.$state=JSON.parse(JSON.stringify(lr))}},persist:!0}),sa="/assets/icon-C21ZOtmJ.png",UA=["alt"],$A=["textContent"],XA=["innerHTML"],WA=ae({__name:"StormChaserPopup",props:{feature:{},isLast:{type:Boolean},onClick:{type:Function}},setup(i){const e=i;return(t,o)=>(c(),p("div",{class:O(["flex justify-between cursor-pointer py-1",{"mb-2":!t.isLast}]),onClick:o[0]||(o[0]=a=>t.onClick(t.feature))},[s("div",null,[s("div",null,[s("img",{src:sa,class:"w-6 h-auto relative top-[-1px]",alt:e.feature.properties.name},null,8,UA),s("span",{class:"ml-2 font-bold",textContent:_(e.feature.properties.name)},null,8,$A)])]),s("div",{innerHTML:u(Ot)},null,8,XA)],2))}}),VA=[{id:66,profile_image:new URL("/assets/brandoncopic-EhzYmGHZ.jpg",import.meta.url).href},{id:25,profile_image:new URL("/assets/brandoncopic-EhzYmGHZ.jpg",import.meta.url).href},{id:2695,profile_image:new URL("/assets/coreygerken-CV5LK7Xb.jpg",import.meta.url).href}];class GA{constructor(){this.sourceId="ww-storm-chasers-source",this.pointLayerId="ww-storm-chasers-point-layer",this.openModals=new Set,this.chasers={type:"FeatureCollection",features:[]},this.endpoint="/chasers/chasers.geojson",this.socketRoom="chasers:location",this.clickHandler=e=>{g.popups.clear();const t=e.properties.id;this.openModals.has(t)||(this.openModals.add(t),he.chaserVideo({name:e.properties.name,videoSource:e.properties.video_source,onClose:()=>{this.openModals.delete(t)}}))},this.pointOnClick=lt(e=>{const t=wo(e.features,o=>o.properties.id);if(t.length!=0)return()=>{const o=window.document.createElement("div");return t.forEach((a,r)=>{const n=window.document.createElement("div");Tt(Xt(WA,{feature:a,isLast:r===t.length-1,onClick:this.clickHandler}),n),o.appendChild(n)}),o}}),setInterval(()=>{const e=this.chasers.features.length;this.filterActiveChasers(),e!==this.chasers.features.length&&g.getSource(this.sourceId).setData(this.chasers)},1e3*60*1)}filterActiveChasers(){this.chasers.features=this.chasers.features.filter(e=>e.properties.last_event_ms>new Date(Date.now()-30*60*1e3))}async draw(){try{const e=VA.map(t=>{const o=`ww-storm-chaser-${t.id}`;return g.hasImage(o)?Promise.resolve():this.loadRoundedImage(t.profile_image,o)});await Promise.all(e),this.addLayer(),await this.addData(),this.boundPointOnClick=this.pointOnClick.bind(this),g.on("click",this.pointLayerId,this.boundPointOnClick)}catch(e){console.error("Failed to draw Storm Chasers:",e),this.clear()}}async loadRoundedImage(e,t){return new Promise((a,r)=>{const n=new Image;n.onload=()=>{const l=Math.min(n.width,n.height);if(l===0){r(new Error("Image has zero dimension. Cannot create rounded icon."));return}const d=l/2,m=d+15,h=document.createElement("canvas");h.width=m*2,h.height=m*2;const f=h.getContext("2d"),y=m,N=m;f.beginPath(),f.arc(y,N,m,0,Math.PI*2,!1),f.fillStyle="red",f.fill(),f.beginPath(),f.arc(y,N,d,0,Math.PI*2,!1),f.clip();const w=l,S=l,v=(n.width-w)/2,A=(n.height-S)/2,B=l,I=l;f.drawImage(n,v,A,w,S,15,15,B,I),g.addImage(t,{width:h.width,height:h.height,data:f.getImageData(0,0,h.width,h.height).data}),a()},n.onerror=l=>{console.error(`Failed to load image: ${e}`,l),r(new Error(`Failed to load image: ${e}`))},n.src=e})}addLayer(){g.addSource(this.sourceId,{type:"geojson",data:{type:"FeatureCollection",features:[]}}),g.addLayer({id:this.pointLayerId,type:"symbol",source:this.sourceId,layout:{"icon-image":["get","icon-image"],"icon-size":.13,"icon-allow-overlap":!1,"icon-anchor":"center","icon-offset":[0,0],"icon-pitch-alignment":"map","icon-padding":.5}},"ww-radar-towers-dot-layer")}async addData(){try{await this.fetchAndSetData(),te.roomJoin(this.socketRoom),te.on(this.socketRoom,async e=>{const t=this.chasers.features.find(o=>o.properties.id===e.id);if(t){if(t.properties.last_event_ms>e.position.timestamp)return;t.geometry.coordinates=[e.position.longitude,e.position.latitude],t.properties.last_event_ms=e.position.timestamp,t.properties.last_event=new Date(e.position.timestamp).toISOString()}else this.fetchAndSetData();g.getSource(this.sourceId).setData(this.chasers)})}catch(e){console.error("Failed to load Storm Chasers data",e)}}async fetchAndSetData(){await this.fetchData(),this.filterActiveChasers(),g.getSource(this.sourceId).setData(this.chasers)}async fetchData(){try{const e=await Se.instance().get(this.endpoint);e.features=e.features.map(t=>(t.properties["icon-image"]=`ww-storm-chaser-${t.properties.id}`,t.properties["symbol-sort-key"]=1,t)),this.chasers=e}catch(e){throw new Error(`Failed to fetch storm chaser feed: ${e.message}`)}}show(){g.setLayoutProperty(this.pointLayerId,"visibility","visible")}hide(){g.setLayoutProperty(this.pointLayerId,"visibility","none")}clear(){try{g.popups.clear(),this.chasers.features=[],this.boundPointOnClick&&(g.off("click",this.pointLayerId,this.boundPointOnClick),this.boundPointOnClick=null),g.hasImage("storm-chaser-dot")&&g.removeImage("storm-chaser-dot"),g.getLayer(this.pointLayerId)&&g.removeLayer(this.pointLayerId),g.getSource(this.sourceId)&&g.removeSource(this.sourceId),te.roomLeave(this.socketRoom),te.removeAllListeners(this.socketRoom)}catch(e){throw new Error(`Failed to clear Storm Chasers: ${e.message}`)}}}const ns=new GA,zo=()=>{const i=KA(),e=async()=>{await ns.draw(),i.set(!0)},t=async()=>{ns.clear(),i.set(!1)},o=async()=>{n()?await t():await e()},a=async()=>{await r()},r=async()=>{if(n())try{await ns.fetchAndSetData()}catch(d){console.error("Failed to update storm chasers",d)}},n=()=>i.mapLayerOn;return{init:a,toggle:o,show:e,hide:t,update:r,isVisible:n,showIfVisible:async()=>{console.log("StormChasers showIfVisible",n()),n()&&await e()},stormChasersLayer:ns}},aa=ve("settings/location",{state:()=>({mode:null,isLocating:!1,userPosition:null,isWatching:!1}),actions:{setMode(i){this.mode=i}},persist:{paths:["mode","userPosition"]}});class oi{once(){}watch(){}stop(){}}class si extends oi{constructor(){super(),this.watchId=null}async once(){if(!navigator._geolocation)throw new Error("Geolocation is not supported.");try{if(await navigator._geolocation.requestPermission()==="denied")throw new Error("Please enable location permissions in your settings to use this feature.");return await Promise.race([navigator._geolocation.getCurrentPosition({enableHighAccuracy:!0,maximumAge:0}),new Promise((o,a)=>{setTimeout(()=>{a(new Error("Location request timed out. Please try again."))},15e3)})])}catch(e){throw console.error("Error getting location:",e),e}}async watch(e,t){if(!navigator._geolocation){t(new Error("Geolocation is not supported."));return}this.stop();try{if(await navigator._geolocation.requestPermission()==="denied")throw new Error("Please enable location permissions in your settings to use this feature.");const a=new Promise(r=>{const n=navigator._geolocation.watchPosition({enableHighAccuracy:!0,maximumAge:0},e);r(n)});this.watchId=await Promise.race([a,new Promise((r,n)=>{setTimeout(()=>{n(new Error("Location request timed out. Please try again."))},15e3)})])}catch(o){t(o)}}stop(){var e;this.watchId&&((e=navigator._geolocation)==null||e.clearWatch(this.watchId),this.watchId=null)}}class jA extends oi{async once(){const e=g.mapboxMapsFirst();if(!e)return;const t=e.getCenter();return{coords:{latitude:t.lat,longitude:t.lng}}}async watch(e,t){console.log("SocketLocationTracker.watch"),zt.joinLocationRoom(),zt.on("user:location",o=>{console.log("SocketLocationTracker.watch update"),e({coords:{latitude:o.latitude,longitude:o.longitude}})})}stop(){zt.roomLeave("user:location")}}class ZA{constructor(e,t={}){this.id=e,this.size=t.size||128,this.sourceId=`ww-${this.id}-source`,this.layerId=`ww-${this.id}-layer`,this.imageId=`ww-${this.id}-pulsing-dot`,this.color=t.color||"rgba(255, 87, 34, 1)",this.pulseColor=t.pulseColor||"rgba(255, 100, 100, 1)",this.dot=this.createPulsingDot()}createPulsingDot(){const e=this.size;return{width:e,height:e,data:new Uint8Array(e*e*4),onAdd:function(){const t=document.createElement("canvas");t.width=this.width,t.height=this.height,this.context=t.getContext("2d")},render:function(){const o=performance.now()%1e3/1e3,a=e/2*.3,r=e/2*.7*o+a,n=this.context;return n.clearRect(0,0,this.width,this.height),n.beginPath(),n.arc(this.width/2,this.height/2,r,0,Math.PI*2),n.fillStyle=`rgba(255, 100, 100, ${1-o})`,n.fill(),n.beginPath(),n.arc(this.width/2,this.height/2,a,0,Math.PI*2),n.fillStyle="rgba(255, 87, 34, 1)",n.strokeStyle="white",n.lineWidth=2+4*(1-o),n.fill(),n.stroke(),this.data=n.getImageData(0,0,this.width,this.height).data,g.triggerRepaint(),!0}}}setPosition(e){const t={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[e.longitude,e.latitude]}}]};g.hasImage(this.imageId)||g.addImage(this.imageId,this.dot,{pixelRatio:2}),g.getSource(this.sourceId)?g.getSource(this.sourceId).setData(t):g.addSource(this.sourceId,{type:"geojson",data:t}),g.getLayer(this.layerId)||g.addLayer({id:this.layerId,type:"symbol",source:this.sourceId,layout:{"icon-image":this.imageId}})}remove(){g.getLayer(this.layerId)&&g.removeLayer(this.layerId),g.getSource(this.sourceId)&&g.removeSource(this.sourceId)}}const YA=()=>{const i={},e=(a,r={})=>{if(i[a])throw new Error(`Tracking with id ${a} already exists`);const l={...{with:new si,live:!0,symbol:new ZA(a),maps:[],onUpdate:(d,m)=>{},onError:d=>{},onStart:(d,m)=>{},onStop:()=>{}},...r};return i[a]=l,{id:a,start:()=>t(a),stop:()=>o(a)}},t=async a=>{const r=i[a];if(!r)throw new Error(`Tracking with id ${a} not found`);const n=r.with;if(r.live)try{const l=await n.once();return await Promise.resolve(r.onStart(l,r.symbol)),n.watch(d=>{r.onUpdate(d,r.symbol)},r.onError),l}catch(l){throw r.onError(l),l}else try{const l=await n.once();return await Promise.resolve(r.onStart(l,r.symbol)),r.onUpdate(l,r.symbol),l}catch(l){throw r.onError(l),l}},o=a=>{const r=i[a];if(!r)throw new Error(`Tracking with id ${a} not found`);r.with.stop(),r.symbol.remove(),r.onStop(),delete i[a]};return{track:e,start:t,stop:o}},xt={STATIC:"static",DRIVING:"driving"};let Is=!1,bt=null,Es=null,Wt=null,to=null;const ai=()=>{function i(){xe().activateWakeLock()}function e(){xe().deactivateWakeLock()}function t(){he.share()}function o(){C.screenshot.take()}function a(){C.gif.record(),et().start("GIF")}function r(){C.mp4.record(),et().start("MP4")}function n(){Qt().isAnnotating?C.drawing.disable():C.drawing.enable()}const l=aa(),d=It(),{mode:m,isLocating:h,userPosition:f,isWatching:y}=Oe(l),N=YA(),w=()=>C.isNativeApp(),S=()=>!C.isNativeApp()&&d.isAuthenticated(),v=()=>Es=Date.now(),A=()=>{g.off("dragend",v)};async function B(U){if(h.value)return;const X="user-location";h.value=!0;try{if(Wt)try{Wt.stop(),Wt=null}catch($){console.warn("Error stopping previous tracking:",$)}return Wt=N.track(X,U),await N.start(X),Wt}catch(J){throw console.error("Error starting location tracking:",J),h.value=!1,J}}function I(){return g.on("dragend",v),{live:!1,onStart:async(U,X)=>{f.value=U,h.value=!1;const J=U.coords;if(X.setPosition(J),!Is){g.flyTo({center:[J.longitude,J.latitude],zoom:8,essential:!0});try{await new Promise($=>{g.mapboxMapsFirst().once("moveend",$)})}catch{console.error("Waiting for map move ending failed")}}try{await C.radar.turnOnClosestRadar([J.longitude,J.latitude])}catch($){console.warn("Failed to turn on radar:",$)}},onError:U=>{A(),st()&&window._alert(U.message,"Location Error"),console.error(U)},onStop:()=>{y.value=!1,f.value=null}}}function R(){g.on("dragend",v);const U=w();return{live:!0,with:U?new si:new jA,onStart:async(X,J)=>{if(y.value=!0,!U){h.value=!1;return}f.value=X;const $=X.coords;J.setPosition($),g.flyTo({center:[$.longitude,$.latitude],zoom:14,essential:!0});try{await new Promise(ce=>{g.mapboxMapsFirst().once("moveend",ce)})}catch{console.error("Waiting for map move ending failed")}h.value=!1,to!==null&&(to.close(),to=null);try{await C.radar.turnOnClosestRadar([$.longitude,$.latitude])}catch(ce){console.warn("Failed to turn on radar:",ce)}U&&zt.updateLocation({timestamp:Date.now(),latitude:$.latitude,longitude:$.longitude})},onUpdate:async(X,J)=>{f.value=X,J.setPosition(X.coords);const $=X.coords;to!==null&&(to.close(),to=null),M($),U&&zt.updateLocation({timestamp:Date.now(),latitude:$.latitude,longitude:$.longitude})},onError:X=>{A(),st()&&window._alert(X.message,"Location Error"),console.error(X)},onStop:()=>{y.value=!1,f.value=null}}}const M=Oi(U=>{const X=Date.now();if(Es&&X-Es<5e3)return;const J=[U.longitude,U.latitude];g.easeTo({center:J,duration:1e3});try{C.radar.turnOnClosestRadar(J)}catch($){console.warn("Failed to turn on radar:",$)}},1e3);async function D(){try{Wt&&(Wt.stop(),Wt=null),A(),await e(),bt&&(bt(),bt=null),m.value=null,y.value=!1,h.value=!1}catch(U){console.error("Error stopping location tracking:",U)}}async function k(){if(m.value===xt.STATIC)await D();else try{m.value=xt.STATIC,Is=!1,await B(I())}catch(U){st()&&window._alert(U.message,"Location Error"),console.error(U),m.value=null}}async function F(){console.log("toggle driving mode",m.value===xt.DRIVING),m.value===xt.DRIVING&&y?await D():await E()}async function E(){try{if(m.value=xt.DRIVING,await i(),C.isNativeApp())await B(R()),window._alert("While in Storm Chaser Mode your screen will stay awake. This may cause battery drain.","Storm Chaser Mode On");else{to=window._alert(`<p style="margin: 10px 0 0;">To see your phone's location on the map here:</p>
                    <ul style="margin-left: 20px; margin-top: 10px; margin-bottom: 10px;">
                        <li>1. Log in to the <strong>same</strong> WeatherWise account on this computer AND your phone.</li>
                        <li>2. On your phone, <strong>turn on Storm Chaser Mode</strong> in the WeatherWise app.</li>
                        <li>3. Keep the WeatherWise app <strong>open on your phone screen and running in the foreground</strong>.</li>
                    </ul>
                    <p>Start moving - your computer will then show your phone's location.</p>`,"Waiting for your phone... 📱➡️💻");const{isAuthenticated:U}=Oe(xo());bt=vs(async()=>{U.value&&(bt&&(bt(),bt=null),await Mo(),await B(R()))})}}catch(U){bt&&(bt(),bt=null),st()&&window._alert(U.message,"Location Error"),console.error(U),m.value=null}}return{startWakeLock:i,stopWakeLock:e,shareMap:t,screenshot:o,recordGif:a,recordVideo:r,draw:n,toggleWatchMyPosition:k,toggleDrivingMode:F,init:()=>{Is=!0,m.value===xt.STATIC?B(I()):m.value===xt.DRIVING&&(w()||S())?(i(),B(R())):m.value===xt.DRIVING&&E()}}},JA=[ko,oa,zo];class QA{init(){te.init().start(),zt.init(),this.appStore=xe(),this.modals=he,this.mapkeeper=g,this.socket=te,this.userSocket=zt,this.satellite=new uw,this.radar=new iw,this.warnings=new j3,this.mesoscaleDiscussions=new DS,this.outlooks=new m5,this.tropical=new j5,this.mp4=new qr,this.gif=new Q5,this.screenshot=new q5,this.drawing=new ek,this.robot=new Z5,JA.forEach(e=>e().showIfVisible()),this.appStore.ready(),this.appStore.hideAllModes(),this.appStore.showMode(),Ys().init(),It().init(),ai().init()}isNativeApp(){return st()}getNativeVersion(){if(!this.isNativeApp())return null;const e=window.navigator.userAgent.trim();return e.startsWith("WeatherWise/")?e.split(/[ ,]+/)[0].split("/")[1]:null}isAppleNative(){return this.isNativeApp()&&window.navigator.userAgent.includes("Apple")}isNativeVersionAtleast(e){const t=this.getNativeVersion();return t===null?!1:Wa(t,e)>=0}isNativeVersionEqualTo(e){const t=this.getNativeVersion();return t===null?!1:Wa(t,e)===0}shouldShowFeatures(e){return this.isNativeApp()?this.isNativeVersionAtleast(e):!0}hash(){return"ca1d5d42bd750302ea6c3e9da2c70bc29387dd0f"}}const C=new QA;window.app=C;const cr="RADAR",qA=["RADAR","SATELLITE","OUTLOOKS"],xe=ve("app",{state:()=>({booted:!1,mode:(()=>{const i=new Ne(Kt.isToDesktop());if(!i.has("m"))return cr;const e=i.get("m").toUpperCase();return qA.includes(e)?e:cr})(),updating:!1,radar_drawer_open:!1,colortable_bar_open:!1,warnings_sidebar_open:!1,warnings_sidebar_scroll_top:0,search_open:!1,menu_open:!1,wakeLock:null,deepLink:null}),getters:{isRadarMode:i=>i.mode==="RADAR",isSatelliteMode:i=>i.mode==="SATELLITE"},actions:{ready(){this.booted=!0},isReady(){return this.booted},setDeepLink(i){this.deepLink=i},setMode(i){this.hideAllModes(),this.mode=i,Fo({title:Po}),this.showMode();const e=new Ne;e.set("m",this.mode),e.save()},hideAllModes(){var i;for(const e of["radar","satellite","outlooks"])(i=C[e])==null||i.hide()},showMode(){var i;(i=C[this.mode.toLowerCase()])==null||i.show()},toggleWarningsSidebar(i=null){this.warnings_sidebar_open=i!==null?i:!this.warnings_sidebar_open},toggleMenu(i=null){this.menu_open=i!==null?i:!this.menu_open},toggleSearch(i=null){this.search_open=i!==null?i:!this.search_open},async activateWakeLock(){try{this.wakeLock=await navigator._wakeLock.request("screen")}catch(i){console.error("Failed to activate wake lock:",i)}},async deactivateWakeLock(){if(this.wakeLock)try{await this.wakeLock.release(),this.wakeLock=null}catch(i){console.error("Failed to release wake lock:",i)}}}}),Os=()=>{const i=ot(),{isPlaybackBuffering:e}=Oe(i),t=async()=>{const a=i.isPlaying,n=g.activeMap().stores.radar.activeTowerId,l=g.mapboxMaps().map(d=>d.stores.radar.activeProductCode);if(a)o();else try{e.value=!0,await C.radar.loadHistory(n,l),C.radar.playScans(n,l)}catch(d){console.error("Failed to buffer radar scans",d)}finally{e.value=!1}},o=()=>{i.stopPlayback()};return{togglePlayback:t,stopPlayback:o}},ri=()=>{const i=xe(),e=ot(),t=r=>{g.mapsToLoad().length===1?o(r):a()},o=async r=>{i.isRadarMode&&e.hasBufferedScans&&await C.radar.resetAndLoadLatestRadarDataAll();for(let n=0;n<r;++n)g.push()},a=()=>{for(const r of g.mapsToLoad())r.id!==0&&g.pop(r.id)};return{toggle:t,open:o,close:a}},eC={install(i){const e=xe(),t=ot(),o=Qt(),a=gt(),r=qs(),n=ea(),l=ri(),d=we(),m=se=>me=>{if(e.isReady())return se(me)},h=Be(()=>{e.setMode("RADAR")},300),f=Be(()=>{e.setMode("SATELLITE")},300),y=Be(()=>{e.setMode("OUTLOOKS")},300),N=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId,Re=zn(t.activeTower.properties.products);C.radar.changeRadarProduct(se,me,Re)},50),w=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId,Re=On(t.activeTower.properties.products);C.radar.changeRadarProduct(se,me,Re)},50),S=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId;C.radar.changeRadarProduct(se,me,"CC0")},50),v=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId;C.radar.changeRadarProduct(se,me,"ZDR0")},50),A=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId;C.radar.changeRadarProduct(se,me,"SW0")},50),B=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId,Re=se.stores.radar.activeProductCode,Ue=se.stores.radar.activeProductGroup,it=Ue.tilts.findIndex(oe=>oe.product===Re)+1;if(it>=Ue.tilts.length)return;const ft=Ue.tilts[it];C.radar.changeRadarProduct(se,me,ft.product)},50),I=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId,Re=se.stores.radar.activeProductCode,Ue=se.stores.radar.activeProductGroup,it=Ue.tilts.findIndex(oe=>oe.product===Re)-1;if(it<0)return;const ft=Ue.tilts[it];C.radar.changeRadarProduct(se,me,ft.product)},50),R=Be(()=>{if(!e.isRadarMode||!t.anyActive)return;const se=g.activeMap(),me=se.stores.radar.activeTowerId,Re=se.stores.radar.activeProductCode,je=se.stores.radar.activeProductGroup.tilts[0];je.product!==Re&&C.radar.changeRadarProduct(se,me,je.product)},50),M=Be(()=>{d.isAtleast(d.tiers.PLUS)&&l.toggle(1)},50),D=se=>{!e.isRadarMode||t.isPlaybackBuffering||(typeof se.target.blur=="function"&&se.target.blur(),Os().togglePlayback())},k=()=>{if(!o.isAnnotating){C.drawing.enable();return}C.drawing.disable()},F=()=>{e.isRadarMode&&(t.inspectorActive=!t.inspectorActive)},E=()=>{e.toggleWarningsSidebar()},K=()=>{setTimeout(()=>{e.toggleSearch()},1)},U=()=>{a.toggleVisible()},X=()=>{r.toggleVisible()},J=()=>{n.toggleVisible()},$=()=>{e.toggleMenu()},ce=se=>{if(!e.isRadarMode||t.isPlaybackBuffering||!t.hasBufferedScans)return;Os().stopPlayback();const Re=g.activeMap().stores.radar.activeTowerId,Ue=g.mapboxMaps().map(je=>je.stores.radar.activeProductCode);t.playbackIdx+=se,C.radar.playScan(Re,Ue)},ue={"shift+1":{fn:m(h),description:"Set mode to Radar"},"shift+2":{fn:m(f),description:"Set mode to Satellite"},"shift+3":{fn:m(y),description:"Set mode to Outlooks"},"shift+r":{fn:m(N),description:"Set radar product to Reflectivity"},"shift+v":{fn:m(w),description:"Set radar product to Velocity"},"shift+c":{fn:m(S),description:"Set radar product to Correlation Coefficient"},"shift+d":{fn:m(v),description:"Set radar product to Differential Reflectivity"},"shift+w":{fn:m(A),description:"Set radar product to Spectrum Width"},"shift+ctrl+up":{fn:m(B),description:"Load radar higher tilt"},"shift+ctrl+down":{fn:m(I),description:"Load radar lower tilt"},"shift+ctrl+space":{fn:m(R),description:"Load radar lowest tilt"},"ctrl+2":{fn:M,description:"Open/Close Split View (2 maps)"},space:{fn:m(D),description:"Toggle radar playback"},d:{fn:m(k),description:"Toggle drawing mode"},i:{fn:m(F),description:"Toggle radar inspector"},a:{fn:m(E),description:"Toggle alerts sidebar"},s:{fn:m(K),description:"Toggle search"},"alt+shift+w":{fn:m(U),description:"Toggle warning overlays"},"alt+shift+m":{fn:m(X),description:"Toggle mesoscale discussion overlays"},"alt+shift+t":{fn:m(J),description:"Toggle tropical overlays"},tab:{fn:m($),description:"Toggle menu"},right:{fn:m(()=>ce(1)),description:"Move map east, or when radar playback is active, move to next scan"},left:{fn:m(()=>ce(-1)),description:"Move map west, or when radar playback is active, move to previous scan"}};for(const[se,me]of Object.entries(ue))Ki(se,me.options||{},me.fn);i.provide("keyboardShortcuts",ue)}},tC={install(i,e){const t=lo();window.Userback=window.Userback||{},Userback.access_token=e.token,t.revenueCatCustomerInfo&&(Userback.user_data={id:t.revenueCatCustomerInfo.originalAppUserId,info:t.revenueCatCustomerInfo}),i.config.globalProperties.$Userback=window.Userback}},Ks={watchPositionId:null,requestPermission:async()=>(console.log("Checking if ExpoBridge is available..."),st()?(console.log("ExpoBridge is available, requesting permission..."),ct.location.requestPermission()):(console.log("ExpoBridge is not available, querying navigator permissions..."),new Promise((i,e)=>{navigator.permissions.query({name:"geolocation"}).then(t=>{console.log("Geolocation permission query result:",t.state),t.state==="granted"?(console.log("Geolocation permission granted."),i("granted")):t.state==="prompt"?(console.log("Geolocation permission prompt shown."),i("prompt")):(console.error("Geolocation permission denied."),e(new Error("Permission denied")))}).catch(t=>{console.error("Error querying geolocation permissions:",t),e(t)})}))),getCurrentPosition:async i=>{if(console.log("Requesting location permission..."),await Ks.requestPermission()==="denied")throw console.error("Location permission denied."),new Error("Location permission denied");try{if(console.log("Getting current position..."),st()){console.log("Using ExpoBridge to get current position...");try{const t=await ct.location.getCurrentPosition();return Promise.resolve({coords:{latitude:t.latitude,longitude:t.longitude},_expo:t})}catch(t){return Promise.reject(t)}}else return console.log("Using navigator.geolocation to get current position..."),new Promise((t,o)=>{navigator.geolocation.getCurrentPosition(t,o,i)})}catch(t){throw console.error("Error getting current position:",t),t}},async watchPosition(i,e){if(console.log("Requesting location permission..."),await Ks.requestPermission()==="denied")throw console.error("Location permission denied."),new Error("Location permission denied");if(this.watchPositionId)throw console.warn("Watch position id is already set. Run 'clearWatch' before attempting to watch"),new Error("Already watching position");return st()?(console.log("Using ExpoBridge to get watch position..."),this.watchPositionId="native",ct.location.watchPosition(e)):(console.log("Using navigator.geolocation to get watch position..."),this.watchPositionId=navigator.geolocation.watchPosition(e,o=>{throw o},i)),Promise.resolve(this.watchPositionId)},clearWatch(){if(!this.watchPositionId){console.warn("No watch position id set");return}this.watchPositionId==="native"?ct.location.clearWatch():Number.isInteger(this.watchPositionId)&&navigator.geolocation.clearWatch(this.watchPositionId),this.watchPositionId=null}},oC={wakeLock:null,async request(i){if(this.wakeLock!==null)throw console.warn("Attempting to request the wake lock when it is already set"),new Error("Wake lock already set");try{return st()?this.wakeLock=await ct.wakeLock.request(i):this.wakeLock=await navigator.wakeLock.request(i),{release:async()=>{this.wakeLock&&(await this.wakeLock.release(),this.wakeLock=null)}}}catch(e){throw console.error("Error requesting wake lock:",e),e}}},sC={blob:(i,e)=>{if(st())return ct.download.blob(i,e);{const t=Ui.extension(e),a=`WeatherWise_${j.utc().format("YYYY_MM_DD_HH_mm_ss")}.${t}`;let r=window.URL.createObjectURL(i),n=document.createElement("a");n.style.display="none",n.href=r,n.target="_blank",n.download=a,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r)}}},aC={alert:(i,e)=>st()?ct.alert.alert(e,i):ne({defaultModelValue:!0,component:Ae,attrs:{title:e},slots:{default:`<hr><p>${i}</p>`}})};function rC(){typeof navigator<"u"&&(navigator._geolocation||(navigator._geolocation=Ks),navigator._download||(navigator._download=sC),navigator._wakeLock||(navigator._wakeLock=oC)),typeof window<"u"&&(window._alert||(window._alert=aC.alert))}const iC={__name:"App",setup(i){rC(),Fo({title:Po});const e=bo(),t=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{setTimeout(()=>{e.applyDarkMode()},100)};return t.addEventListener("change",o),Ge(()=>{setTimeout(()=>{e.applyDarkMode()},100)}),(a,r)=>{const n=Ie("RouterView");return c(),p(z,null,[b(n),b(u($i))],64)}}},ii="/credits/cyp-dom-logo.png",nC={key:0},lC={class:"text-sm h-3/6 flex justify-between items-center"},cC={class:"px-3 text-center select-none"},dC={class:"bg-white/75 h-full text-black font-bold px-2 pt-1 rounded-md text-xs"},uC={class:"bg-white/75 px-3 rounded-md text-center font-bold select-none"},pC={name:"Colortable",props:["mapMeta"],data(){return{colorMapValue:"",colorMapColor:"#fff",screenshot:!1}},computed:{radarTowersStore:()=>ot(),recordingStore:()=>et(),appStore:()=>xe(),radarSettingsStore:()=>Dt(),mapRadar(){return g.map(this.mapMeta.id).stores.radar},active(){return this.appStore.mode==="RADAR"&&this.radarTowersStore.anyActive&&this.mapRadar.activeColorMap!==null},cssLinearGradient(){if(!this.mapRadar.activeColorTable)return;const i=this.mapRadar.activeColorTable.length||0;return`background: linear-gradient(90deg, ${this.mapRadar.activeColorTable.map((t,o)=>`rgb(${t[0]},${t[1]},${t[2]}) ${o/i*100}%`).join(", ")});`},colorMapValues(){if(!this.mapRadar.activeColorMap)return[];const i=this.mapRadar.activeColorMap.min,e=this.mapRadar.activeColorMap.max,o=(Math.abs(i)+e)/(this.mapRadar.activeColorTable.length-1),a=Math.floor((e-i)/o)+1;return Array.from({length:a},(r,n)=>+(i+n*o).toFixed(10))},screenshotColorMapValues(){const i=this.mapRadar.activeColorMap,e=this.mapRadar.activeProductGroup.id;if(!i)return[{value:0,unit:"",color:"rgb(255, 255, 255)"},{value:0,unit:"",color:"rgb(255, 255, 255)"},{value:0,unit:"",color:"rgb(255, 255, 255)"}];const t=i.min;let o=i.max;e==="PRT"&&(o=$n);const a=i.colors;return[{value:parseFloat(t).toFixed(1),unit:this.mapRadar.activeProductGroupUnit,color:`rgb(${a[0][0]},${a[0][1]},${a[0][2]})`},{value:parseInt((t+o)/2).toFixed(1),unit:this.mapRadar.activeProductGroupUnit,color:`rgb(${a[parseInt(a.length/2-1)][0]},${a[parseInt(a.length/2-1)][1]},${a[parseInt(a.length/2-1)][2]})`},{value:parseFloat(o).toFixed(1),unit:this.mapRadar.activeProductGroupUnit,color:`rgb(${a[a.length-1][0]},${a[a.length-1][1]},${a[a.length-1][2]})`}]}},watch:{active:{handler(i){this.onCloseColorInspector()}},"recordingStore.screenshot":{handler(i){i?(this.screenshot=!0,this.onOpenColorInspector()):(this.screenshot=!1,this.onCloseColorInspector())}}},methods:{onMapColorValue(i,e){if(!this.mapRadar.activeColorTable)return null;const o=100/this.mapRadar.activeColorTable.length,a=parseInt(e/i*100/o),r=this.mapRadar.activeColorTable[a];if(!this.colorMapValues[a])return;let n=this.colorMapValues[a];this.colorMapValue=`${n.toFixed(1)} ${this.mapRadar.activeProductGroupUnit}`;const l=this.mapRadar.activeProductGroup.id;if(l==="HCA"){const d=Hr(n);this.colorMapValue=d}else if(l==="PRT"){let d="Rain";n>xs&&n<=Lr?(d="Snow",n-=Ut*1):n>Gs&&n<=Rr&&(d="Mixed",n-=Ut*2),this.colorMapValue=`${n.toFixed(1)} ${this.mapRadar.activeProductGroupUnit} (${d})`}else if(["VEL","SRV"].includes(l))switch(this.radarSettingsStore.units.VEL){case"m/s":this.colorMapValue=`${n.toFixed(1)} ${this.mapRadar.activeProductGroupUnit}`;break;case"mph":{const m=n*2.23694;this.colorMapValue=`${m.toFixed(1)} mph`}break;case"kph":{const m=n*3.6;this.colorMapValue=`${m.toFixed(1)} kph`}break;case"kt":{const m=n*1.94384;this.colorMapValue=`${m.toFixed(1)} kt`}break;case"ft/s":{const m=n*3.28084;this.colorMapValue=`${m.toFixed(1)} ft/s`}break}this.colorMapColor=`rgb(${r[0]}, ${r[1]}, ${r[2]})`},onToggleColorInspector(){this.appStore.colortable_bar_open=!this.appStore.colortable_bar_open,this.appStore.colortable_bar_open?this.onOpenColorInspector():this.onCloseColorInspector()},onOpenColorInspector(){this.appStore.colortable_bar_open=!0},onCloseColorInspector(){this.appStore.colortable_bar_open=!1,this.colorMapValue="",this.colorMapColor="#fff"}}},mC=Object.assign(pC,{setup(i){const e=H(null),{elementX:t,elementWidth:o}=Xi(e);return(a,r)=>(c(),q(at,{name:"slide-fade"},{default:ie(()=>[a.active?(c(),p("div",nC,[s("div",{class:O([{"!h-[20px] !z-[30]":a.appStore.colortable_bar_open},"z-[20] h-[10px] w-full top-0 left-0 absolute overflow-hidden map-overlay"]),onClick:r[0]||(r[0]=P((...n)=>a.onToggleColorInspector&&a.onToggleColorInspector(...n),["prevent"])),onMousemove:r[1]||(r[1]=n=>a.onMapColorValue(u(o),u(t))),onTouchmove:r[2]||(r[2]=n=>a.onMapColorValue(u(o),u(t))),ref_key:"target",ref:e,style:pe(a.cssLinearGradient)},[V(s("div",lC,[(c(!0),p(z,null,ee(a.screenshotColorMapValues,n=>(c(),p("div",cC,[s("div",dC,_(n.value)+" "+_(n.unit),1)]))),256))],512),[[be,a.screenshot]])],38),V(s("div",{class:"absolute top-5 w-full flex justify-center items-center z-30",style:pe(`background-color: ${a.colorMapColor}`)},[s("div",uC,_(a.colorMapValue),1)],4),[[be,a.appStore.colortable_bar_open&&!a.screenshot]])])):x("",!0)]),_:1}))}}),hC=G(mC,[["__scopeId","data-v-8266a4d6"]]),gC=(i,e)=>{const o=1.3333333333333333,a=e*(Math.PI/180),r=o*6371e3;return Math.sqrt(Math.pow(i,2)+Math.pow(r,2)+2*i*r*Math.sin(a))-r};function dr(i,e=200,t=1.6){const o=Math.pow(10,i/10);return Math.pow(o/e,1/t)}const fC={class:"relative"},yC={class:"value-container absolute"},NC=["innerHTML"],vC={class:"beam-height"},bC={class:"no-value-container absolute"},wC=ae({__name:"RadarValueInspector",props:{mapMeta:{}},setup(i){const e=i,t=g.map(e.mapMeta.id),o=t.stores.radar,a=xe(),r=Dt(),n=H(!0),l=H("rgba(0,0,0,0)"),d=H(""),m=H(0),h=H(null),f=de(()=>a.radar_drawer_open&&window.innerWidth<640),y=()=>{if(!h.value)return null;const w=h.value.getBoundingClientRect(),v=t.getContainer().getBoundingClientRect(),A=w.left+w.width/2-v.left,B=w.top+w.height/2-v.top;return t.unproject([A,B])},N=()=>{var R;if(!h.value||o.scanDatetime===null)return;const w=y();if(!w)return;const S=t.components["radar-renderer"],v=S.getValueAt(w);if(v===null)l.value="rgba(0,0,0,0)",d.value="No data";else{l.value=`rgba(${(R=v.rgbaColor)==null?void 0:R.join(", ")})`;const M=o.activeProductGroup.id;if(M==="HCA"){const D=Hr(v.value);d.value=D}else if(M==="PRT"){let D=v.value,k="Rain";D>xs&&D<=Lr?(k="Snow",D-=Ut*1):D>Gs&&D<=Rr&&(k="Mixed",D-=Ut*2),d.value=`${D.toFixed(1)} ${o.activeProductGroupUnit}<br>(${k})`}else if(M==="REF")switch(r.units.REF){case"dbz":d.value=`${v.value.toFixed(1)} ${o.activeProductGroupUnit}`;break;case"dbz_rr_in_hr":{const k=dr(v.value)*.0393701;d.value=`${v.value.toFixed(1)} ${o.activeProductGroupUnit}<br>(${k.toFixed(1)} in/hr)`}break;case"dbz_rr_mm_hr":{const k=dr(v.value);d.value=`${v.value.toFixed(1)} ${o.activeProductGroupUnit}<br>(${k.toFixed(1)} mm/hr)`}break}else if(["VEL","SRV"].includes(M))switch(r.units.VEL){case"m/s":d.value=`${v.value.toFixed(1)} ${o.activeProductGroupUnit}`;break;case"mph":{const k=v.value*2.23694;d.value=`${k.toFixed(1)} mph`}break;case"kph":{const k=v.value*3.6;d.value=`${k.toFixed(1)} kph`}break;case"kt":{const k=v.value*1.94384;d.value=`${k.toFixed(1)} kt`}break;case"ft/s":{const k=v.value*3.28084;d.value=`${k.toFixed(1)} ft/s`}break}else d.value=`${v.value.toFixed(1)} ${o.activeProductGroupUnit}`}const A=Ko(w.toArray(),S.getData().location,{units:"meters"});n.value=A<400*1e3;const I=0+gC(A,S.getData().elevation);m.value=I*.00328083989};return tt(()=>o.scanDatetime,w=>{w!==null&&N()}),tt([()=>a.radar_drawer_open,()=>a.colortable_bar_open],()=>{setTimeout(N,310)}),Ge(()=>{g.mapboxMapsFirst().on("move",N),g.mapboxMapsFirst().on("zoom",N),N()}),Bt(()=>{g.mapboxMapsFirst().off("move",N),g.mapboxMapsFirst().off("zoom",N)}),(w,S)=>(c(),q(at,{name:"slide-fade"},{default:ie(()=>[s("div",{class:O(["inspector absolute left-1/2 top-1/2",{"radar-drawer-open":f.value}])},[s("div",fC,[b(u(T),{icon:"game-icons:convergence-target",class:"inline size-8"}),s("div",{ref_key:"glass",ref:h,class:O(["color absolute h-10 w-10",{visible:n.value,invisible:!n.value}]),style:pe(`background-color: ${l.value}`)},null,6),V(s("div",yC,[s("div",{class:"value",innerHTML:d.value},null,8,NC),s("div",vC,_(m.value.toFixed(1))+" kft",1)],512),[[be,n.value]]),V(s("div",bC,S[0]||(S[0]=[s("div",{class:"value"},"No data",-1)]),512),[[be,!n.value]])])],2)]),_:1}))}}),xC=G(wC,[["__scopeId","data-v-9fd828e2"]]),_C={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20"},SC={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white/50 rounded-full"},kC={class:"absolute top-6 left-1/2 -translate-x-1/2"},AC={class:"bg-white/70 dark:bg-ww-blue-100 rounded-lg px-1 py-1 flex flex-col space-y-1.5"},CC=["textContent"],TC={key:0,class:"flex"},BC=["alt","src"],DC={class:"capitalize"},IC={key:1,class:"flex"},EC={class:"flex"},LC=["alt","src"],RC={class:"capitalize"},FC={__name:"UserLocationSetter",props:["mapMeta"],setup(i){const e=i,t=g.map(e.mapMeta.id),o=Uo(),a=Jt(),r=H("marker"),n=H(null),l=H({}),d=H(!1),m=S=>/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu.test(S),h=S=>{setTimeout(()=>{const v=S.target.value;m(v)&&(n.value=v.replace(/[\p{Emoji_Presentation}\p{Extended_Pictographic}]/gu,""))},100)},f=async()=>{var B;const S=n.value.trim(),v=r.value.trim();if(S.length<=0||v.length<=0)return;const A=t.getCenter();if(d.value=!0,l.value=await a.store(S,v,A.lng,A.lat),((B=l.value)==null?void 0:B.error)===null){const I=ge(l.value.data);a.pushLocation(I),n.value=null,r.value="marker",o.setSetterUI(!1)}d.value=!1},y=de(()=>{var S;return(S=l.value)==null?void 0:S.error}),N=K0,w=()=>{o.setSetterUI(!1),n.value=null,r.value="marker",l.value={}};return(S,v)=>{var A,B,I,R,M,D,k,F;return c(),p("div",_C,[s("div",null,[s("div",SC,[b(u(T),{icon:"game-icons:convergence-target",class:"inline size-8 text-black"})]),s("div",kC,[s("div",AC,[y.value?(c(),p("div",{key:0,textContent:_((B=(A=l.value)==null?void 0:A.error)==null?void 0:B.message),class:"p-1 text-sm border-red-700 border-2 border-solid bg-red-500 text-white"},null,8,CC)):x("",!0),s("form",{class:"flex flex-col space-y-1.5 sm:flex-row sm:h-10 sm:space-x-1.5 sm:space-y-0",onSubmit:P(f,["prevent"])},[b(u(Wi),{modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=E=>n.value=E),required:"",type:"text",placeholder:"Name",onKeyup:h,pt:{root:{class:{"!border-1 !border-red-700":(M=(R=(I=l.value)==null?void 0:I.error)==null?void 0:R.errors)==null?void 0:M.name}}}},null,8,["modelValue","pt"]),b(u(Vi),{modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=E=>r.value=E),required:"",options:u(N),filter:"",placeholder:"Choose an icon",pt:{root:{class:{"!border-1 !border-red-700":(F=(k=(D=l.value)==null?void 0:D.error)==null?void 0:k.errors)==null?void 0:F.icon}}}},{value:ie(E=>[E.value?(c(),p("div",TC,[s("img",{alt:E.value.label,src:u(a).iconUrl(E.value),class:O("mr-2"),style:{width:"18px"}},null,8,BC),s("div",DC,_(E.value.replace("-"," ")),1)])):(c(),p("span",IC,_(E.placeholder),1))]),option:ie(E=>[s("div",EC,[s("img",{alt:E.option.label,src:u(a).iconUrl(E.option),class:O("mr-2"),style:{width:"18px"}},null,8,LC),s("div",RC,_(E.option.replace("-"," ")),1)])]),_:1},8,["modelValue","options","pt"]),b(u(ro),{class:"h-full text-sm dark:!text-white dark:hover:!text-ww-blue",severity:"contrast",variant:"text",type:"submit",disabled:d.value},{default:ie(()=>v[2]||(v[2]=[L(" Save ")])),_:1},8,["disabled"]),b(u(ro),{class:"h-full text-sm dark:!text-white dark:hover:!text-ww-blue",severity:"secondary",variant:"text",type:"button",onClick:w,disabled:d.value},{default:ie(()=>v[3]||(v[3]=[L(" Cancel ")])),_:1},8,["disabled"])],32)])])])])}}},MC={name:"MapboxMap",props:["mapMeta","mapIndex"],data(){return{map:null,mapIsReady:!1}},computed:{appStore:()=>xe(),radarTowersStore:()=>ot(),preferencesStore:()=>bo(),userLocationsStore:()=>Uo(),isTopRightMap(){return g.mapsToLoad().length===1?!0:this.mapIndex===1},isLastMap(){return g.mapsToLoad().length===1?!0:this.mapIndex+1==g.mapsToLoad().length},isCypTowerOpen(){if(this.map===null)return!1;const i=g.maps().at(-1).id;return this.appStore.isRadarMode&&this.map.id===i&&["CYPFO","CYLCA"].includes(this.map.stores.radar.activeTowerId)}},async mounted(){await this.createMap()},unmounted(){g.resize(),this.map=null},methods:{async createMap(){g.resize(),this.map=await g.create(this.mapMeta.id,this.$refs.map),this.mapIsReady=!0,g.resize()}}},PC=Object.assign(MC,{setup(i){return(e,t)=>(c(),p(z,null,[s("div",{class:O(["map mapboxgl-map",{"split-view":u(g).mapsToLoad().length>1,"is-top-right":e.isTopRightMap,"is-not-top-right":!e.isTopRightMap,"is-last-map":e.isLastMap,"is-not-last-map":!e.isLastMap}]),ref:"map"},null,2),e.mapIsReady?(c(),p(z,{key:0},[e.radarTowersStore.inspectorActive?(c(),q(xC,{key:0,mapMeta:i.mapMeta},null,8,["mapMeta"])):x("",!0),e.userLocationsStore.setterUIVisible?(c(),q(FC,{key:1,mapMeta:i.mapMeta},null,8,["mapMeta"])):x("",!0),b(hC,{mapMeta:i.mapMeta},null,8,["mapMeta"])],64)):x("",!0),e.isCypTowerOpen?(c(),p("div",{key:1,class:O(["absolute bottom-16 md:bottom-7 z-[19] pointer-events-none",{"left-2 md:left-auto md:right-2":!e.preferencesStore.isLeftHanded,"right-2":e.preferencesStore.isLeftHanded}])},t[0]||(t[0]=[s("img",{class:"rounded-xl",style:{"max-width":"120px"},src:ii},null,-1)]),2)):x("",!0)],64))}}),HC=G(PC,[["__scopeId","data-v-1e431f22"]]),ra="/assets/weatherwise-logo-CvrUzZQV.svg",zC="/assets/spotter-network-point-C0c4Pa4U.png",OC={key:0,class:"flex items-start gap-4 my-1"},KC={class:"text-xl"},UC={key:0,class:"font-bold capitalize"},$C={key:1,class:"flex items-start gap-4 my-1"},XC={class:"text-xl"},WC={key:0,class:"font-bold capitalize"},VC={key:2,class:"flex items-start gap-4 my-1"},GC=["src","alt"],jC={class:"text-xl"},ZC={key:0,class:"font-bold capitalize"},YC={key:0,class:"mt-2"},JC=["textContent"],QC={key:3,class:"flex items-start gap-4 my-1"},qC={class:"text-xl"},e4={key:0,class:"font-bold capitalize"},t4={key:1,class:"font-bold capitalize"},o4={key:2,class:"font-bold capitalize"},s4={class:"flex items-center mt-2 text-xs"},a4={key:4,class:"flex items-start gap-4 my-1"},r4={class:"text-xl"},i4={key:0,class:"font-bold capitalize"},n4={key:5,class:"my-2 text-center"},l4={key:6,class:"flex items-start gap-4 my-1"},c4={class:"text-xl"},d4={class:"font-bold capitalize"},u4={key:0,class:"flex items-center mt-2 text-xs"},p4={key:1,class:"mt-2 text-xs"},m4={key:2,class:"mt-2"},h4=["textContent"],g4={__name:"SearchResult",props:{geojson:Object},setup(i){const e=we(),t=Jt(),o=i,a=e.hasActiveSubscription(),r=o.geojson.place_name,n=o.geojson.feature,l=m=>{if(m<10)return m.toFixed(1);try{return new Intl.NumberFormat("en-US").format(m.toFixed(0))}catch{return m}};let d=null;if(a){const m=C.warnings.getFeaturesThatContainPoint(o.geojson.center,1);m.length>0&&(d=m[0])}return(m,h)=>(c(),p(z,null,[i.geojson.place_type.includes("hazcam")?(c(),p("div",OC,[h[0]||(h[0]=s("img",{src:ta,class:"w-6 h-6 mt-0.5",alt:"Hazcams Logo"},null,-1)),s("div",null,[s("p",KC,[u(n).properties.name?(c(),p("span",UC,_(u(n).properties.name),1)):x("",!0)])])])):x("",!0),i.geojson.place_type.includes("storm_chaser")?(c(),p("div",$C,[h[1]||(h[1]=s("img",{src:sa,class:"w-6 h-6 mt-0.5",alt:"Hazcams Logo"},null,-1)),s("div",null,[s("p",XC,[u(n).properties.name?(c(),p("span",WC,_(u(n).properties.name),1)):x("",!0)])])])):x("",!0),i.geojson.place_type.includes("user_location")?(c(),p("div",VC,[s("img",{src:u(t).iconUrl(u(n).properties.icon),class:"w-6 h-auto relative top-[2px] dark:invert",alt:u(n).properties.name},null,8,GC),s("div",null,[s("p",jC,[u(n).properties.name?(c(),p("span",ZC,_(u(n).properties.name),1)):x("",!0)]),u(d)?(c(),p("p",YC,[h[2]||(h[2]=s("span",{class:"text-xs font-bold mr-1"},"Inside:",-1)),s("span",{class:"text-xs font-medium border-solid px-2.5 py-0.5 rounded-full",style:pe([`background-color: ${u(d).properties["fill-color"]}`,`color: ${u(Ft)(u(d).properties["fill-color"]).isDark()?"white":"black"}`]),textContent:_(u(d).properties.title)},null,12,JC)])):x("",!0)])])):i.geojson.place_type.includes("spotter_network")?(c(),p("div",QC,[h[3]||(h[3]=s("img",{src:zC,class:"w-6 h-6 mt-1",alt:"Spotter Network Logo"},null,-1)),s("div",null,[s("p",qC,[u(n).properties.last?(c(),p("span",e4,_(u(n).properties.last),1)):x("",!0),u(n).properties.first&&u(n).properties.last?(c(),p("span",t4,", ")):x("",!0),u(n).properties.first?(c(),p("span",o4,_(u(n).properties.first),1)):x("",!0)]),s("p",s4," Last update: "+_(u(js)(u(j)(u(n).properties.report_at),"HH:mm")),1)])])):i.geojson.place_type.includes("radar_tower")?(c(),p("div",a4,[h[4]||(h[4]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mt-0.5 dark:text-white",viewBox:"0 0 512 512"},[s("path",{class:"fill-inherit",d:"M252.78 20.875c-1.302.012-2.6.03-3.905.063c-37.928.974-76.148 11.153-111.28 31.437C25.164 117.285-13.41 261.322 51.5 373.75s208.946 151.036 321.375 86.125c77.7-44.86 120.1-127.513 117.47-211.406c-3.563 65.847-35.898 128.573-91 169.374a218 218 0 0 1-35.814 25.844c-103.68 59.86-235.983 24.4-295.842-79.282c-59.86-103.68-24.43-235.984 79.25-295.844c35.64-20.576 74.67-29.88 112.968-29.03c63.304 1.4 124.623 30.57 165.438 82.53l-32.594 23.032c-33.27-42.835-84.01-66.6-136.063-67c-.96-.008-1.91-.012-2.875 0c-.964.01-1.943.038-2.906.062c-28.006.717-56.222 8.215-82.156 23.188c-82.99 47.914-111.508 154.322-63.594 237.312s154.32 111.51 237.313 63.594c51.37-29.66 81.862-81.724 86.28-136.78c-12.53 45.37-42.32 86.745-85.438 114.186c-.02.013-.043.018-.062.03l-.344.22a158 158 0 0 1-9.78 6.156c-74.245 42.865-168.918 17.494-211.782-56.75c-42.864-74.243-17.493-168.917 56.75-211.78c23.2-13.396 48.39-20.122 73.375-20.782c47.953-1.266 95.138 19.858 125.968 59.156l-39.844 28.156c-20.232-24.32-50.055-37.79-80.594-38.03c-1.17-.01-2.33 0-3.5.03c-17.035.432-34.176 4.995-49.938 14.094c-50.435 29.12-67.806 93.877-38.687 144.313c29.12 50.434 93.908 67.806 144.344 38.686c21.245-12.267 36.623-30.85 45.124-52.03c-18.815 21.064-44.364 36.888-73.938 44.155c-.04.013-.084.02-.125.033c-37.507 10.787-78.796-4.816-99.217-40.188c-24.07-41.688-9.845-94.712 31.843-118.78c13.028-7.523 27.143-11.314 41.156-11.69c25.66-.685 50.898 10.098 68.188 30.25l-41 28.97c-5.497-4.796-12.664-7.72-20.53-7.72c-17.277 0-31.283 14.007-31.283 31.282c0 17.276 14.004 31.282 31.282 31.282s31.28-14.007 31.28-31.283c0-1.187-.06-2.347-.188-3.5l120.094-57.312l4.03-1.75l-.06-.156l62.25-29.72l9.25-4.438l-5.282-8.812l-19.97-33.375l-5.155-8.625l-8.25 5.813l-8.095 5.718c-45.9-58.864-116.14-91.053-187.844-90.405z"})],-1)),s("div",null,[s("p",r4,[u(n).properties.code?(c(),p("span",i4,_(u(n).properties.code),1)):x("",!0)])])])):i.geojson.place_type.includes("promotion")?(c(),p("div",n4,[s("strong",null,_(u(r)),1),h[5]||(h[5]=L(" ")),b(Ke)])):(c(),p("div",l4,[h[7]||(h[7]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"min-w-6 min-h-6 max-w-6 max-h-6 mt-1 dark:text-white",viewBox:"0 0 32 32"},[s("path",{class:"fill-inherit",d:"M16 2A11.013 11.013 0 0 0 5 13a10.9 10.9 0 0 0 2.216 6.6s.3.395.349.452L16 30l8.439-9.953c.044-.053.345-.447.345-.447l.001-.003A10.9 10.9 0 0 0 27 13A11.013 11.013 0 0 0 16 2m0 15a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4"}),s("circle",{cx:"16",cy:"13",r:"4",fill:"none"})],-1)),s("div",null,[s("p",c4,[s("span",d4,_(o.geojson.text),1)]),o.geojson.context?(c(),p("p",u4,_(o.geojson.context.map(f=>f.text).join(", ")),1)):x("",!0),u(a)&&o.geojson.distance_away?(c(),p("p",p4,_(l(i.geojson.distance_away))+" miles away",1)):x("",!0),u(d)?(c(),p("p",m4,[h[6]||(h[6]=s("span",{class:"text-xs font-bold mr-1"},"Inside:",-1)),s("span",{class:"text-xs font-medium border-solid px-2.5 py-0.5 rounded-full",style:pe([`background-color: ${u(d).properties["fill-color"]}`,`color: ${u(Ft)(u(d).properties["fill-color"]).isDark()?"white":"black"}`]),textContent:_(u(d).properties.title)},null,12,h4)])):x("",!0)])]))],64))}},ur=["Search for Spotters with","Search for Hazcams with","Search for Radar Towers with","Find Spotters with","Find Hazcams with","Find Radar Towers with","Enhance your search with","Get enhanced search results with"],f4=()=>{const i=we(),e=aa(),t=Oe(e),o=()=>{const f={accessToken:"pk.eyJ1Ijoid2VhdGhlcndpc2UtYXBwIiwiYSI6ImNtNmp2bW15ZzA1ZHIyanNjd3ZmMGZlcTkifQ.1UTOnh0BA0hiBvbFSZPH7w",placeholder:"Search...",flyTo:!1,clearAndBlurOnEsc:!0,trackProximity:!1,render(N){const w=window.document.createElement("div");return Tt(Xt(g4,{geojson:N}),w),w.innerHTML},localGeocoder(N){const w=r(),S=[],A=N.toLowerCase().split(/[\s,]+/).filter(Boolean);if(A.length===0)return[];for(const B of w)for(const I of B){const M=I.place_name.toLowerCase().split(/[\s,]+/).filter(Boolean);A.every(k=>M.some(F=>F.includes(k)))&&S.push(I)}return S}},y=new gi(f);return y.on("results",N=>{for(const w of N.features){const S=w.center,v=t.userPosition.value;if(!gs(S)||!gs(v))continue;const A=[v.coords.longitude,v.coords.latitude];w.distance_away=Ko(A,S,{units:"miles"})}i.hasActiveSubscription()||(N.features.length>1&&N.features.pop(),N.features.push({place_name:ur[Math.floor(Math.random()*ur.length)],place_type:["promotion"],center:[0,0]}))}),y},a=f=>{o().setProximity(f,!0)},r=()=>i.hasActiveSubscription()?[n(),m(),l(),d(),h()]:[],n=()=>ko().hazcams.stations.features.map(y=>({place_name:`${y.properties.name}`,center:[y.properties.lon,y.properties.lat],place_type:["hazcam","camera"],feature:y})),l=()=>oa().spotNetPos.positions.features.map(y=>({place_name:`${y.properties.last}, ${y.properties.first}`,center:[y.properties.lon,y.properties.lat],place_type:["spotter_network","spotter"],feature:y})),d=()=>zo().stormChasersLayer.chasers.features.map(y=>({place_name:`${y.properties.name}`,center:y.geometry.coordinates,place_type:["storm_chaser","camera"],feature:y})),m=()=>C.radar.towers.features.map(y=>({place_name:`${y.properties.code}`,center:y.geometry.coordinates,place_type:["radar_tower"],feature:y})),h=()=>Jt().getLocations().map(y=>({place_name:`${y.properties.name}`,center:y.geometry.coordinates,place_type:["user_location"],feature:y}));return{geocoder:o,setProximity:a}},Us={__name:"Search",props:{focusOnOpen:{type:Boolean,default:!0}},emits:["open","close"],setup(i,{emit:e}){const t=xe(),o=i,a=e;zo();const r=f4(),n=r.geocoder(),l=At("search-container"),d=()=>l.value.querySelector(".mapboxgl-ctrl-geocoder input"),m=()=>{t.search_open=!0},h=()=>{a("open"),o.focusOnOpen&&Mo(()=>{const A=d();A&&A.focus()});const S=g.mapboxMapsFirst();if(S===null)return;const v=S.getCenter();r.setProximity({latitude:v.lat,longitude:v.lng})},f=()=>{t.search_open=!1},y=()=>{a("close")};tt(()=>t.search_open,S=>{S?h():y()});const N=()=>new Promise(S=>{g.mapboxMapsFirst().once("moveend",({originalEvent:v})=>{v||S()})}),w=async S=>{if(!t.search_open)return;const v=S.result;if(!gs(v))return;if(f(),v.place_type.includes("promotion"))return he.upgradePrompt("SEARCH");const A=g.mapboxMapsFirst(),B=v.place_type.includes("radar_tower"),I=v.place_type.includes("hazcam");v.place_type.includes("spotter_network");const R=v.place_type.includes("storm_chaser"),M={center:v.center,essential:!0};if(v.bbox){const D=A.getCanvas(),k=Zi(v.bbox,[D.width,D.height]);M.zoom=k.zoom}else M.zoom=B?7:16;A.flyTo(M),await N(),I?ko().hazcams.clickHandler(v.feature):B?t.setMode("RADAR"):R&&zo().stormChasersLayer.clickHandler(v.feature),t.isRadarMode&&(v.place_type.includes("radar_tower")?await C.radar.turnOnRadarAll(v.feature):await C.radar.turnOnClosestOnlineRadar(v.center))};return vs(()=>{l.value&&(n.on("result",w),n.addTo(l.value)),Gi(()=>{Mo(()=>{if(!l.value)try{n.off("result",w)}catch(S){console.error("Error removing geocoder result listener",S)}})})}),(S,v)=>(c(),p("ul",{class:O({"w-full":u(t).search_open})},[s("li",null,[V(s("button",{onClick:P(m,["prevent"]),class:"inline-block px-1.5 lg:px-3 py-2 font-bold rounded-lg hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200"},[b(u(T),{icon:"ic:sharp-search",class:"inline size-6"})],512),[[be,!u(t).search_open]])]),u(t).search_open?V((c(),p("li",{key:0,ref:"search-container",onKeyup:ji(f,["esc"])},null,544)),[[u(De),f]]):x("",!0)],2))}},y4={class:"px-3 lg:px-4 bg-ww-slate-100 dark:bg-ww-blue rounded-lg flex select-none"},N4={key:0,class:"absolute text-lg font-bold right-5 sm:right-6 -top-1 bg-gradient-to-tl from-[#F6B91A] to-[#FF5722] bg-clip-text text-transparent"},v4={class:"flex flex-wrap text-sm font-medium text-center text-gray-700 dark:text-gray-200 md:hidden my-[7px] w-full"},b4={key:0,class:"ml-2"},w4=["textContent"],x4={class:"flex flex-nowrap w-full text-sm font-medium text-center text-gray-700 dark:text-gray-300 hidden md:flex my-[7px]"},_4={class:"ms-2"},S4=["onClick"],k4=["textContent"],A4={key:0,class:"absolute left-0 md:left-1/2 md:-translate-x-1/2 w-full z-30 select-none origin-top mt-[7px]"},C4={class:"bg-white dark:bg-ww-blue rounded-lg shadow-lg dark:shadow-gray-900"},T4={class:"text-sm font-medium text-center text-gray-700 dark:text-gray-300 p-3"},B4=["onClick"],D4={key:0,class:"absolute left-0 bg-white dark:bg-ww-blue rounded-lg shadow-lg dark:shadow-gray-900 p-4 w-full origin-top select-none mt-[7px] max-h-[calc(100vh-84px)] overflow-y-auto"},I4={class:"md:grid md:grid-cols-2 md:gap-x-4"},E4={key:0},L4={key:1},R4={name:"AppLogo",components:{Icon:T,Plus:Ke,Search:Us},directives:{"on-click-outside":De},data(){return{menuOpen:!1,dropdownOpen:!1,isSearchActive:!1,modes:[{id:"RADAR",icon:"game-icons:radar-sweep",name:"Radar"},{id:"SATELLITE",icon:"material-symbols-light:satellite-alt-rounded",name:"Satellite"},{id:"OUTLOOKS",icon:"arcticons:forecaster",name:"Outlooks"}]}},computed:{appStore(){return xe()},inApp(){return st()},activeMode(){return this.modes.find(i=>i.id===this.appStore.mode)},isPlus(){return we().hasActiveSubscription()},isToDesktop(){return Kt.isToDesktop()}},methods:{onModeClick(i,e){this.menuOpen=!1,this.appStore.setMode(e)},onMobileMenuItemClick(i){this.menuOpen=!this.menuOpen},onMenuOutsideClick(){setTimeout(()=>{this.menuOpen=!1},10)},toggleDropdown(){this.dropdownOpen=!this.dropdownOpen},closeDropdown(i){i.target.closest("button")||(this.dropdownOpen=!1)},onOpenSearch(){this.dropdownOpen=!1,this.isSearchActive=!0},onCloseSearch(){this.isSearchActive=!1},onCreditsClick(){he.credits(),this.dropdownOpen=!1},onAppUpdatesClick(){Js().showModal(!0),this.dropdownOpen=!1},onAppsClick(){he.apps(),this.dropdownOpen=!1},onUserPreferencesClick(){he.userPreferences(),this.dropdownOpen=!1},onMapSettingsClick(){he.mapSettings(),this.dropdownOpen=!1},onKeyboardShortcutsClick(){he.keyboardShortcuts(),this.dropdownOpen=!1},onLeaveFeedbackClick(){window.Userback.open(),this.dropdownOpen=!1},toggleSearch(){this.isSearchActive=!this.isSearchActive}}},F4=Object.assign(R4,{setup(i){return(e,t)=>(c(),p("div",{class:O(["absolute top-3 md:px-0 md:left-1/2 md:ml-[-317px] md:w-[634px] z-[29]",{"w-full px-3 left-0":e.isSearchActive,"left-3":!e.isSearchActive}])},[s("div",y4,[e.appStore.updating?(c(),p("button",{key:0,onClick:t[0]||(t[0]=P((...o)=>e.toggleDropdown&&e.toggleDropdown(...o),["stop"])),class:"flex items-center focus:outline-none hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-100 rounded-lg transition-colors duration-200 group my-2 px-2"},[b(u(T),{icon:"line-md:downloading-loop",class:"size-8"}),t[10]||(t[10]=s("div",{class:"font-[Outfit] text-lg items-center flex flex-1 ml-3 hidden md:flex"},[s("span",{class:"text-[#17274F] dark:text-gray-100 font-bold drop-shadow-sm transition-colors duration-200"},"Updating"),s("span",{class:"text-[#F6B91A] font-bold drop-shadow-sm group-hover:text-[#F6B91A] transition-colors duration-200"},"...")],-1)),b(u(T),{icon:e.dropdownOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"self-center ml-2 transition-colors duration-200 text-gray-700 dark:text-gray-300"},null,8,["icon"])])):(c(),p("button",{key:1,onClick:t[1]||(t[1]=P((...o)=>e.toggleDropdown&&e.toggleDropdown(...o),["stop"])),class:"relative flex items-center focus:outline-none hover:bg-gray-200 dark:hover:bg-ww-blue-200 rounded-lg transition-colors duration-200 group my-2 px-1 sm:px-2"},[t[11]||(t[11]=s("img",{src:ra,class:"h-3/4 max-w-[27px] object-contain flex-initial self-center",alt:"WeatherWise Logo"},null,-1)),t[12]||(t[12]=s("div",{class:"font-[Outfit] text-lg items-center flex flex-1 ml-3 hidden md:flex"},[s("span",{class:"text-[#17274F] dark:text-gray-100 font-bold drop-shadow-sm transition-colors duration-200"},"Weather"),s("span",{class:"text-[#F6B91A] font-bold drop-shadow-sm group-hover:text-[#F6B91A] transition-colors duration-200"},"Wise")],-1)),e.isPlus?(c(),p("span",N4,"+")):x("",!0),b(u(T),{icon:e.dropdownOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"self-center ml-2 transition-colors duration-200 text-gray-700 dark:text-gray-300"},null,8,["icon"])])),t[13]||(t[13]=s("div",{style:{"border-right":"1px solid #CCC"},class:"my-2 mx-2 dark:border-gray-600"},null,-1)),s("ul",v4,[s("li",{class:O({"w-full":e.isSearchActive})},[b(Us,{onOpen:e.onOpenSearch,onClose:e.onCloseSearch},null,8,["onOpen","onClose"])],2),e.isSearchActive?x("",!0):(c(),p("li",b4,[s("a",{onClick:t[2]||(t[2]=P(o=>e.onMobileMenuItemClick(o),["prevent"])),href:"#",class:"inline-block px-3 py-2 font-bold text-white bg-blue-700 hover:bg-blue-800 rounded-lg active"},[b(u(T),{icon:e.activeMode.icon,class:"inline size-6"},null,8,["icon"]),s("span",{class:"font-bold ml-2",textContent:_(e.activeMode.name)},null,8,w4),b(u(T),{icon:e.menuOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"size-4 inline ml-2"},null,8,["icon"])])]))]),s("ul",x4,[s("li",{class:O({"w-full":e.isSearchActive})},[b(Us,{onOpen:e.onOpenSearch,onClose:e.onCloseSearch},null,8,["onOpen","onClose"])],2),e.isSearchActive?x("",!0):(c(!0),p(z,{key:0},ee(e.modes,(o,a)=>(c(),p("li",_4,[s("a",{href:"#",onClick:P(r=>e.onModeClick(r,o.id),["prevent"]),class:O(["inline-block px-4 py-2 font-bold rounded-lg",{"text-white bg-blue-700 hover:bg-blue-800 active":e.appStore.mode===o.id,"hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":e.appStore.mode!==o.id}])},[b(u(T),{icon:o.icon,class:"inline size-6"},null,8,["icon"]),s("span",{class:"font-bold ml-2",textContent:_(o.name)},null,8,k4)],10,S4)]))),256))])]),b(at,{name:"slide-down"},{default:ie(()=>[e.menuOpen?V((c(),p("div",A4,[s("div",C4,[s("ul",T4,[(c(!0),p(z,null,ee(e.modes,(o,a)=>(c(),p("li",{class:O({"mt-3":a!==0})},[s("a",{href:"#",onClick:P(r=>e.onModeClick(r,o.id),["prevent"]),class:O(["block px-4 py-2 font-bold rounded-lg relative",{"text-white bg-blue-700 active":e.appStore.mode===o.id,"hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200":e.appStore.mode!==o.id}])},[b(u(T),{icon:o.icon,class:"inline size-6 absolute left-3 top-1.5"},null,8,["icon"]),L(_(o.name),1)],10,B4)],2))),256))])])])),[[u(De),e.onMenuOutsideClick]]):x("",!0)]),_:1}),b(at,{name:"slide-down"},{default:ie(()=>[e.dropdownOpen?V((c(),p("div",D4,[s("ul",I4,[e.inApp?x("",!0):(c(),p("li",E4,[s("a",{href:"#",onClick:t[3]||(t[3]=P((...o)=>e.onAppsClick&&e.onAppsClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 px-4 py-2 rounded dark:text-gray-200"},"Download iPhone/Android App")])),t[14]||(t[14]=s("li",null,[s("a",{href:"https://x.com/WxWiseApp",target:"_blank",class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 px-4 py-2 rounded dark:text-gray-200"},"Follow us on X")],-1)),t[15]||(t[15]=s("li",{class:"py-2 md:col-span-2"},[s("hr",{class:"border-t border-gray-200 dark:border-gray-600"})],-1)),s("li",null,[s("a",{href:"#",onClick:t[4]||(t[4]=P((...o)=>e.onUserPreferencesClick&&e.onUserPreferencesClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 px-4 py-2 rounded dark:text-gray-200"},"My Preferences")]),s("li",null,[s("a",{href:"#",onClick:t[5]||(t[5]=P((...o)=>e.onMapSettingsClick&&e.onMapSettingsClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 px-4 py-2 rounded dark:text-gray-200"},"Map Settings")]),s("li",null,[s("a",{href:"#",onClick:t[6]||(t[6]=P((...o)=>e.onKeyboardShortcutsClick&&e.onKeyboardShortcutsClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 px-4 py-2 rounded dark:text-gray-200 hidden md:block"},"Keyboard Shortcuts")]),t[16]||(t[16]=s("li",{class:"py-2 md:col-span-2"},[s("hr",{class:"border-t border-gray-200 dark:border-gray-600"})],-1)),e.isToDesktop?x("",!0):(c(),p("li",L4,[s("a",{href:"#",onClick:t[7]||(t[7]=P((...o)=>e.onLeaveFeedbackClick&&e.onLeaveFeedbackClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"Leave Feedback")])),t[17]||(t[17]=s("li",null,[s("a",{href:"https://www.weatherwise.app",target:"_blank",class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"About")],-1)),t[18]||(t[18]=s("li",null,[s("a",{href:"https://www.weatherwise.app/disclaimer.html",target:"_blank",class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"Disclaimer")],-1)),t[19]||(t[19]=s("li",null,[s("a",{href:"https://www.weatherwise.app/privacy-policy.html",target:"_blank",class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"Privacy Policy")],-1)),t[20]||(t[20]=s("li",null,[s("a",{href:"https://www.weatherwise.app/eula.html",target:"_blank",class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"Terms of Service")],-1)),s("li",null,[s("a",{href:"#",onClick:t[8]||(t[8]=P((...o)=>e.onCreditsClick&&e.onCreditsClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"Credits")]),s("li",null,[s("a",{href:"#",onClick:t[9]||(t[9]=P((...o)=>e.onAppUpdatesClick&&e.onAppUpdatesClick(...o),["prevent"])),class:"block hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-200 px-4 py-2 rounded"},"App Updates")])])])),[[u(De),e.closeDropdown]]):x("",!0)]),_:1})],2))}}),M4=G(F4,[["__scopeId","data-v-ad184748"]]),P4={name:"SimpleColortable",props:["colortable"],data(){return{colorStrategy:"solid",showLabels:!0}},mounted(){document.body.classList.add(["body-simple-colorbar-padding"])},unmounted(){document.body.classList.remove(["body-simple-colorbar-padding"])},computed:{active(){return this.colortable.length>0},lotsOfColors(){return this.colortable.length>4},cssLinearGradient(){if(!this.active)return"";if(this.colorStrategy==="gradient"){const i=this.colortable.length;return`background: linear-gradient(90deg, ${this.colortable.map((t,o)=>`rgb(${t.color[0]},${t.color[1]},${t.color[2]}) ${o/i*100}%`).join(", ")});`}else if(this.colorStrategy==="solid"){const i=this.colortable.length;return`background: linear-gradient(90deg, ${this.colortable.map((t,o)=>`rgb(${t.color[0]},${t.color[1]},${t.color[2]}) ${o/i*100}%, rgb(${t.color[0]},${t.color[1]},${t.color[2]}) ${(o+1)/i*100}%`).join(", ")});`}return""},labels(){return this.colortable.map(i=>i.name)}}},H4={key:0},z4={class:"text-center select-none"},O4=["textContent"];function K4(i,e,t,o,a,r){return c(),q(at,{name:"slide-fade"},{default:ie(()=>[r.active?(c(),p("div",H4,[s("div",{class:"top-colortable h-[8px] w-full top-0 lef-0 fixed map-overlay !h-[20px]",style:pe(r.cssLinearGradient)},[a.showLabels?(c(),p("div",{key:0,class:O(["text-sm grid grid-flow-row h-full",`grid-cols-${t.colortable.length}`])},[(c(!0),p(z,null,ee(r.labels,(n,l)=>(c(),p("div",z4,[n.length>0?(c(),p("div",{key:0,class:O(["label-pill h-full sm:block",{"block absolute sm:relative":(l===0||l===r.labels.length-1)&&r.lotsOfColors,"left-3 sm:left-auto":l===0&&r.lotsOfColors,"right-3 sm:right-auto":l===r.labels.length-1&&r.lotsOfColors,hidden:!(l===0||l===r.labels.length-1)&&r.lotsOfColors}])},[s("span",{class:"bg-white/75 text-black font-bold px-2 py-0.5 rounded-b-lg text-xs",textContent:_(n)},null,8,O4)],2)):x("",!0)]))),256))],2)):x("",!0)],4)])):x("",!0)]),_:1})}const ni=G(P4,[["render",K4],["__scopeId","data-v-5cd3079c"]]),U4={id:"outlooks-bar",class:"absolute top-16 mt-2.5 left-3 md:left-1/2 md:-translate-x-1/2 z-[25] rounded-lg flex select-none"},$4={class:"flex"},X4={class:"ml-2 flex items-center md:items-start"},W4=["onClick"],V4=["textContent"],G4={key:0,class:"relative"},j4={key:0,class:"z-10 bg-white dark:bg-ww-blue divide-y divide-gray-100 dark:divide-gray-700 rounded-lg shadow min-w-20 right-0 top-9 absolute"},Z4={class:"py-2 text-sm text-gray-700 dark:text-gray-300","aria-labelledby":"dropdownDefaultButton"},Y4=["textContent","onClick"],J4={name:"Outlooks",components:{Icon:T,SimpleColortable:ni},data(){return{moreDropdownActive:!1}},async mounted(){this.outlookStore.activeOutlookId!=="0"&&await this.onOutlookChange()},unmounted(){this.clear()},computed:{outlookStore(){return Ns()},...Yi(et,{takingScreenshot:"screenshot"}),maxStepOptions(){return window.innerWidth>500?4:3}},methods:{async onOutlookChange(i){if(this.reset(),this.outlookStore.steps=C.outlooks.setSteps(this.outlookStore.activeOutlookId),this.outlookStore.steps.length===0)return this.clear();await C.outlooks.renderOutlook(this.outlookStore.activeOutlookId,this.outlookStore.activeStep)},async onTimestepChange(i,e){this.reset(),this.outlookStore.activeStep=e.id,await C.outlooks.renderOutlook(this.outlookStore.activeOutlookId,this.outlookStore.activeStep)},reset(){this.onCloseMore(),g.popups.clear()},clear(){this.reset(),this.outlookStore.steps=[],this.outlookStore.colortable=[],C.outlooks.clear()},showHelp(){C.outlooks.openOutlookHelpModal(this.outlookStore.activeOutlookId)},share(){he.share()},close(){this.clear()},onMoreClick(){this.moreDropdownActive=!this.moreDropdownActive},onCloseMore(){this.moreDropdownActive=!1}}},Q4=Object.assign(J4,{setup(i){return(e,t)=>(c(),p(z,null,[e.outlookStore.colortable.length>0?(c(),q(ni,{key:0,colortable:e.outlookStore.colortable},null,8,["colortable"])):x("",!0),V(s("div",U4,[s("div",{class:O(["bg-white dark:bg-ww-blue rounded-lg p-1 flex flex-row justify-between items-center max-w-[550px]",{"md:w-[550px]":e.outlookStore.activeOutlookId!=="0"}])},[s("div",$4,[V(s("select",{id:"countries",class:O(["bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 inline p-1",{"max-w-28 md:max-w-full":e.outlookStore.activeOutlookId!=="0"}]),"onUpdate:modelValue":t[0]||(t[0]=o=>e.outlookStore.activeOutlookId=o),onChange:t[1]||(t[1]=o=>e.onOutlookChange(o))},t[5]||(t[5]=[ye('<option value="0" selected>Choose outlook...</option><optgroup label="SPC Convective/Severe Weather"><option value="USA/SPC/CONVECTIVE/CATEGORICAL">Categorical</option><option value="USA/SPC/CONVECTIVE/TORNADO">Tornado</option><option value="USA/SPC/CONVECTIVE/WIND">Wind</option><option value="USA/SPC/CONVECTIVE/HAIL">Hail</option><option value="USA/SPC/CONVECTIVE/PROB">Probabilistic</option></optgroup><optgroup label="SPC Thunderstorms"><option value="USA/SPC/THUNDERSTORM/THUNDERSTORM">Thunderstorms</option></optgroup><optgroup label="SPC Fire Weather"><option value="USA/SPC/FIRE/DRYT">Dry Thunderstorms</option><option value="USA/SPC/FIRE/WINDRH">Wind/Relative Humidity</option></optgroup><optgroup label="WPC Excessive Rainfall"><option value="USA/WPC/EXCESSIVE_RAINFALL/RAINFALL">Excessive Rainfall</option></optgroup><optgroup label="WPC Precipitation Forecast"><option value="USA/WPC/QPF/DAILY">Daily</option><option value="USA/WPC/QPF/MULTI_DAY">Multi-Day</option></optgroup><optgroup label="WPC WSSI"><option value="USA/WPC/WSSI/OVERALL">Overall Impact</option><option value="USA/WPC/WSSI/SNOW_AMOUNT">Snow Amount</option><option value="USA/WPC/WSSI/SNOW_LOAD">Snow Load</option><option value="USA/WPC/WSSI/ICE_ACCUMULATION">Ice Accumulation</option><option value="USA/WPC/WSSI/FLASH_FREEZE">Flash Freeze</option><option value="USA/WPC/WSSI/BLOWING_SNOW">Blowing Snow</option><option value="USA/WPC/WSSI/GROUND_BLIZZARD">Ground Blizzard</option></optgroup><optgroup label="WPC Winter Weather"><option value="USA/WPC/WINTER_WEATHER/SNOWFALL_4_INCHES">Snowfall &gt; 4&quot;</option><option value="USA/WPC/WINTER_WEATHER/SNOWFALL_8_INCHES">Snowfall &gt; 8&quot;</option><option value="USA/WPC/WINTER_WEATHER/SNOWFALL_12_INCHES">Snowfall &gt; 12&quot;</option><option value="USA/WPC/WINTER_WEATHER/FREEZING_RAIN">Freezing Rain &gt; 0.25&quot;</option></optgroup><optgroup label="CPC Climate"><option value="USA/CPC/CLIMATE/TEMP">Temperature</option><option value="USA/CPC/CLIMATE/PRECIP">Precipitation</option></optgroup><optgroup label="CPC Drought"><option value="USA/CPC/DROUGHT/DROUGHT">Drought</option></optgroup><optgroup label="CPC Global Tropics Hazards"><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/COMBINED">Combined</option><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/TROPICAL_CYCLONE_FORMATION">Tropical Cyclone Formation</option><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/ENHANCED_PRECIPITATION">Enhanced Precipitation</option><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/SUPPRESSED_PRECIPITATION">Suppressed Precipitation</option><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/ABOVE_AVERAGE_TEMPERATURES">Above Average Temperatures</option><option value="USA/CPC/GLOBAL_TROPICS_HARZARDS/BELOW_AVERAGE_TEMPERATURES">Below Average Temperatures</option></optgroup><optgroup label="US Avalanches"><option value="USA/AVALANCHE_ORG/AVALANCHES/CONDITIONS">Conditions</option></optgroup>',12)]),34),[[Qe,e.outlookStore.activeOutlookId]]),e.outlookStore.activeOutlookId!=="0"?(c(),p("a",{key:0,href:"#",class:"ml-2 inline dark:text-gray-100",onClick:t[2]||(t[2]=P(o=>e.showHelp(),["prevent"]))},[b(u(T),{icon:"carbon:help",class:"size-5 inline"})])):x("",!0)]),e.outlookStore.activeOutlookId!=="0"?(c(),p(z,{key:0},[s("div",X4,[(c(!0),p(z,null,ee(e.outlookStore.steps.slice(0,e.outlookStore.steps.length<=e.maxStepOptions?e.maxStepOptions:e.maxStepOptions-1),(o,a)=>(c(),p("button",{class:O(["py-1.5 px-2 md:px-2.5 rounded-full text-xs relative",{"bg-blue-700 hover:bg-blue-800 text-white":o.id===e.outlookStore.activeStep,"hover:text-gray-950 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-300":o.id!==e.outlookStore.activeStep,"md:mr-1":a+1!==(e.outlookStore.steps.length<=e.maxStepOptions?e.maxStepOptions:e.maxStepOptions-1)}]),onClick:P(r=>e.onTimestepChange(r,o),["prevent"])},[s("span",{class:O(["font-bold",{invisible:o.id===e.outlookStore.activeStep&&e.outlookStore.isDataLoading}]),textContent:_(o.name)},null,10,V4),o.id===e.outlookStore.activeStep&&e.outlookStore.isDataLoading?(c(),q(u(T),{key:0,icon:"eos-icons:three-dots-loading",class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 inline size-4"})):x("",!0)],10,W4))),256)),e.outlookStore.steps.length>e.maxStepOptions?V((c(),p("span",G4,[s("button",{class:O(["font-bold py-1.5 px-3 ml-2 rounded-full text-xs relative",{"bg-blue-700 hover:bg-blue-800 text-white hover:text-white":e.outlookStore.steps.slice(e.maxStepOptions-1).find(o=>o.id===e.outlookStore.activeStep)!==void 0,"hover:text-gray-950 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-ww-blue-200 dark:text-gray-300":e.outlookStore.steps.slice(e.maxStepOptions-1).find(o=>o.id===e.outlookStore.activeStep)===void 0}]),onClick:t[3]||(t[3]=P((...o)=>e.onMoreClick&&e.onMoreClick(...o),["prevent"]))},[s("span",{class:O(["font-bold",{invisible:e.outlookStore.steps.slice(e.maxStepOptions-1).find(o=>o.id===e.outlookStore.activeStep)!==void 0&&e.outlookStore.isDataLoading}])},"More..",2),e.outlookStore.steps.slice(e.maxStepOptions-1).find(o=>o.id===e.outlookStore.activeStep)!==void 0&&e.outlookStore.isDataLoading?(c(),q(u(T),{key:0,icon:"eos-icons:three-dots-loading",class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 inline size-4"})):x("",!0)],2),e.moreDropdownActive?(c(),p("div",j4,[s("ul",Z4,[(c(!0),p(z,null,ee(e.outlookStore.steps.slice(e.maxStepOptions-1),o=>(c(),p("li",null,[s("a",{href:"#",class:O(["block px-4 py-2 font-bold text-xs",{"bg-blue-700 hover:bg-blue-800 text-white hover:text-white":o.id===e.outlookStore.activeStep,"hover:bg-gray-100 dark:hover:bg-ww-blue-200":o.id!==e.outlookStore.activeStep}]),textContent:_(o.name.replaceAll(" "," ")),onClick:P(a=>e.onTimestepChange(a,o),["prevent"])},null,10,Y4)]))),256))])])):x("",!0)])),[[u(De),e.onCloseMore]]):x("",!0)]),s("a",{href:"#",class:"mx-1 inline dark:text-gray-100",onClick:t[4]||(t[4]=P(o=>e.share(),["prevent"]))},[b(u(T),{icon:"ion:share-outline",class:"size-5 inline"})])],64)):x("",!0)],2)],512),[[be,!e.takingScreenshot]])],64))}}),q4={WV:[-82.6445909999999,37.2015400000001,-77.7195189999999,40.638801],FL:[-87.634896,24.396308,-79.974306,31.0009680000001],IL:[-91.5130789999999,36.9702980000001,-87.019935,42.5084810000001],MN:[-97.239093,43.4993610000001,-89.483385,49.3843580000001],MD:[-79.487651,37.886605,-74.986282,39.723037],RI:[-71.907258,41.095834,-71.0885709999999,42.0187990000001],ID:[-117.243027,41.988182,-111.043495,49.000911],NH:[-72.557124,42.6970420000001,-70.575094,45.305778],NC:[-84.3218209999999,33.7528780000001,-75.400119,36.5881370000001],VT:[-73.4379049999999,42.726933,-71.465047,45.0166590000001],CT:[-73.727775,40.950943,-71.7872389999999,42.050511],DE:[-75.789023,38.451132,-74.984165,39.839516],NM:[-109.050431,31.332231,-103.002043,37.000233],CA:[-124.482003,32.5288320000001,-114.131211,42.009503],NJ:[-75.5635861928347,38.7886566096221,-73.8850599422342,41.357422783023],WI:[-92.8894329999999,42.49172,-86.2495479999999,47.3098220000001],OR:[-124.703541,41.992082,-116.463262,46.2990990000001],NE:[-104.053514,39.9999320000001,-95.3082899999999,43.0017070000001],PA:[-80.519851,39.7197990000001,-74.6895019999999,42.5160720000001],WA:[-124.848974,45.543541,-116.916071,49.002432],LA:[-94.043352,28.855127,-88.758388,33.019543],GA:[-85.6051649999999,30.355757,-80.751429,35.0013030000001],AL:[-88.473227,30.1444250000001,-84.888246,35.008028],UT:[-114.052885,36.9976570000001,-109.041572,42.0017020000001],OH:[-84.820305,38.403423,-80.518705,42.3271320000001],TX:[-106.645646,25.837164,-93.5080389999999,36.500704],CO:[-109.060204,36.9924490000001,-102.041522,41.0034440000001],SC:[-83.3539279999999,32.0334540000001,-78.4993009999999,35.21554],OK:[-103.002413,33.6157870000001,-94.43101,37.0023120000001],TN:[-90.310298,34.982924,-81.6469,36.678255],WY:[-111.054558,40.9947720000001,-104.052245,45.005815],HI:[-178.443593,18.86546,-154.755792,28.5172690000001],ND:[-104.049118,45.935072,-96.554411,49.0006920000001],KY:[-89.571203,36.497058,-81.9647879999999,39.1477320000001],VI:[-65.154118,17.623468,-64.5126739999999,18.4649840000001],MP:[144.813338,14.036565,146.154418,20.6165560000001],GU:[144.563426,13.182335,145.009167,13.7061790000001],ME:[-71.083928,42.917126,-66.8854439999999,47.4598540000001],NY:[-79.76259,40.477399,-71.7774909999999,45.0158650000001],NV:[-120.006473,35.001857,-114.039461,42.0018420000001],AK:[-129.9795,71.441,-179.1505,51.2097],AS:[-171.141907,-14.6018129999999,-168.101612,-10.997203],MI:[-90.418392,41.6961180000001,-82.1229709999999,48.306063],AR:[-94.617919,33.004106,-89.644395,36.4997490000001],MS:[-91.6550089999999,30.139845,-88.097888,34.9960990000001],MO:[-95.774704,35.995683,-89.098968,40.61364],MT:[-116.049153,44.357915,-104.039694,49.0011000000001],KS:[-102.051769,36.9930160000001,-94.588387,40.0031660000001],IN:[-88.0978919999999,37.771728,-84.784592,41.761368],PR:[-67.998751,17.831509,-65.168503,18.568002],SD:[-104.057879,42.4796860000001,-96.436472,45.9453770000001],MA:[-73.50821,41.187053,-69.8588609999999,42.8867780000001],VA:[-83.675395,36.540852,-75.166435,39.466012],DC:[-77.119759,38.7916450000001,-76.909393,38.995845],IA:[-96.639485,40.37544,-90.1400609999999,43.501196],AZ:[-114.816591,31.3321770000001,-109.045172,37.003725]},eT=i=>q4[i],tT={name:"AlertTags",data(){return{interactionEnabled:!1}},props:["feature"],computed:{appStore:()=>xe()},methods:{zoomToState(i){const e=eT(i);if(e===void 0)return;const t=new Te.LngLat(e[0],e[1]),o=new Te.LngLat(e[2],e[3]),a=new Te.LngLatBounds(t,o);g.fitBounds(a,{padding:window.innerWidth/12,duration:500}),this.appStore.toggleWarningsSidebar(!1)}}},oT={key:0,class:"bg-red-200 text-red-800 border border-red-800 text-xs font-bold px-2.5 py-1 rounded inline-block mr-2 mb-1"},sT=["title","textContent","onClick"],aT=["textContent"];function rT(i,e,t,o,a,r){return c(),p("div",null,[t.feature.properties.emergency?(c(),p("span",oT,"Emergency!")):x("",!0),a.interactionEnabled?(c(),p("button",{key:1,class:O(["bg-ww-blue text-white border border-[#17274F] hover:border-[#F6B91A] text-xs px-2.5 py-1 rounded inline-block mr-2 mb-1",{"border-[#F6B91A]":!1}]),onClick:e[0]||(e[0]=P(()=>{},["stop"]))},e[3]||(e[3]=[L("👀"),s("span",{class:"ml-1.5 font-bold"},"1",-1)]))):x("",!0),(a.interactionEnabled,x("",!0)),a.interactionEnabled?(c(),p("button",{key:3,class:O(["bg-ww-blue text-white border border-[#17274F] hover:border-[#F6B91A] text-xs px-2.5 py-1 rounded inline-block mr-2 mb-1",{"border-[#F6B91A]":!1}]),onClick:e[2]||(e[2]=P(()=>{},["stop"]))},e[5]||(e[5]=[L("🧑"),s("span",{class:"ml-1.5 font-bold"},"1.1M",-1)]))):x("",!0),(c(!0),p(z,null,ee(t.feature.properties.states,n=>(c(),p("button",{class:"bg-ww-blue text-white font-bold border border-[#17274F] hover:border-[#F6B91A] text-xs px-2.5 py-1 rounded inline-block mr-2 mb-1",title:n.name,textContent:_(n.code),onClick:P(l=>r.zoomToState(n.code),["stop"])},null,8,sT))),256)),t.feature.properties.office?(c(),p("span",{key:4,class:"bg-ww-blue text-white border border-[#17274F] text-xs font-bold px-2.5 py-1 rounded inline-block mr-2 mb-1",textContent:_(t.feature.properties.office)},null,8,aT)):x("",!0)])}const Eo=G(tT,[["render",rT]]),iT=["textContent"],li={__name:"SidebarIconWarningCount",setup(i){const e=$t(),t=Xo(),o=So(),a=de(()=>e.features.length+t.geojson.features.length+o.storms.length+o.disturbances.length);return(r,n)=>(c(),p("span",{class:"absolute top-2 left-1 inline-flex items-center justify-center px-2 py-1 text-sm font-bold leading-none text-[#fff] transform -translate-x-1/2 -translate-y-1/2 bg-[#FF5722] rounded-full",textContent:_(a.value)},null,8,iT))}},nT={key:0,class:"absolute top-4 bottom-4 right-4 w-11/12 sm:w-80 max-w-md bg-white dark:bg-ww-blue rounded-2xl shadow-2xl z-50 overflow-hidden flex flex-col mb-10 sm:mb-0"},lT={class:"p-4 border-b border-gray-200 dark:border-gray-700"},cT={class:"flex justify-between items-center"},dT={class:"text-xl font-semibold text-[#17274F] dark:text-white"},uT=["textContent"],pT={class:"flex flex-wrap gap-2 text-sm mt-4"},mT=["onClick"],hT={class:"mt-2"},gT={class:"w-full inline-block pr-1"};const fT={class:"p-2 flex-grow overflow-y-auto",ref:"scrollable-list"},yT={key:0},NT={class:"group mb-4"},vT={class:"text-lg font-semibold text-[#17274F] dark:text-white mb-2 flex"},bT=["textContent"],wT={class:"ml-auto"},xT={key:0,class:"mb-3"},_T={class:"flex items-center mb-2"},ST={class:"font-semibold text-[#17274F] dark:text-white"},kT=["textContent"],AT=["onClick"],CT=["onClick"],TT={class:"flex items-center mb-2"},BT={class:"font-bold text-red-700 dark:text-red-300 feature-title"},DT=["title"];const IT={key:2},ET={class:"group mb-4"},LT={class:"text-lg font-semibold text-[#17274F] dark:text-white mb-2"},RT=["textContent"],FT={key:0,class:"mb-3"},MT={class:"flex items-center mb-2"},PT={class:"font-semibold text-[#17274F] dark:text-white"},HT=["textContent"],zT=["onClick"],OT=["onClick"],KT={class:"flex items-center mb-2"},UT={class:"font-bold text-orange-700 dark:text-orange-300 feature-title"},$T=["title"];const XT={key:4},WT={class:"group mb-4"},VT={class:"text-lg font-semibold text-[#17274F] dark:text-white mb-2"},GT=["textContent"],jT={key:0,class:"mb-3"},ZT={class:"flex items-center mb-2"},YT={class:"font-semibold text-[#17274F] dark:text-white"},JT=["textContent"],QT=["onClick"],qT=["onClick"],eB={class:"flex items-center mb-2"},tB={class:"font-bold text-orange-700 dark:text-orange-300 feature-title"},oB=["title"];const sB={key:6},aB={class:"group mb-4"},rB={class:"text-lg font-semibold text-[#17274F] dark:text-white mb-2"},iB=["textContent"],nB={key:0,class:"mb-3"},lB={class:"flex items-center mb-2"},cB={class:"font-semibold text-[#17274F] dark:text-white"},dB=["textContent"],uB=["onClick"],pB=["onClick"],mB={class:"flex items-center mb-2"},hB={class:"font-bold text-[#17274F] dark:text-white feature-title"},gB=["title"];const fB={key:8},yB={class:"group mb-4"},NB={class:"text-lg font-semibold text-[#17274F] dark:text-white mb-2 flex"},vB=["textContent"],bB={key:0,class:"mb-3"},wB={class:"flex items-center mb-2"},xB={class:"font-semibold text-[#17274F] dark:text-white"},_B=["textContent"],SB=["onClick"],kB=["onClick"],AB={class:"font-semibold text-[#17274F] dark:text-white"},CB={class:"text-sm text-gray-600 dark:text-gray-300"},TB={key:0,class:"text-sm text-gray-600 dark:text-gray-300"},BB=["title"];const DB={key:10},IB={class:"group mb-4"},EB={class:"text-lg font-semibold text-[#0F224E] dark:text-white mb-2 flex"},LB=["textContent"],RB={key:0},FB={class:"mb-3"},MB={class:"flex items-center mb-2"},PB={class:"font-semibold text-[#17274F] dark:text-white"},HB=["textContent"],zB=["onClick"],OB={class:"font-semibold text-[#17274F] dark:text-white"},KB={key:0,class:"text-sm text-gray-600 dark:text-gray-300"},UB={key:1,class:"text-sm text-gray-600 dark:text-gray-300"},$B={key:2,class:"text-sm text-gray-600 dark:text-gray-300"},XB={key:3,class:"text-sm text-gray-600 dark:text-gray-300"},WB={key:4,class:"text-sm text-gray-600 dark:text-gray-300"},VB=["title"],GB={key:1},jB={class:"mb-3"},ZB={class:"flex items-center mb-2"},YB={class:"font-semibold text-[#17274F] dark:text-white"},JB=["textContent"],QB=["onClick"],qB={class:"text-sm text-gray-600 dark:text-white"},e6={class:"text-sm text-gray-600 dark:text-white"},t6={class:"text-sm text-gray-600 dark:text-white"},o6={key:0,class:"text-sm text-gray-600 dark:text-white"},s6=["title"];const a6={name:"Sidebar",data(){return{codes:{warnings:jo("W"),watches:jo("A"),advisories:jo("Y"),statements:jo("S"),mesoscale_discussons:["MCD","MPD"]},filters:["All","Warnings","Watches","Advisories","Statements","Discussions","Tropical"],filterCurrent:"All",filterExpanded:!1}},components:{AlertTags:Eo,SidebarIconWarningCount:li,SplitButton:Ji},computed:{appStore:()=>xe(),warningsStore:()=>$t(),warningsSettingStore:()=>gt(),mesoscaleDiscussionsStore:()=>Xo(),mesoscaleDiscussionsSettingsStore:()=>qs(),tropicalStore:()=>So(),tropicalSettingsStore:()=>ea(),warningsCount(){return this.warningsStore.features.length+this.mesoscaleDiscussionsStore.geojson.features.length+this.tropicalStore.storms.length+this.tropicalStore.disturbances.length},showWarnings(){return this.filterCurrent==="All"||this.filterCurrent==="Warnings"},showWatches(){return this.filterCurrent==="All"||this.filterCurrent==="Watches"},showAdvisories(){return this.filterCurrent==="All"||this.filterCurrent==="Advisories"},showStatements(){return this.filterCurrent==="All"||this.filterCurrent==="Statements"},showDiscussions(){return this.filterCurrent==="All"||this.filterCurrent==="Discussions"},showTropical(){return this.filterCurrent==="All"||this.filterCurrent==="Tropical"},active(){return this.appStore.warnings_sidebar_open},splitButtonItems(){return[{label:this.warningsSettingStore.visible?"Hide Warnings":"Show Warnings",icon:this.warningsSettingStore.visible?"pi pi-eye-slash":"pi pi-eye",command:()=>{this.toggleWarnings()}},{label:this.mesoscaleDiscussionsSettingsStore.visible?"Hide Discussions":"Show Discussions",icon:this.mesoscaleDiscussionsSettingsStore.visible?"pi pi-eye-slash":"pi pi-eye",command:()=>{this.toggleMesoscaleDiscussions()}}]}},watch:{"appStore.warnings_sidebar_open":{handler(i){i?this.$nextTick(()=>{this.$refs["scrollable-list"].scrollTop=this.appStore.warnings_sidebar_scroll_top}):this.appStore.warnings_sidebar_scroll_top=this.$refs["scrollable-list"].scrollTop}}},methods:{openSettings(){C.warnings.openSettings()},toggleWarnings(){this.warningsSettingStore.toggleVisible()},toggleMesoscaleDiscussions(){this.mesoscaleDiscussionsSettingsStore.toggleVisible()},toggleTropicalStorms(){this.tropicalSettingsStore.toggleVisible()},setFilter(i){this.filterCurrent=i},onOpenClick(i){this.appStore.toggleWarningsSidebar(!0)},onCloseClick(i){this.appStore.toggleWarningsSidebar(!1)},featureTitle(i){return i.properties.tags.HAZARD||i.properties.tags.WHAT||i.properties.tags.HEADING||this.codeToConfig(i.properties.product,i.properties.significance).name},goToWarning(i){if(i.geometry!==null&&(this.appStore.toggleWarningsSidebar(!1),C.warnings.fitBounds(i),setTimeout(()=>{C.warnings.flashFeature(i)},400),this.appStore.mode==="RADAR"&&C.warnings.getMode()===Ce)){const e=Mt(i.geometry);setTimeout(()=>{C.radar.turnOnClosestRadar(e)},100)}},showWarningHelp(i){if(ze[i]===void 0)return alert("Unable to locate help information");C.warnings.openWarningHelpModal(i)},goToMesoscaleDiscussion(i){if(this.active=!1,this.appStore.toggleWarningsSidebar(!1),C.mesoscaleDiscussions.fitBounds(i),setTimeout(()=>{C.mesoscaleDiscussions.flashFeature(i)},400),this.appStore.mode==="RADAR"&&C.mesoscaleDiscussions.getMode()===Ce){const e=Mt(i.geometry);setTimeout(()=>{C.radar.turnOnClosestRadar(e)},100)}},goToTropicalStorm(i){this.active=!1,this.appStore.toggleWarningsSidebar(!1);const e=C.tropical.getStorm(i);C.tropical.fitBoundsForForecast(e)},goToTropicalDisturbance(i){this.active=!1,this.appStore.toggleWarningsSidebar(!1),C.tropical.fitBoundsForDisturbance(i)},showMDHelp(i){if(Ro[i]===void 0)return alert("Unable to locate help information");C.mesoscaleDiscussions.openMDHelpModal(i)},showTropicalHelp(i){C.tropical.openTropicalHelpModal(i)},codeToConfig(i,e){return ze[`${i}.${e}`]===void 0&&console.error(`NWS config missing for: ${i}.${e}`),ze[`${i}.${e}`]},codeToMDConfig(i){return Ro[i]},onSplitButtonMainClick(){}}},r6=Object.assign(a6,{setup(i){const e=t=>{const o=t.replace("#",""),a=parseInt(o.substr(0,2),16),r=parseInt(o.substr(2,2),16),n=parseInt(o.substr(4,2),16),l=.6,d=Math.floor(a*l),m=Math.floor(r*l),h=Math.floor(n*l);return`#${d.toString(16).padStart(2,"0")}${m.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`};return(t,o)=>(c(),p(z,null,[b(at,{name:"slide-fade"},{default:ie(()=>[t.active?(c(),p("div",nT,[s("div",lT,[s("div",cT,[s("h2",dT,[o[10]||(o[10]=L("Current Alerts")),s("span",{class:"ml-2 bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsCount)},null,8,uT)]),s("button",{onClick:o[0]||(o[0]=(...a)=>t.onCloseClick&&t.onCloseClick(...a)),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"},[b(u(T),{icon:"mdi:close",class:"size-6"})])]),s("div",pT,[(c(!0),p(z,null,ee(t.filters,(a,r)=>(c(),p("button",{key:a,onClick:n=>t.filterCurrent=a,class:O(["px-3 py-1 rounded-full font-semibold transition-colors",{"bg-[#F6B91A] text-[#17274F] dark:bg-[#F6B91A] dark:text-[#17274F]":t.filterCurrent===a,"bg-[#17274F] text-[#F6B91A] dark:bg-ww-blue-100 dark:hover:bg-ww-blue-200 dark:text-[#F6B91A]":t.filterCurrent!==a,hidden:r>2&&!t.filterExpanded}])},_(a),11,mT))),128)),s("button",{onClick:o[1]||(o[1]=a=>t.filterExpanded=!t.filterExpanded),class:O(["px-1 py-1 rounded-full font-semibold transition-colors",{"bg-[#F6B91A] text-[#17274F] dark:bg-[#F6B91A] dark:text-[#17274F]":!["All","Warnings","Watches"].includes(t.filterCurrent),"bg-[#17274F] text-[#F6B91A] dark:bg-ww-blue-100 dark:hover:bg-ww-blue-200 dark:text-[#F6B91A]":["All","Warnings","Watches"].includes(t.filterCurrent)}])},[t.filterExpanded?(c(),q(u(T),{key:0,icon:"ic:round-close",class:"size-6"})):(c(),q(u(T),{key:1,icon:"line-md:plus",class:"size-6"}))],2)]),s("div",hT,[s("div",null,[s("div",gT,[s("button",{onClick:o[2]||(o[2]=P(a=>t.openSettings(),["prevent"])),class:O(["pl-2 pr-3 py-1 rounded-full font-semibold transition-colors w-full",{"bg-[#17274F] text-[#F6B91A] dark:bg-ww-blue-100 dark:hover:bg-ww-blue-200 dark:text-[#F6B91A]":!0}])},[b(u(T),{icon:"material-symbols:settings-outline",class:"inline size-5 relative top-[-1px]"}),o[11]||(o[11]=s("span",{class:"ml-1 font-semibold"},"Settings",-1))])]),x("",!0)])])]),s("div",fT,[t.showWarnings?(c(),p("div",yT,[s("div",NT,[s("h3",vT,[o[12]||(o[12]=L(" Warnings")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-5px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("W").length)},null,8,bT),s("span",wT,[s("a",{href:"#",class:"inline-block",onClick:o[4]||(o[4]=P(a=>t.toggleWarnings(),["prevent"]))},[b(u(T),{icon:t.warningsSettingStore.visible?"mdi:eye-outline":"mdi:eye-off-outline",class:"w-6 h-6"},null,8,["icon"])])])]),(c(!0),p(z,null,ee(t.codes.warnings,a=>(c(),p("div",{key:a},[t.warningsStore.filter("W",a).length?(c(),p("div",xT,[s("div",_T,[b(u(T),{icon:t.codeToConfig(a,"W").icon,class:"w-8 h-8 mr-2",style:pe({color:t.warningsSettingStore.config.USA[`${a}.W`].color})},null,8,["icon","style"]),s("span",ST,[L(_(t.codeToConfig(a,"W").name.replace(" Warning","")),1),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("W",a).length)},null,8,kT)]),s("a",{href:"#",class:"ml-auto",onClick:P(r=>t.showWarningHelp(`${a}.W`),["prevent"])},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})],8,AT)]),(c(!0),p(z,null,ee(t.warningsStore.filter("W",a),(r,n)=>(c(),p("div",{key:r.properties.id,class:O([{"border-2 border-red-500":r.properties.emergency},"bg-red-100 dark:bg-red-900/50 p-3 rounded-lg mb-2 cursor-pointer"]),onClick:l=>t.goToWarning(r)},[s("div",TT,[r.properties.emergency?(c(),q(u(T),{key:0,icon:"mdi:alert",class:"text-red-500 mr-2 size-10"})):x("",!0),s("div",BT,_(t.featureTitle(r)),1)]),b(Eo,{feature:r},null,8,["feature"]),s("div",{class:"text-sm text-red-900 dark:text-red-200 mt-1",title:r.properties.expires_at},"Expires "+_(u(Pe)(r.properties.expires_at)),9,DT)],10,CT))),128))])):x("",!0)]))),128))]),o[13]||(o[13]=s("hr",{class:"border-t border-gray-200 mb-4"},null,-1))])):x("",!0),x("",!0),t.showWatches?(c(),p("div",IT,[s("div",ET,[s("h3",LT,[o[18]||(o[18]=L("Watches")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-2px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("A").length)},null,8,RT)]),(c(!0),p(z,null,ee(t.codes.watches,a=>(c(),p("div",{key:a},[t.warningsStore.filter("A",a).length?(c(),p("div",FT,[s("div",MT,[b(u(T),{icon:t.codeToConfig(a,"A").icon,class:"w-8 h-8 mr-2",style:pe({color:t.warningsSettingStore.config.USA[`${a}.A`].color})},null,8,["icon","style"]),s("span",PT,[L(_(t.codeToConfig(a,"A").name.replace(" Watch","")),1),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("A",a).length)},null,8,HT)]),s("a",{href:"#",class:"ml-auto",onClick:P(r=>t.showWarningHelp(`${a}.A`),["prevent"])},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})],8,zT)]),(c(!0),p(z,null,ee(t.warningsStore.filter("A",a),r=>(c(),p("div",{key:r.properties.id,class:O([{"border-2 border-red-500":r.properties.emergency},"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg mb-2 cursor-pointer"]),onClick:n=>t.goToWarning(r)},[s("div",KT,[r.properties.emergency?(c(),q(u(T),{key:0,icon:"mdi:alert",class:"text-orange-500 mr-2 size-10"})):x("",!0),s("div",UT,_(t.featureTitle(r)),1)]),b(Eo,{feature:r},null,8,["feature"]),s("div",{class:"text-sm text-red-900 dark:text-red-200 mt-1",title:r.properties.expires_at},"Expires "+_(u(Pe)(r.properties.expires_at)),9,$T)],10,OT))),128))])):x("",!0)]))),128))]),o[19]||(o[19]=s("hr",{class:"border-t border-gray-200 mb-4"},null,-1))])):x("",!0),x("",!0),t.showAdvisories?(c(),p("div",XT,[s("div",WT,[s("h3",VT,[o[23]||(o[23]=L("Advisories")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-2px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("Y").length)},null,8,GT)]),(c(!0),p(z,null,ee(t.codes.advisories,a=>(c(),p("div",{key:a},[t.warningsStore.filter("Y",a).length?(c(),p("div",jT,[s("div",ZT,[b(u(T),{icon:t.codeToConfig(a,"Y").icon,class:"w-8 h-8 mr-2",style:pe({color:t.warningsSettingStore.config.USA[`${a}.Y`].color})},null,8,["icon","style"]),s("span",YT,[L(_(t.codeToConfig(a,"Y").name.replace(" Advisory","")),1),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("Y",a).length)},null,8,JT)]),s("a",{href:"#",class:"ml-auto",onClick:P(r=>t.showWarningHelp(`${a}.A`),["prevent"])},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})],8,QT)]),(c(!0),p(z,null,ee(t.warningsStore.filter("Y",a),r=>(c(),p("div",{key:r.properties.id,class:O([{"border-2 border-red-500":r.properties.emergency},"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-lg mb-2 cursor-pointer"]),onClick:n=>t.goToWarning(r)},[s("div",eB,[r.properties.emergency?(c(),q(u(T),{key:0,icon:"mdi:alert",class:"text-orange-500 mr-2 size-10"})):x("",!0),s("div",tB,_(t.featureTitle(r)),1)]),b(Eo,{feature:r},null,8,["feature"]),s("div",{class:"text-sm text-red-900 dark:text-red-200 mt-1",title:r.properties.expires_at},"Expires "+_(u(Pe)(r.properties.expires_at)),9,oB)],10,qT))),128))])):x("",!0)]))),128))]),o[24]||(o[24]=s("hr",{class:"border-t border-gray-200 mb-4"},null,-1))])):x("",!0),x("",!0),t.showStatements?(c(),p("div",sB,[s("div",aB,[s("h3",rB,[o[28]||(o[28]=L("Statements")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-2px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("S").length)},null,8,iB)]),(c(!0),p(z,null,ee(t.codes.statements,a=>(c(),p("div",{key:a},[t.warningsStore.filter("S",a).length?(c(),p("div",nB,[s("div",lB,[b(u(T),{icon:t.codeToConfig(a,"S").icon,class:"w-8 h-8 mr-2",style:pe({color:t.warningsSettingStore.config.USA[`${a}.S`].color})},null,8,["icon","style"]),s("span",cB,[L(_(t.codeToConfig(a,"S").name.replace(" Statement","")),1),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.warningsStore.filter("S",a).length)},null,8,dB)]),s("a",{href:"#",class:"ml-auto",onClick:P(r=>t.showWarningHelp(`${a}.S`),["prevent"])},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})],8,uB)]),(c(!0),p(z,null,ee(t.warningsStore.filter("S",a),r=>(c(),p("div",{key:r.properties.id,class:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg mb-2 cursor-pointer",onClick:n=>t.goToWarning(r)},[s("div",mB,[r.properties.emergency?(c(),q(u(T),{key:0,icon:"mdi:alert",class:"text-orange-500 mr-2 size-10"})):x("",!0),s("div",hB,_(t.featureTitle(r)),1)]),b(Eo,{feature:r},null,8,["feature"]),s("div",{class:"text-sm text-gray-600 dark:text-gray-300 mt-1",title:r.properties.expires_at},"Expires "+_(u(Pe)(r.properties.expires_at)),9,gB)],8,pB))),128))])):x("",!0)]))),128))]),o[29]||(o[29]=s("hr",{class:"border-t border-gray-200 mb-4"},null,-1))])):x("",!0),x("",!0),t.showDiscussions?(c(),p("div",fB,[s("div",yB,[s("h3",NB,[o[33]||(o[33]=L(" Mesoscale Discussions")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-5px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.mesoscaleDiscussionsStore.geojson.features.length)},null,8,vB),s("a",{href:"#",onClick:o[5]||(o[5]=P(a=>t.toggleMesoscaleDiscussions(),["prevent"])),class:"ml-auto"},[b(u(T),{icon:t.mesoscaleDiscussionsSettingsStore.visible?"mdi:eye-outline":"mdi:eye-off-outline",class:"w-6 h-6"},null,8,["icon"])])]),(c(!0),p(z,null,ee(t.codes.mesoscale_discussons,a=>(c(),p("div",{key:a},[t.mesoscaleDiscussionsStore.filter(a).length?(c(),p("div",bB,[s("div",wB,[b(u(T),{icon:t.codeToMDConfig(a).icon,class:"w-8 h-8 mr-2",style:pe({color:t.codeToMDConfig(a).color})},null,8,["icon","style"]),s("span",xB,[L(_(t.codeToMDConfig(a).name.replace("Mesoscale ","").replace(" Discussion","")),1),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.mesoscaleDiscussionsStore.filter(a).length)},null,8,_B)]),s("a",{href:"#",class:"ml-auto",onClick:P(r=>t.showMDHelp(a),["prevent"])},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})],8,SB)]),(c(!0),p(z,null,ee(t.mesoscaleDiscussionsStore.filter(a),r=>(c(),p("div",{key:r.properties.id,class:"bg-green-50 dark:bg-green-900/30 p-3 rounded-lg mb-2 cursor-pointer",onClick:n=>t.goToMesoscaleDiscussion(r)},[s("div",AB,[s("strong",null,"#"+_(r.properties.number),1),o[34]||(o[34]=L(" affects: ")),s("strong",null,_(r.properties.tags.AREAS_AFFECTED.join(", ")),1)]),s("div",CB,[o[35]||(o[35]=L("Concerning: ")),s("strong",null,_(r.properties.tags.CONCERNING.join(", ")),1)]),r.properties.tags.WATCH_PROBABILITY?(c(),p("div",TB,[o[36]||(o[36]=L("Probability of Watch: ")),s("strong",null,_(r.properties.tags.WATCH_PROBABILITY)+"%",1)])):x("",!0),s("div",{class:"text-sm text-gray-600 dark:text-gray-300 mt-1",title:r.properties.expires_at},"Expires "+_(u(Pe)(r.properties.expires_at)),9,BB)],8,kB))),128))])):x("",!0)]))),128))]),o[37]||(o[37]=s("hr",{class:"border-t border-gray-200 mb-4"},null,-1))])):x("",!0),x("",!0),t.showTropical?(c(),p("div",DB,[s("div",IB,[s("h3",EB,[o[41]||(o[41]=L(" Tropical")),s("span",{class:"ml-2 text-sm mt-2 relative top-[-5px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.tropicalStore.storms.length+t.tropicalStore.disturbances.length)},null,8,LB),s("a",{href:"#",onClick:o[6]||(o[6]=P(a=>t.toggleTropicalStorms(),["prevent"])),class:"ml-auto"},[b(u(T),{icon:t.tropicalSettingsStore.visible?"mdi:eye-outline":"mdi:eye-off-outline",class:"w-6 h-6"},null,8,["icon"])])]),t.tropicalStore.storms.length>0?(c(),p("div",RB,[s("div",FB,[s("div",MB,[b(u(T),{icon:"twemoji:cyclone",class:"w-8 h-8 mr-2 text-[#0F224E]"}),s("span",PB,[o[42]||(o[42]=L("Storms")),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.tropicalStore.storms.length)},null,8,HB)]),s("a",{href:"#",class:"ml-auto",onClick:o[7]||(o[7]=P(a=>t.showTropicalHelp("storms"),["prevent"]))},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})])]),(c(!0),p(z,null,ee(t.tropicalStore.storms,a=>(c(),p("div",{key:a.id,class:"bg-blue-50 dark:bg-blue-900/30 p-3 rounded-lg mb-2 cursor-pointer",onClick:r=>t.goToTropicalStorm(a.id)},[s("div",OB,[s("strong",null,_(a.name),1)]),a.classification==="HU"&&u(hs)(a.wind_speed_kt)>0?(c(),p("div",KB,[o[43]||(o[43]=L("Category: ")),s("strong",null,_(u(hs)(a.wind_speed_kt)),1)])):x("",!0),a.wind_speed_mph?(c(),p("div",UB,[o[44]||(o[44]=L("Wind speed: ")),s("strong",null,_(a.wind_speed_mph.toFixed(0))+"mph",1)])):x("",!0),a.pressure?(c(),p("div",$B,[o[45]||(o[45]=L("Pressure: ")),s("strong",null,_(a.pressure)+"mb",1)])):x("",!0),a.movement_direction&&a.movement_speed?(c(),p("div",XB,[o[46]||(o[46]=L("Movement: ")),s("strong",null,_(u(Pr)(a.movement_direction)),1),o[47]||(o[47]=L(" at ")),s("strong",null,_(Number(a.movement_speed).toFixed(0))+"mph",1)])):x("",!0),a.ocean?(c(),p("div",WB,[o[48]||(o[48]=L("Ocean: ")),s("strong",null,_(u(Xa)(a.ocean)),1)])):x("",!0),s("div",{class:"text-sm text-gray-600 dark:text-gray-300 mt-1",title:a.last_update_at},"Last update: "+_(u(Pe)(a.last_update_at)),9,VB)],8,zB))),128))])])):x("",!0),t.tropicalStore.disturbances.length>0?(c(),p("div",GB,[s("div",jB,[s("div",ZB,[b(u(T),{icon:"carbon:outlook-severe",class:"w-8 h-8 mr-2 text-[#0F224E] dark:text-white"}),s("span",YB,[o[49]||(o[49]=L("Disturbances")),s("span",{class:"ml-2 text-xs mt-2 relative top-[-1px] bg-[#17274F] text-white dark:bg-ww-blue-100 font-bold px-2.5 py-0.5 rounded-full",textContent:_(t.tropicalStore.disturbances.length)},null,8,JB)]),s("a",{href:"#",class:"ml-auto",onClick:o[8]||(o[8]=P(a=>t.showTropicalHelp("disturbances"),["prevent"]))},[b(u(T),{icon:"carbon:help",class:"w-6 h-6 dark:text-white"})])]),(c(!0),p(z,null,ee(t.tropicalStore.disturbances,a=>(c(),p("div",{class:"p-3 rounded-lg mb-2 cursor-pointer",style:pe(`background-color: ${u(ol)()?e(a.properties.fill):a.properties.fill};`),onClick:r=>t.goToTropicalDisturbance(a)},[s("div",qB,_(a.properties.discussion.substr(0,70))+"...",1),s("div",e6,[o[50]||(o[50]=L("Day 2: ")),s("strong",null,_(a.properties.day_2_percentage)+" ("+_(a.properties.day_2_category)+")",1)]),s("div",t6,[o[51]||(o[51]=L("Day 7: ")),s("strong",null,_(a.properties.day_7_percentage)+" ("+_(a.properties.day_7_category)+")",1)]),a.properties.ocean?(c(),p("div",o6,[o[52]||(o[52]=L("Ocean: ")),s("strong",null,_(u(Xa)(a.properties.ocean)),1)])):x("",!0),s("div",{class:"text-sm text-gray-600 dark:text-white mt-1",title:a.last_update_at},"Last update: "+_(u(Pe)(a.properties.last_update_at)),9,s6)],12,QB))),256))])])):x("",!0)])])):x("",!0),x("",!0)],512)])):x("",!0)]),_:1}),V(s("button",{class:"absolute top-4 z-[20] right-3 w-12 h-12 rounded-full transition-all duration-300 group primary-button",onClick:o[9]||(o[9]=a=>t.onOpenClick(a))},[b(u(T),{icon:"mingcute:alert-line",class:"inline size-8 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-colors duration-300 text-[#17274F] group-hover:text-[#F6B91A]"}),b(li)],512),[[be,!t.active]])],64))}}),i6=G(r6,[["__scopeId","data-v-220da86a"]]),n6="/assets/CC-BAkjatr_.png",l6="/assets/DTA-Bbde5unU.png",c6="/assets/EET-Dtshp9_o.png",d6="/assets/HCA-CYW-EX4h.png",u6="/assets/KDP-BPeXFjNY.png",p6="/assets/OHA-BlGP45Ed.png",m6="/assets/PRT-DOLPNmjt.png",h6="/assets/REF-Dq4ASq3C.png",g6="/assets/SRV-DbH1TW9H.png",f6="/assets/SW-Br6Q_nwr.png",y6="/assets/VEL-DnkWSozK.png",N6="/assets/VIL-DGKWqINx.png",v6="/assets/ZDR-Ci6osHn8.png",b6={name:"RadarTilts",props:["productGroup"],components:{Icon:T},data(){return{isOpen:!1}},computed:{radarTowersStore(){return ot()},mapRadar(){return g.activeMap().stores.radar},activeTilt(){if(!this.productGroup)return"0.0";const i=this.productGroup.tilts.findIndex(t=>t.product===this.mapRadar.activeProductCode);if(i===-1)return"0.0";const e=this.productGroup.tilts[i];return this.getTilt(e,i)},tilts(){return this.productGroup?this.productGroup.tilts:[]}},methods:{open(){this.tilts.length<=1||(this.isOpen=!0)},close(){this.isOpen=!1},toggle(){this.isOpen?this.close():this.open()},async onTiltClick(i,e){this.close(),await C.radar.changeRadarProduct(g.activeMap(),this.mapRadar.activeTowerId,e.product)},getTilt(i,e){if(typeof i.elevation=="string")return i.elevation;if(typeof i.elevation=="function")return i.elevation(this.radarTowersStore.activeTower);const t=this.radarTowersStore.activeTower.properties;return t.elevations===void 0||t.elevations.length<e+1?"0.0":t.elevations[e]}}},w6={class:"inline-flex items-center justify-center h-4 ms-1 text-xs font-semibold text-blue-800 dark:text-blue-200 bg-blue-200 dark:bg-blue-800 rounded-full px-1"},x6={key:0,class:"z-10 bg-white dark:bg-ww-blue border border-gray-200 dark:border-gray-600 divide-y divide-gray-100 dark:divide-gray-700 rounded-lg shadow w-44 right-0 absolute"},_6={class:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownDefaultButton"},S6=["textContent","onClick"];function k6(i,e,t,o,a,r){const n=Ie("Icon");return c(),p(z,null,[s("button",{onClick:e[0]||(e[0]=l=>r.toggle()),type:"button",class:"text-white bg-slate-400 dark:bg-ww-blue-200 border border-slate-500 dark:border-slate-500 font-medium rounded-lg text-sm px-2.5 py-2 sm:py-3 text-center me-1 mb-1 text-xs font-black"},[e[1]||(e[1]=s("span",{class:"font-bold mr-0.5"},"Tilt",-1)),s("span",w6,_(r.activeTilt)+"°",1),V(b(n,{icon:a.isOpen?"gravity-ui:chevron-up-wide":"gravity-ui:chevron-down-wide",class:"inline -mt-[1px] ml-1 font-bold size-5"},null,8,["icon"]),[[be,r.tilts.length>1]])]),b(at,{name:"slide-fade"},{default:ie(()=>[a.isOpen?(c(),p("div",x6,[s("ul",_6,[(c(!0),p(z,null,ee(r.tilts,(l,d)=>(c(),p("li",null,[s("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-ww-blue-100",textContent:_(r.getTilt(l,d)+"°"),onClick:P(m=>r.onTiltClick(m,l),["prevent"])},null,8,S6)]))),256))])])):x("",!0)]),_:1})],64)}const A6=G(b6,[["render",k6],["__scopeId","data-v-a7a98318"]]);class C6{constructor(){this.cache=new Map}set(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)||null}delete(e){this.cache.delete(e)}has(e){return this.cache.has(e)}clear(){this.cache.clear()}}const pr=new C6,T6={name:"RadarColortableButton",props:["groupId","tableId"],mounted(){const i=this.$refs.canvas,e=i.getContext("2d"),o={REF:{min:-15,max:85},VEL:{min:-80,max:80},CC:{min:0,max:1.04},SW:{min:0,max:20.5909605683}}[this.groupId],a=`dynamic-radar-product-tile:${this.groupId}:${this.tableId}`,r=pr.get(a);if(r!==null){i.width=480*2,i.height=480*2,e.putImageData(r,0,0);return}const n=new Image;n.src=`/radar/dynamic-product-tiles/${this.groupId}.png`,n.onload=()=>{i.width=n.width,i.height=n.height,e.drawImage(n,0,0);const l=e.getImageData(0,0,i.width,i.height),d=l.data,m=fe.get(this.groupId,this.tableId),h=o.min,y=o.max-h,N=[];for(let w=0;w<256;w++){const S=w*(y/256)+h;if(S<m.min)N[w]=m.colors[0];else if(S>m.max)N[w]=m.colors[m.colors.length-1];else{const v=(S-m.min)/(m.max-m.min);let A=parseInt(m.colors.length*v)-1;A<0?A=0:A>=m.colors.length&&(A=m.colors.length-1),N[w]=m.colors[A]}}for(let w=0;w<d.length;w+=4){if((d[w]===46||d[w]===45)&&d[w+1]===133&&d[w+2]===255){d[w]=67,d[w+1]=77,d[w+2]=92,d[w+3]=255;continue}const S=d[w],v=N[S];d[w]=v[0],d[w+1]=v[1],d[w+2]=v[2],v.length}e.putImageData(l,0,0),pr.set(a,l)}}},B6={ref:"canvas",width:"960",height:"960",style:{"max-width":"100%",height:"auto"}};function D6(i,e,t,o,a,r){return c(),p("canvas",B6,null,512)}const mr=G(T6,[["render",D6]]),I6={__name:"Slider",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(i){const e=_r(i,"modelValue");return(t,o)=>(c(),q(u(Qi),{modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=a=>e.value=a),class:"px-1","pt:root:class":"!bg-slate-200 !h-[8px] !rounded-md","pt:handle:class":"!bg-blue-600 hover:!bg-blue-700 before:!bg-blue-600 before:hover:!bg-blue-700 before:!w-4 before:!h-4 before:!border-0","pt:startHandler:class":"!bg-blue-600 hover:!bg-blue-700 before:!bg-blue-600 before:hover:!bg-blue-700 before:!w-4 before:!h-4 before:!border-0 after:!content-['L'] after:!-ml-4 after:text-white","pt:endHandler:class":"!bg-blue-600 hover:!bg-blue-700 before:!bg-blue-600 before:hover:!bg-blue-700 before:!w-4 before:!h-4 before:!border-0 after:!content-['H'] after:!-ml-4 after:text-white","pr:range:class":"!rounded-md"},null,8,["modelValue"]))}},E6=G(I6,[["__scopeId","data-v-ca5dc6b2"]]),L6={name:"RadarSettings",components:{Icon:T,ToggleSwitch:_o,Slider:E6,Plus:Ke},setup(){return{subscription:we(),App:C,useUpgradeNotifcation:so}},data(){return{gateFilterKey:0,threeDRadarKey:0,lightningKey:0,maxScansKey:0,gateFilterLimit:{min:-30,max:90},gateFilterWarning:{min:10}}},computed:{radarTowersStore(){return ot()},radarSettings(){return Dt()},mapRadar(){return g.activeMap().stores.radar},productGroup(){return this.mapRadar.activeProductGroup},stormTracksSettingSupported(){return this.mapRadar.availableProducts.includes("NST")},lightningSettingSupported(){return C.radar.isLightningSupported(this.mapRadar.activeTower)},shouldShow120Features(){return C.shouldShowFeatures(ke)},meltingLayerSettingSupported(){return this.mapRadar.availableProducts.some(i=>["NXM","NYM","NZM","N0M","NAM","N1M","NBM","N2M","N3M"].includes(i))},isPlaybackBuffering(){return this.radarTowersStore.isPlaybackBuffering},activeProductGroup(){return g.activeMap().stores.radar.activeProductGroup},smoothingIsSupported(){return this.activeProductGroup.id!=="PRT"},filteringIsSupported(){return this.activeProductGroup.id==="REF"},radarScanFrames:{get(){return this.radarSettings.max_scans},set(i){if(i>15&&!this.subscription.isAtleast(this.subscription.tiers.PLUS)){so("RADAR_MAX_SCANS"),this.maxScansKey++;return}this.radarSettings.max_scans=i}},radarLightning:{get(){return this.radarSettings.lightning},set(i){if(i>1&&!this.subscription.isAtleast(this.subscription.tiers.PLUS)){so("RADAR_ENHANCED_LIGHTNING"),this.lightningKey++;return}this.radarSettings.lightning=i}},threeDRadar:{get(){return this.radarSettings.three_d},set(i){console.log("setting 3D radar",i),i===!0&&this.subscription.isAtleast(this.subscription.tiers.PLUS)?(this.radarSettings.three_d=!0,C.radar.redrawScanAll()):i===!0&&!this.subscription.isAtleast(this.subscription.tiers.PLUS)?(this.radarSettings.three_d=!1,so("RADAR_3D"),this.threeDRadarKey++):(this.radarSettings.three_d=!1,C.radar.redrawScanAll())}},smoothing:{get(){return this.radarSettings.smoothing[g.activeMap().stores.radar.activeProductGroup.id]},set(i){i>0&&this.subscription.isAtleast(this.subscription.tiers.PLUS)?this.radarSettings.smoothing[g.activeMap().stores.radar.activeProductGroup.id]=i:i>0&&!this.subscription.isAtleast(this.subscription.tiers.PLUS)?(this.radarSettings.smoothing[g.activeMap().stores.radar.activeProductGroup.id]=0,so("Radar Smoothing")):this.radarSettings.smoothing[g.activeMap().stores.radar.activeProductGroup.id]=i}},gateFilter:{get(){return this.radarSettings.gate_filter[g.activeMap().stores.radar.activeProductGroup.id]},set(i){const e=g.activeMap().stores.radar.activeProductGroup.id;let t=parseInt(i[0]),o=parseInt(i[1]);const a=5;o-t<a&&(t=o-a,t<this.gateFilterLimit.min&&(t=this.gateFilterLimit.min)),o<this.gateFilterLimit.min+a&&(o=this.gateFilterLimit.min+a),o>t?this.radarSettings.gate_filter[e]=[t,o]:this.gateFilterKey++}}},methods:{onApplySettings:Be(()=>{const i=g.activeMap().stores.radar.activeProductCode;g.forEach(e=>{e.stores.radar.activeProductCode===i&&C.radar.redrawScan(e)})},20),async onStopClick(){await C.radar.resetAndLoadLatestRadarDataAll()},async onStormTracksChange(){if(this.radarTowersStore.isPlaying)try{await this.onStopClick()}catch{console.log("Failed to stop playback")}if(this.radarSettings.storm_tracks>0)try{await C.radar.loadLatestStormTracks(this.mapRadar.activeTower)}catch{console.log("Failed to load latest storm tracks")}else C.radar.clearStormTracks(this.mapRadar.activeTowerId)},async onLightningChange(){if(this.radarTowersStore.isPlaying)try{await this.onStopClick()}catch{console.log("Failed to stop playback")}if(this.radarSettings.lightning>0){try{await C.radar.lightning.load(this.mapRadar.activeTowerId)}catch{console.log("Failed to load lightning data for radar")}C.radar.lightning.show()}else C.radar.lightning.clear(this.mapRadar.activeTowerId)},async onMeltingLayerChange(){if(this.radarTowersStore.isPlaying)try{await this.onStopClick()}catch{console.log("Failed to stop playback")}this.radarSettings.melting_layer>0},showExtraHelp(i){this.$parent.showExtraHelp(i)},onColortableChangeClick(i){this.$parent.onColortableChangeClick(i)},onReflectivityUnitChange(i){g.forEach(e=>{const t=e.stores.radar;if(["REF"].includes(t.activeProductGroup.id)){const o=t.scanDatetime;t.$patch({scanDatetime:"0000-00-00 00:00:00"}),this.$nextTick(()=>{t.$patch({scanDatetime:JSON.parse(JSON.stringify(ge(o)))})})}})},onVelocityUnitChange(i){g.forEach(e=>{const t=e.stores.radar;if(["VEL","SRV"].includes(t.activeProductGroup.id)){const o=t.scanDatetime;t.$patch({scanDatetime:"0000-00-00 00:00:00"}),this.$nextTick(()=>{t.$patch({scanDatetime:JSON.parse(JSON.stringify(ge(o)))})})}})},onTowerIconChange(i){C.radar.changeTowerIcon()},onSecondaryTowersVisibilityChange(){C.radar.changeTowerIcon()},onTowersRadiusVisibilityChange(){this.radarSettings.towers_radius_visible?C.radar.showTowersRadius():C.radar.hideTowersRadius()}}},R6={class:"grid grid-cols-2 gap-4"},F6={key:0},M6={class:"flex flex-col cursor-pointer w-full"},P6={class:"flex"};const H6={key:2},z6={class:"inline-flex items-center cursor-pointer w-full"},O6={class:"text-sm font-bold"},K6={key:1,class:"inline-flex items-center cursor-pointer w-full"},U6={key:3},$6={class:"flex flex-col cursor-pointer w-full"},X6={class:"text-sm font-bold mb-1"},W6={class:"flex"},V6={key:4},G6={class:"inline-flex items-center cursor-pointer w-full"},j6={class:"text-sm font-bold"},Z6={class:"flex flex-col cursor-pointer w-full"},Y6={class:"flex"},J6={class:"flex flex-col cursor-pointer w-full"},Q6={class:"flex"},q6={class:"col-span-2"},e9={class:"inline-flex items-center cursor-pointer w-full"},t9={class:"space-y-1"},o9={key:5,class:"col-span-2"},s9={class:"inline-flex items-center cursor-pointer w-full"},a9={class:"text-sm font-bold"},r9={class:"space-y-1"},i9={key:6,class:"col-span-2"},n9={class:"inline-flex items-center cursor-pointer w-full"},l9={class:"space-y-1"},c9={key:0,class:"flex items-center p-4 mt-4 mb-4 text-sm text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},d9={key:7,class:"col-span-2"},u9={class:"inline-flex items-center cursor-pointer w-full"},p9={class:"text-sm font-bold"},m9={class:"space-y-1"},h9={class:"flex justify-between px-1 pointer-events-none"},g9=["textContent"],f9=["textContent"],y9={key:0,class:"flex items-center p-4 mt-4 mb-4 text-sm text-yellow-800 border border-yellow-300 rounded-lg bg-yellow-50 dark:bg-gray-800 dark:text-yellow-300 dark:border-yellow-800",role:"alert"},N9={class:"font-medium underline"},v9={class:"col-span-2"},b9=["disabled"];function w9(i,e,t,o,a,r){const n=Ie("ToggleSwitch"),l=Ie("Icon"),d=Ie("Plus"),m=Ie("Slider");return c(),p(z,null,[e[64]||(e[64]=s("div",{class:"relative inline-flex items-center justify-center w-full mb-6"},[s("hr",{class:"w-full h-px bg-gray-300 border-0"}),s("span",{class:"absolute px-3 font-medium text-gray-900 -translate-x-1/2 bg-white left-1/2 text-xs rounded-lg"},"Settings")],-1)),s("div",R6,[r.stormTracksSettingSupported?(c(),p("div",F6,[s("label",M6,[e[36]||(e[36]=s("span",{class:"text-sm font-bold mb-1"},"Storm Tracks",-1)),s("div",P6,[b(n,{class:"sr-only peer",modelValue:r.radarSettings.storm_tracks,"onUpdate:modelValue":e[0]||(e[0]=h=>r.radarSettings.storm_tracks=h),modelModifiers:{number:!0},"true-value":1,"false-value":0,onChange:r.onStormTracksChange},null,8,["modelValue","onChange"]),s("a",{href:"#",class:"ml-auto",onClick:e[1]||(e[1]=P(h=>r.showExtraHelp("STORM_TRACKS"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])])])])):x("",!0),(r.meltingLayerSettingSupported,x("",!0)),r.lightningSettingSupported?(c(),p("div",H6,[r.shouldShow120Features?(c(),p(z,{key:0},[s("label",z6,[s("span",O6,[e[38]||(e[38]=L("Lightning ")),b(d,{class:"ml-1"})])]),V((c(),p("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":e[4]||(e[4]=h=>r.radarLightning=h),key:a.lightningKey,onChange:e[5]||(e[5]=(...h)=>r.onLightningChange&&r.onLightningChange(...h))},e[39]||(e[39]=[s("option",{value:"0"},"Off",-1),s("option",{value:"1"},"Standard",-1),s("option",{value:"2"},"Plus",-1)]),32)),[[Qe,r.radarLightning,void 0,{number:!0}]]),s("a",{href:"#",class:"inline float-right",onClick:e[6]||(e[6]=P(h=>r.showExtraHelp("LIGHTNING"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])],64)):(c(),p("label",K6,[b(n,{class:"sr-only peer",modelValue:r.radarLightning,"onUpdate:modelValue":e[7]||(e[7]=h=>r.radarLightning=h),modelModifiers:{number:!0},"true-value":1,"false-value":0,onChange:r.onLightningChange},null,8,["modelValue","onChange"]),e[40]||(e[40]=s("span",{class:"ms-3 text-sm font-bold"},"Lightning",-1)),s("a",{href:"#",class:"ml-auto",onClick:e[8]||(e[8]=P(h=>r.showExtraHelp("LIGHTNING"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])]))])):x("",!0),r.shouldShow120Features?(c(),p("div",U6,[s("label",$6,[s("span",X6,[e[41]||(e[41]=L("3D Radar ")),b(d,{class:"ml-1"})]),s("div",W6,[(c(),q(n,{modelValue:r.threeDRadar,"onUpdate:modelValue":e[9]||(e[9]=h=>r.threeDRadar=h),key:a.threeDRadarKey},null,8,["modelValue"])),s("a",{href:"#",class:"ml-auto",onClick:e[10]||(e[10]=P(h=>r.showExtraHelp("3D_RADAR"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])])])])):x("",!0),r.shouldShow120Features?(c(),p("div",V6,[s("label",G6,[s("span",j6,[e[42]||(e[42]=L("Max Scans ")),b(d,{class:"ml-1"})])]),V((c(),p("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":e[11]||(e[11]=h=>r.radarScanFrames=h),key:a.maxScansKey},e[43]||(e[43]=[ye('<option value="5">5 scans</option><option value="10">10 scans</option><option value="15">15 scans</option><option value="30">30 scans</option><option value="50">50 scans</option><option value="75">75 scans</option><option value="100">100 scans</option>',7)]))),[[Qe,r.radarScanFrames,void 0,{number:!0}]]),s("a",{href:"#",class:"inline float-right",onClick:e[12]||(e[12]=P(h=>r.showExtraHelp("MAX_SCANS"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])])):x("",!0),s("div",null,[e[45]||(e[45]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Reflectivity Unit")],-1)),V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":e[13]||(e[13]=h=>r.radarSettings.units.REF=h),onChange:e[14]||(e[14]=(...h)=>r.onReflectivityUnitChange&&r.onReflectivityUnitChange(...h))},e[44]||(e[44]=[s("option",{value:"dbz"},"dBZ",-1),s("option",{value:"dbz_rr_in_hr"},"dBZ + RR (in/hr)",-1),s("option",{value:"dbz_rr_mm_hr"},"dBZ + RR (mm/hr)",-1)]),544),[[Qe,r.radarSettings.units.REF]]),s("a",{href:"#",class:"inline float-right",onClick:e[15]||(e[15]=P(h=>r.showExtraHelp("UNIT_REFLECTIVITY"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])]),s("div",null,[e[47]||(e[47]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Velocity Unit")],-1)),V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":e[16]||(e[16]=h=>r.radarSettings.units.VEL=h),onChange:e[17]||(e[17]=(...h)=>r.onVelocityUnitChange&&r.onVelocityUnitChange(...h))},e[46]||(e[46]=[ye('<option value="m/s">m/s</option><option value="mph">mph</option><option value="kph">kph</option><option value="kt">knots</option><option value="ft/s">ft/s</option>',5)]),544),[[Qe,r.radarSettings.units.VEL]]),s("a",{href:"#",class:"inline float-right",onClick:e[18]||(e[18]=P(h=>r.showExtraHelp("UNIT_VELOCITY"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])]),s("div",null,[e[49]||(e[49]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Tower Icon")],-1)),V(s("select",{class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg inline p-1","onUpdate:modelValue":e[19]||(e[19]=h=>r.radarSettings.tower_icon_design=h),onChange:e[20]||(e[20]=(...h)=>r.onTowerIconChange&&r.onTowerIconChange(...h))},e[48]||(e[48]=[s("option",{value:"dot"},"Dot",-1),s("option",{value:"pill"},"Pill with Code",-1)]),544),[[Qe,r.radarSettings.tower_icon_design]]),s("a",{href:"#",class:"inline float-right",onClick:e[21]||(e[21]=P(h=>r.showExtraHelp("TOWER_ICON_DESIGN"),["prevent"]))},[b(l,{icon:"carbon:help",class:"inline size-5"})])]),s("div",null,[s("label",Z6,[e[50]||(e[50]=s("span",{class:"text-sm font-bold mb-1"},"Secondary Towers",-1)),s("div",Y6,[b(n,{class:"sr-only peer",modelValue:r.radarSettings.secondary_towers_visible,"onUpdate:modelValue":e[22]||(e[22]=h=>r.radarSettings.secondary_towers_visible=h),onChange:r.onSecondaryTowersVisibilityChange},null,8,["modelValue","onChange"]),s("a",{href:"#",class:"ml-auto",onClick:e[23]||(e[23]=P(h=>r.showExtraHelp("SECONDARY_TOWER_VISIBILITY"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])])])]),s("div",null,[s("label",J6,[e[51]||(e[51]=s("span",{class:"text-sm font-bold mb-1"},"Range Ring",-1)),s("div",Q6,[b(n,{class:"sr-only peer",modelValue:r.radarSettings.towers_radius_visible,"onUpdate:modelValue":e[24]||(e[24]=h=>r.radarSettings.towers_radius_visible=h),onChange:r.onTowersRadiusVisibilityChange},null,8,["modelValue","onChange"]),s("a",{href:"#",class:"ml-auto",onClick:e[25]||(e[25]=P(h=>r.showExtraHelp("RADIUS_VISIBILITY"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])])])]),s("div",q6,[s("label",e9,[e[52]||(e[52]=s("span",{class:"text-sm font-bold"},"Playback Speed",-1)),s("a",{href:"#",class:"ml-auto",onClick:e[26]||(e[26]=P(h=>r.showExtraHelp("PLAYBACK_SPEED"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])]),s("div",t9,[b(m,{modelValue:r.radarSettings.playback_speed_ms,"onUpdate:modelValue":e[27]||(e[27]=h=>r.radarSettings.playback_speed_ms=h),modelModifiers:{number:!0},min:75,max:300,step:25,class:"my-2",style:{direction:"rtl"}},null,8,["modelValue"]),e[53]||(e[53]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-white"},"Slow"),s("span",{class:"text-xs text-gray-500 dark:text-white"},"Fast")],-1))])]),r.shouldShow120Features&&r.smoothingIsSupported?(c(),p("div",o9,[s("label",s9,[s("span",a9,[e[54]||(e[54]=L("Smoothing ")),b(d,{class:"ml-1"})]),s("a",{href:"#",class:"ml-auto",onClick:e[28]||(e[28]=P(h=>r.showExtraHelp("SMOOTHING"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])]),s("div",r9,[s("div",{onClick:e[30]||(e[30]=h=>!o.subscription.hasActiveSubscription()&&o.useUpgradeNotifcation("RADAR_SMOOTHING"))},[b(m,{modelValue:r.smoothing,"onUpdate:modelValue":[e[29]||(e[29]=h=>r.smoothing=h),r.onApplySettings],modelModifiers:{number:!0},min:0,max:1,step:.1,disabled:!o.subscription.hasActiveSubscription(),class:"my-2"},null,8,["modelValue","disabled","onUpdate:modelValue"])]),e[55]||(e[55]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-white"},"None"),s("span",{class:"text-xs text-gray-500 dark:text-white"},"Full")],-1))])])):x("",!0),r.shouldShow120Features?(c(),p("div",i9,[s("label",n9,[e[56]||(e[56]=s("span",{class:"text-sm font-bold"},"Opacity",-1)),s("a",{href:"#",class:"ml-auto",onClick:e[31]||(e[31]=P(h=>r.showExtraHelp("OPACITY"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])]),s("div",l9,[s("div",null,[b(m,{modelValue:r.radarSettings.opacity,"onUpdate:modelValue":[e[32]||(e[32]=h=>r.radarSettings.opacity=h),r.onApplySettings],modelModifiers:{number:!0},min:0,max:1,step:.1,class:"my-2"},null,8,["modelValue","onUpdate:modelValue"])]),e[57]||(e[57]=s("div",{class:"flex justify-between px-1 pointer-events-none"},[s("span",{class:"text-xs text-gray-500 dark:text-white"},"Transparent"),s("span",{class:"text-xs text-gray-500 dark:text-white"},"Opaque")],-1))]),s("div",null,[r.radarSettings.opacity<.3?(c(),p("div",c9,e[58]||(e[58]=[s("svg",{class:"shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1),s("div",null,[s("span",{class:"font-bold"},"Warning!"),L(" You will not be able to see the radar data if you set the opacity too low. ")],-1)]))):x("",!0)])])):x("",!0),r.filteringIsSupported?(c(),p("div",d9,[s("label",u9,[s("span",p9,"Reflectivity Gate Filter: "+_(r.gateFilter[0])+" - "+_(r.gateFilter[1])+" "+_(r.productGroup.unit),1),s("a",{href:"#",class:"ml-auto",onClick:e[33]||(e[33]=P(h=>r.showExtraHelp("GATE_FILTERING"),["prevent"]))},[b(l,{icon:"carbon:help",class:"size-5"})])]),s("div",m9,[s("div",null,[(c(),q(m,{modelValue:r.gateFilter,"onUpdate:modelValue":[e[34]||(e[34]=h=>r.gateFilter=h),r.onApplySettings],key:a.gateFilterKey,range:"",min:a.gateFilterLimit.min,max:a.gateFilterLimit.max,step:1,class:"my-2"},null,8,["modelValue","min","max","onUpdate:modelValue"]))]),s("div",h9,[s("span",{class:"text-xs text-gray-500 dark:text-white",textContent:_(a.gateFilterLimit.min.toFixed(0))},null,8,g9),s("span",{class:"text-xs text-gray-500 dark:text-white",textContent:_(a.gateFilterLimit.max.toFixed(0))},null,8,f9)]),s("div",null,[r.gateFilter[0]>a.gateFilterWarning.min?(c(),p("div",y9,[e[62]||(e[62]=s("svg",{class:"shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),s("div",null,[e[59]||(e[59]=s("span",{class:"font-bold"},"Warning!",-1)),e[60]||(e[60]=L(" We recommend a minimum of ")),s("span",N9,_(a.gateFilterWarning.min.toFixed(0))+" "+_(r.productGroup.unit),1),e[61]||(e[61]=L(". "))])])):x("",!0)])])])):x("",!0),s("div",v9,[s("button",{onClick:e[35]||(e[35]=P(h=>r.onColortableChangeClick(h),["prevent"])),type:"button",class:"block w-full text-white bg-blue-700 hover:bg-blue-800 font-bold rounded-lg text-sm px-2.5 py-2 pt-1.5",disabled:r.isPlaybackBuffering},[b(l,{icon:"fluent:color-20-regular",class:"inline size-5 mr-2"}),e[63]||(e[63]=L("Customize Color Tables"))],8,b9)])])],64)}const x9=G(L6,[["render",w9]]),_9={class:"flex flex-col items-center"},S9=["textContent"],k9={key:0,class:"mt-5 text-sm text-green-600 dark:text-green-400 font-bold"},A9={key:1,class:"mt-5 text-sm text-red-600 dark:text-red-200 font-bold"},C9=ae({__name:"DropZone",props:{error:{},success:{},dragActive:{type:Boolean}},setup(i){const e=C.isNativeApp()?"Tap to upload":"Drop .pal files here or click to upload";return(t,o)=>(c(),p("div",{class:O(["p-8 border-2 border-dashed rounded-lg text-center transition-colors",t.dragActive?"border-blue-400 bg-blue-50 dark:bg-blue-900":"border-gray-300 dark:border-gray-700",t.error?"border-red-400 bg-red-50 dark:bg-red-900":""])},[s("div",_9,[s("p",{class:"mb-2 text-lg font-semibold text-gray-700 dark:text-gray-200",textContent:_(u(e))},null,8,S9),o[0]||(o[0]=s("p",{class:"text-sm text-gray-500"}," Only .pal files are accepted ",-1)),t.success?(c(),p("p",k9,_(t.success),1)):x("",!0),t.error?(c(),p("p",A9,_(t.error),1)):x("",!0)])],2))}}),T9={class:"max-w-xl mx-auto"},B9=ae({__name:"FileUpload",props:{onFileContent:{type:Function}},setup(i){const e=i,t=H(!1),o=H(""),a=H(""),r=f=>f.name.toLowerCase().endsWith(".pal"),n=async f=>{try{const y=await f.text();e.onFileContent&&e.onFileContent(y,f.name),o.value="Successfully uploaded"}catch(y){return console.error(`Error reading ${f.name}:`,y),a.value=`Failed to read ${f.name}`,null}},l=async f=>{const y=f.filter(r);y.length<f.length?a.value="Only .pal files are allowed":a.value="",y.length!==0&&await n(y[0])},d=f=>{f.preventDefault(),f.stopPropagation(),f.type==="dragenter"||f.type==="dragover"?t.value=!0:f.type==="dragleave"&&(t.value=!1)},m=async f=>{var y;f.preventDefault(),f.stopPropagation(),t.value=!1,(y=f.dataTransfer)!=null&&y.files&&f.dataTransfer.files.length>0&&await l(Array.from(f.dataTransfer.files))},h=async f=>{const y=f.target;y.files&&y.files.length>0&&await l(Array.from(y.files))};return(f,y)=>(c(),p("div",T9,[s("form",{onDragenter:d,onDragover:d,onDragleave:d,onDrop:m,onSubmit:y[0]||(y[0]=P(()=>{},["prevent"])),class:"relative"},[s("input",{type:"file",onChange:h,class:"absolute inset-0 w-full h-full opacity-0 z-50 cursor-pointer"},null,32),b(C9,{success:o.value,error:a.value,"drag-active":t.value},null,8,["success","error","drag-active"])],32)]))}}),D9={name:"RadarColortableButton",props:["groupId","table","name"],computed:{radarTowersStore(){return ot()},radarSettings(){return Dt()}},methods:{getAsCssGradient(i,e){return fe.getAsCssGradient(i,e)},async onColortableChange(i,e){this.radarSettings.colortable[i]=e,this.radarTowersStore.isPlaying||g.forEach(t=>{const o=t.stores.radar;if(o.activeProductGroup.id===i){const a=t.components["radar-renderer"];C.radar.drawScan(t,a.getData(),o.activeTowerId,o.activeProductCode)}})}}},I9=["textContent"];function E9(i,e,t,o,a,r){return c(),p("button",{class:O(["border-solid border-4 block w-full rounded-lg py-3 mb-2",{"border-sky-400":r.radarSettings.colortable[t.groupId]===t.table.id}]),style:pe(r.getAsCssGradient(t.groupId,t.table.id)),onClick:e[0]||(e[0]=n=>r.onColortableChange(t.groupId,t.table.id))},[s("span",{class:"backdrop-blur-sm bg-white/70 rounded px-1.5 font-medium text-xs relative top-[-1px] dark:text-black",textContent:_(t.name)},null,8,I9)],6)}const L9=G(D9,[["render",E9]]),R9={name:"RadarColortables",components:{Icon:T,FileUpload:B9,RadarColortableButton:L9},computed:{radarTowersStore(){return ot()},radarSettings(){return Dt()},canUpload(){return C.isNativeApp()?C.isNativeVersionAtleast("1.1.1"):!0},tables(){const i=we(),e={REF:[{name:"Default",id:"DEFAULT"},{name:"Alternative 1",id:"OTHER1"},{name:"Alternative 2",id:"OTHER2"}],VEL:[{name:"Default",id:"DEFAULT"},{name:"Alternative 1",id:"OTHER1"},{name:"Alternative 2",id:"OTHER2"}],CC:[{name:"Default",id:"DEFAULT"},{name:"Alternative 1",id:"OTHER1"},{name:"Alternative 2",id:"OTHER2"}],SW:[{name:"Default",id:"DEFAULT"},{name:"Alternative 1",id:"OTHER1"},{name:"Alternative 2",id:"OTHER2"}],PRT:[{name:"Default",id:"DEFAULT"},{name:"Alternative 1",id:"OTHER1"},{name:"Alternative 2",id:"OTHER2"}]};return i.isAtleast(i.tiers.PLUS)&&(e.REF.push({name:"Ryan Hall, Y'all",id:"RH1"}),e.VEL.push({name:"Ryan Hall, Y'all",id:"RH1"}),e.CC.push({name:"Ryan Hall, Y'all",id:"RH1"})),e}},methods:{async handleFileContent(i,e){const t={BR:"REF",BV:"VEL",CC:"CC",SW:"SW",PM:"PRT"};try{const o=Zr(i),a=t[o.pal.product];if(a===void 0)throw new Error(`Unable to locate product: ${o.pal.product}`);const n=`UPLOAD:${Qn(i)}`;this.radarSettings.colortable[a]=n,this.radarSettings.colortable_pal_upload[a]=[{id:n,filename:e,text:i}],fe.parse(a,n,i),await this.onColortableChange(a,n)}catch(o){alert(o.message)}},async onColortableChange(i,e){this.radarSettings.colortable[i]=e,this.radarTowersStore.isPlaying||g.forEach(t=>{const o=t.stores.radar;if(o.activeProductGroup.id===i){const a=t.components["radar-renderer"];C.radar.drawScan(t,a.getData(),o.activeTowerId,o.activeProductCode)}})}}},F9={class:"mt-3"},M9={class:"mt-3"},P9={class:"mt-3"},H9={class:"mt-3"},z9={class:"mt-3"},O9={key:0},K9={key:1};function U9(i,e,t,o,a,r){const n=Ie("RadarColortableButton"),l=Ie("FileUpload");return c(),p(z,null,[s("div",F9,[e[0]||(e[0]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Reflectivity")],-1)),(c(!0),p(z,null,ee(r.tables.REF,d=>(c(),q(n,{table:d,groupId:"REF",name:d.name},null,8,["table","name"]))),256)),(c(!0),p(z,null,ee(r.radarSettings.colortable_pal_upload.REF,d=>(c(),q(n,{table:d,groupId:"REF",name:d.filename},null,8,["table","name"]))),256))]),s("div",M9,[e[1]||(e[1]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Velocity")],-1)),(c(!0),p(z,null,ee(r.tables.VEL,d=>(c(),q(n,{table:d,groupId:"VEL",name:d.name},null,8,["table","name"]))),256)),(c(!0),p(z,null,ee(r.radarSettings.colortable_pal_upload.VEL,d=>(c(),q(n,{table:d,groupId:"VEL",name:d.filename},null,8,["table","name"]))),256))]),s("div",P9,[e[2]||(e[2]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Correlation Coefficient")],-1)),(c(!0),p(z,null,ee(r.tables.CC,d=>(c(),q(n,{table:d,groupId:"CC",name:d.name},null,8,["table","name"]))),256)),(c(!0),p(z,null,ee(r.radarSettings.colortable_pal_upload.CC,d=>(c(),q(n,{table:d,groupId:"CC",name:d.filename},null,8,["table","name"]))),256))]),s("div",H9,[e[3]||(e[3]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Spectrum Width")],-1)),(c(!0),p(z,null,ee(r.tables.SW,d=>(c(),q(n,{table:d,groupId:"SW",name:d.name},null,8,["table","name"]))),256)),(c(!0),p(z,null,ee(r.radarSettings.colortable_pal_upload.SW,d=>(c(),q(n,{table:d,groupId:"SW",name:d.filename},null,8,["table","name"]))),256))]),s("div",z9,[e[4]||(e[4]=s("label",{class:"inline-flex items-center cursor-pointer w-full"},[s("span",{class:"text-sm font-bold"},"Precipitation Type")],-1)),(c(!0),p(z,null,ee(r.tables.PRT,d=>(c(),q(n,{table:d,groupId:"PRT",name:d.name},null,8,["table","name"]))),256)),(c(!0),p(z,null,ee(r.radarSettings.colortable_pal_upload.PRT,d=>(c(),q(n,{table:d,groupId:"PRT",name:d.filename},null,8,["table","name"]))),256))]),e[6]||(e[6]=s("div",{class:"relative inline-flex items-center justify-center w-full my-6"},[s("hr",{class:"w-full h-px bg-gray-300 border-0"}),s("span",{class:"absolute px-3 font-medium text-gray-900 rounded-lg -translate-x-1/2 bg-white left-1/2 text-xs"},"Upload")],-1)),s("div",null,[r.canUpload?(c(),p("div",O9,[b(l,{"on-file-content":r.handleFileContent},null,8,["on-file-content"])])):(c(),p("div",K9,e[5]||(e[5]=[s("p",{class:"text-xs text-center font-bold"},"You need to update your app to upload Color Tables.",-1)])))]),e[7]||(e[7]=s("p",{class:"mt-5 text-xs text-center"},[L("All colortables are kindly provided by "),s("a",{href:"https://www.wxtools.org/",target:"_blank",class:"text-blue-600 hover:underline"},"Wx Tools"),L(".")],-1))],64)}const $9=G(R9,[["render",U9]]),X9={class:"space-x-1 sm:space-x-2 pt-0.5"},W9=["title"],V9=["title"],G9=["title","disabled"],j9=["disabled"],Z9={__name:"RadarPlaybackControls",setup(i){const e=ot(),t=Dt(),o=de(()=>e.inspectorActive),a=de(()=>e.isPlaybackBuffering),r=de(()=>e.isPlaying),n=de(()=>e.hasBufferedScans),l=de(()=>a.value?"eos-icons:three-dots-loading":r.value?"ph:pause-fill":"ph:play-fill"),{togglePlayback:d}=Os(),m=N=>{const w=N.target.closest("button");if(w==null||w.blur(),r.value){e.isPlaying=!1;return}d()},h=()=>{e.inspectorActive=!e.inspectorActive},f=async()=>{await C.radar.resetAndLoadLatestRadarDataAll()},y=()=>{t.isRadarTowersVisible?C.radar.hideRadarTowers():(t.towers_visible=!0,C.radar.showRadarTowers())};return(N,w)=>(c(),p("div",X9,[V(s("button",{type:"button",onClick:y,title:u(t).isRadarTowersVisible?"Hide Radar Towers":"Show Radar Towers",class:O(["text-white font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",u(t).isRadarTowersVisible?"bg-blue-900 hover:bg-blue-950":"bg-blue-700 hover:bg-blue-800"])},[b(u(T),{icon:"tdesign:map-bubble",class:"inline size-4"})],10,W9),[[be,!n.value]]),V(s("button",{onClick:P(h,["prevent"]),type:"button",class:O(["text-white font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",{"bg-blue-900 hover:bg-blue-950":o.value,"bg-blue-700 hover:bg-blue-800":!o.value}]),title:o.value?"Hide Data Picker":"Show Data Picker"},[b(u(T),{icon:"zondicons:target",class:"inline size-4"})],10,V9),[[be,!n.value]]),s("button",{onClick:P(m,["prevent"]),type:"button",title:r.value?"Pause Playback":"Start Playback",class:"text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",disabled:a.value},[b(u(T),{icon:l.value,class:"inline size-4"},null,8,["icon"])],8,G9),V(s("button",{onClick:P(f,["prevent"]),title:"Stop Playback",type:"button",class:"ml-2 text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg text-sm px-2.5 py-2 pt-1.5",disabled:a.value},[b(u(T),{icon:"ph:stop-fill",class:"inline size-4"})],8,j9),[[be,n.value]])]))}},Y9=["min","max","value","step"],J9={class:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},Q9={class:"w-full h-2 bg-gray-200 dark:bg-ww-blue-100/20 rounded-full overflow-hidden z-10"},q9=ae({__name:"RangeSlider",props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1},range:{type:Boolean,default:!1}},emits:["update:modelValue","manual"],setup(i,{emit:e}){const t=i,o=e,a=H(!1),r=H(null),n=H(null),l=de(()=>t.min),d=de(()=>t.max),m=de(()=>t.step),h=de(()=>t.range&&Array.isArray(t.modelValue)?t.modelValue[0]:t.min),f=de(()=>t.range&&Array.isArray(t.modelValue)?t.modelValue[1]:t.modelValue),y=de(()=>t.range?t.min:t.modelValue),N=de(()=>(h.value-l.value)/(d.value-l.value)*100),w=de(()=>(f.value-l.value)/(d.value-l.value)*100),S=de(()=>(y.value-l.value)/(d.value-l.value)*100),v=E=>{if(t.range)return;const K=Number(E.target.value);o("update:modelValue",K),a.value=!0},A=E=>{if(t.range)return;const K=Number(E.target.value);o("update:modelValue",K),a.value&&(o("manual"),a.value=!1)},B=()=>{o("manual")},I=E=>{if(!n.value)return 0;const K=n.value.getBoundingClientRect();let U;"clientX"in E?U=E.clientX:U=E.touches[0].clientX;const X=(U-K.left)/K.width;let J=l.value+X*(d.value-l.value);return J=Math.round(J/m.value)*m.value,J=Math.max(l.value,Math.min(d.value,J)),J},R=E=>{if(!t.range||!Array.isArray(t.modelValue))return"min";const K=Math.abs(E-h.value),U=Math.abs(E-f.value);return K<=U?"min":"max"},M=E=>{if(!t.range||!Array.isArray(t.modelValue))return;const K=I(E);r.value=R(K),a.value=!0,F(K),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",k),window.addEventListener("touchend",k)},D=E=>{if(!a.value||!r.value)return;const K=I(E);F(K)},k=()=>{a.value&&(o("manual"),a.value=!1,r.value=null,window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",k),window.removeEventListener("touchend",k))},F=E=>{if(!t.range||!Array.isArray(t.modelValue)||!r.value)return;const K=[...t.modelValue];r.value==="min"?K[0]=Math.min(E,K[1]-m.value):K[1]=Math.max(E,K[0]+m.value),o("update:modelValue",K)};return(E,K)=>(c(),p("div",{ref_key:"containerRef",ref:n,class:"relative h-6 md:h-6 w-full flex items-center"},[E.range?(c(),p(z,{key:1},[s("div",{class:"absolute inset-0 w-full h-full z-30 cursor-pointer",onMousedown:M,onTouchstart:M},null,32),s("div",Q9,[s("div",{class:"absolute h-2 bg-blue-600 dark:bg-blue-500 rounded-full",style:pe({left:`${N.value}%`,width:`${w.value-N.value}%`})},null,4)]),s("div",{class:O(["absolute w-4 h-4 bg-blue-600 dark:bg-blue-500 rounded-full shadow transform -translate-y-0 -translate-x-1/2 transition-transform duration-100 hover:scale-110 active:scale-125 z-20",{"scale-110":r.value==="min"}]),style:pe({left:`${N.value}%`})},null,6),s("div",{class:O(["absolute w-4 h-4 bg-blue-600 dark:bg-blue-500 rounded-full shadow transform -translate-y-0 -translate-x-1/2 transition-transform duration-100 hover:scale-110 active:scale-125 z-20",{"scale-110":r.value==="max"}]),style:pe({left:`${w.value}%`})},null,6)],64)):(c(),p(z,{key:0},[s("input",{type:"range",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20 m-0 appearance-none touch-none",min:l.value,max:d.value,value:y.value,step:m.value,onInput:v,onChange:A,onMousedown:B,onTouchstart:B,onClick:K[0]||(K[0]=U=>U.target.blur())},null,40,Y9),s("div",J9,[s("div",{class:"h-full bg-transparent rounded-full",style:pe({width:`${S.value}%`})},null,4)]),s("div",{class:"absolute w-5 h-5 bg-blue-600 dark:bg-blue-500 rounded-full shadow transform -translate-y-0 -translate-x-1/2 transition-transform duration-100 hover:scale-110 active:scale-125 z-10",style:pe({left:`${S.value}%`})},null,4)],64))],512))}}),eD=G(q9,[["__scopeId","data-v-85dbdef9"]]),tD={class:"flex flex-col w-full touch-none"},oD={class:"relative"},sD=["onClick"],aD={class:"text-xs text-gray-600 dark:text-white whitespace-nowrap mt-1"},rD=ae({__name:"TimeSlider",props:{modelValue:{},timestamps:{},min:{},max:{}},emits:["update:modelValue","manual"],setup(i,{emit:e}){const t=i,o=e,a=H(null),r=H([]),n=de(()=>t.min??0),l=de(()=>t.max??t.timestamps.length-1);Ge(()=>{d(),window.addEventListener("resize",d)}),qi(()=>{window.removeEventListener("resize",d)});const d=()=>{if(!a.value||t.timestamps.length===0)return;const N=a.value.clientWidth,S=Math.max(2,Math.floor(N/40));if(t.timestamps.length<=S){r.value=t.timestamps.map((B,I)=>I);return}const v=(t.timestamps.length-1)/(S-1),A=[];for(let B=0;B<S;B++)A.push(Math.round(B*v));r.value=A};tt(()=>t.timestamps,d);const m=N=>{o("update:modelValue",N),o("manual")},h=N=>{const w=r.value.length;return w===1?0:N/(w-1)*100},f=N=>{o("update:modelValue",N)},y=()=>{o("manual")};return(N,w)=>(c(),p("div",tD,[s("div",oD,[s("div",null,[b(eD,{"model-value":N.modelValue,min:n.value,max:l.value,"onUpdate:modelValue":f,onManual:y},null,8,["model-value","min","max"])]),s("div",{ref_key:"ticksContainerRef",ref:a,class:"relative -mt-2 w-full z-10 pb-1"},[(c(!0),p(z,null,ee(r.value,(S,v)=>(c(),p("div",{key:S,class:"absolute -translate-x-1/2 flex flex-col items-center cursor-pointer",style:pe({left:`${h(v)}%`}),onClick:A=>m(S)},[s("div",aD,_(N.timestamps[S]),1)],12,sD))),128))],512)])]))}}),iD=G(rD,[["__scopeId","data-v-a67df518"]]),nD={key:0,class:"-mt-2"},lD=ae({__name:"RadarPlaybackSlider",setup(i){const e=ot(),{playbackIdx:t,hasBufferedScans:o}=Oe(e),a=H(0),r=H({}),{scanDatetime:n}=Oe(g.activeMap().stores.radar);console.log("scanDatetime",n.value),tt(n,y=>{y?r.value={...C.radar.bufferedRadarScans}:r.value={}}),Ge(()=>{o.value&&(r.value={...C.radar.bufferedRadarScans})});const l=de(()=>{const y=new Set;return g.mapboxMaps().forEach(N=>{const w=N.stores.radar.activeProductCode;w&&y.add(w)}),Array.from(y)}),d=de(()=>{if(!r.value)return[];for(const y of l.value){const N=r.value[y];if(N&&N.length>1)return N.map(w=>w.datetime)}return[]}),m=y=>j.utc(y).local().format("HH:mm"),h=de(()=>d.value.map(m));tt(t,y=>{y>=0&&y<d.value.length&&(a.value=y)});const f=()=>{e.stopPlayback()};return tt(a,(y,N,w)=>{if(!o.value)return;const v=g.activeMap().stores.radar.activeTowerId,A=g.mapboxMaps().map(B=>B.stores.radar.activeProductCode);e.playbackIdx=y,C.radar.playScan(v,A)}),(y,N)=>u(o)?(c(),p("div",nD,[b(iD,{modelValue:a.value,"onUpdate:modelValue":N[0]||(N[0]=w=>a.value=w),timestamps:h.value,onManual:f},null,8,["modelValue","timestamps"])])):x("",!0)}}),cD={name:"RadarDrawer",setup(){const i=At("drawerTab"),e=At("controls"),t=At("slider"),o=At("activeRadarText"),a=Cr();return Ge(()=>{const{direction:r}=Fs(i,{onSwipe(l){r.value==="down"&&a.proxy.isOpen&&a.proxy.toggleDrawer(l),r.value==="up"&&!a.proxy.isOpen&&a.proxy.toggleDrawer(l),l.stopPropagation()}}),{direction:n}=Fs(o,{onSwipeEnd(l){const d=n.value;(d==="left"||d==="right")&&a.proxy.onProductSwipe(d),l.stopPropagation()}})}),{drawerTab:i,isNavigatorStandalone:ei,controls:e,slider:t,App:C}},data(){return{isOpen:!1,dynamicProductTiles:["REF","VEL","CC","SW"],view:"PRODUCTS"}},directives:{"on-click-outside":De},components:{Icon:T,RadarTilts:A6,DynamicProductTile:mr,RadarSettings:x9,RadarColortables:$9,DynamicProductTile:mr,RadarPlaybackControls:Z9,RadarPlaybackSlider:lD},computed:{radarTowersStore(){return ot()},radarSettings(){return Dt()},appStore(){return xe()},mapsStore(){return bs()},mapRadar(){return g.activeMap().stores.radar},mapRadars(){return g.mapboxMaps().map(i=>i.stores.radar)},productsGrid(){return this.mapRadar.towerProducts.filter(i=>i.tilts.length).reduce((i,e,t)=>{const o=Math.floor(t/3);return(i[o]=i[o]||[]).push(e),i},[])},productGroup(){return this.mapRadar.activeProductGroup},playButtonIcon(){return this.isPlaybackBuffering?"eos-icons:three-dots-loading":this.radarTowersStore.isPlaying?"ph:pause-fill":"ph:play-fill"},isPlaybackBuffering(){return this.radarTowersStore.isPlaybackBuffering}},watch:{"radarTowersStore.anyActive":{handler(i){i||(this.isOpen=!1)}},isOpen:{handler(i){this.appStore.radar_drawer_open=i}}},unmounted(){this.radarTowersStore.inspectorActive=!1},methods:{getImageUrl(i){return new URL(Object.assign({"../assets/product-tiles/CC.png":n6,"../assets/product-tiles/DTA.png":l6,"../assets/product-tiles/EET.png":c6,"../assets/product-tiles/HCA.png":d6,"../assets/product-tiles/KDP.png":u6,"../assets/product-tiles/OHA.png":p6,"../assets/product-tiles/PRT.png":m6,"../assets/product-tiles/REF.png":h6,"../assets/product-tiles/SRV.png":g6,"../assets/product-tiles/SW.png":f6,"../assets/product-tiles/VEL.png":y6,"../assets/product-tiles/VIL.png":N6,"../assets/product-tiles/ZDR.png":v6})[`../assets/product-tiles/${i}.png`],import.meta.url).href},openDrawer(){this.isOpen=!0},closeDrawer(){this.isOpen=!1},toggleDrawer(i){const e=[this.$refs.controls,this.$refs.slider].some(t=>t&&(t===i.target||t.contains(i.target)));if(!document.body.contains(i.target)||e)return!1;this.isOpen?this.closeDrawer():this.openDrawer()},async onProductClick(i,e){this.productGroup=e;const t=e.tilts[0].product;this.mapRadar.activeProductCode!==t&&await C.radar.changeRadarProduct(g.activeMap(),this.mapRadar.activeTowerId,t)},onSliceClick(i){},async onPlaybackSliderInput(i){if(this.radarTowersStore.stopPlayback(),!this.radarTowersStore.hasBufferedScans)return;const t=g.activeMap().stores.radar.activeTowerId,o=g.mapboxMaps().map(a=>a.stores.radar.activeProductCode);try{C.radar.playScan(t,o)}catch(a){console.error("Failed to play radar scan",a)}},onPlaybackKeyDown(i){if(i.keyNum===32)return i.preventDefault(),!1},onMapTabClick(i){this.mapsStore.activeMapId=i.id},showProductHelp(i){const e=this.productGroup;if(typeof e.help!="string")return alert("Unable to locate help information");C.radar.openRadarProductHelpModal(e)},showExtraHelp(i){let e,t;if(i==="VCP")e="Volume Coverage Pattern (VCP)",t=`To capture as much atmospheric data as possible, the WSR-88D uses a volumetric scanning strategy. This involves the radar antenna scanning not just near the ground but also at various elevation angles, allowing it to gather vertical data. This approach helps forecasters better assess the depth and intensity of storms, especially when storms are close to the radar site.

To understand how Volume Coverage Patterns (VCPs) work, it's essential to know the two main operating modes: clear air mode and precipitation mode. Clear air mode, as the name implies, is used during calm weather. In this mode, the radar scans fewer elevation angles at a slower pace, reducing wear on its components. When the radar detects precipitation while in clear air mode, it automatically switches to precipitation mode. In precipitation mode, the radar scans 14 or 15 elevation angles, depending on the VCP being used, at a faster rate.`;else if(i==="STORM_TRACKS")e="Storm Tracks",t="The Storm Tracks product is a powerful radar-based tool used for tracking the movement and intensity of storms in real-time. It utilizes data from a weather radar system to monitor severe weather events, including thunderstorms, hail, and tornadoes. By analyzing storm motion and characteristics, the Storm Tracks product provides detailed information on storm paths, estimated speed, direction, and projected areas affected. This product is essential for meteorologists, emergency responders, and weather enthusiasts, enabling more accurate predictions and timely warnings to help safeguard communities from severe weather impacts.";else if(i==="LIGHTNING")e="Lightning",t="This overlay displays precise locations of recent lightning strikes, with lightning strike markers that gradually fade out as time elapses, helping you stay aware of developing storms and potential lightning threats.";else if(i==="COLORTABLES")e="Color Tables",t="The colortable feature gives you powerful customization options to enhance radar imagery interpretation. By adjusting color scales, you can represent different intensities of reflectivity, wind speeds, and more, using color gradients that best fit their needs. In addition to selecting from predefined color schemes, you can upload their own .pal colortables, adding a further level of personalization and flexibility.";else if(i==="PLAYBACK_SPEED")e="Playback Speed",t="Customize how quickly the weather radar animations display. Choose from Slow, Normal, or Fast to view precipitation and storm movements at a pace that suits your preference.";else if(i==="SMOOTHING")e="Smoothing",t="Radar smoothing reduces visual noise in radar imagery by averaging adjacent pixels to produce a clearer display of weather patterns. This enhancement makes it easier to see the general trend/weather pattern.";else if(i==="GATE_FILTERING")e="Reflectivity Gate Filtering",t="Reflectivity gate filtering removes spurious radar echoes by applying threshold criteria to individual radar gates. This reduces clutter and interference, resulting in cleaner radar imagery.";else if(i==="MAX_SCANS")e="Max Scans",t="Max scans lets you set the maximum number of radar scans displayed during playback, providing a longer historical view of the storm. This feature enables you to see more of the storm's evolution in one continuous overview.";else if(i==="3D_RADAR")e="3D Radar",t="3D Radar displays radar scans in a lifelike, three-dimensional format, simulating the beam's gradual rise from the tower into the sky. By pitching the map, you gain an immersive view that mirrors how radar scans extend upward in the real world.";else{if(i==="GAWX")return he.gawx();if(i==="UNIT_REFLECTIVITY")e="Reflectivity Unit",t="- <strong>dBZ</strong> (decibels relative to Z) is a logarithmic unit that quantifies radar reflectivity, indicating precipitation intensity—higher values mean heavier rainfall.<br>- <strong>dBZ with Rainfall Rate (RR)</strong>, is derived from dBZ using a Z-R relationship, directly estimating how much rain falls over a specific period.";else if(i==="UNIT_VELOCITY")e="Velocity Unit",t="Velocity data, typically measured in meters per second (m/s), represents the speed at which precipitation or targets move along the radar beam. Derived from the Doppler effect, positive values indicate motion away from the radar while negative values indicate motion toward it, helping to identify wind patterns and storm rotation.";else if(i==="TOWER_ICON_DESIGN")e="Tower Icon",t="Customize the radar tower icon on the map with either a standard dot or a pill that shows the tower code.";else if(i==="SECONDARY_TOWER_VISIBILITY")e="Secondary Towers",t="Toggle the visibility of Secondary Towers. Secondary Towers are made up of T Towers and other privately owned towers. Their radar coverage is generally smaller than the primary towers. They are displayed as a yellow dot on the map.";else if(i==="OPACITY")e="Opacity",t="Adjust the opacity of the radar imagery. This can be useful to reduce the brightness of the radar imagery, or to make the map more readable.";else if(i==="RADIUS_VISIBILITY")e="Range Ring Visibility",t="Adjust the visibility of the radar range ring. This can be useful for visualizing the radar coverage area.";else return alert("Unable to locate help information")}const o=ne({defaultModelValue:!0,component:Ae,attrs:{title:e},slots:{default:le({component:Yr,attrs:{text:t,onClose(){o.close()}}})}})},getVCPName:Jn,onBackToProducts(){this.view="PRODUCTS",this.scrollToTop()},onColortableChangeClick(){this.view="COLORTABLES",this.scrollToTop()},scrollToTop(){this.$refs["scrollable-content"].scrollTop=0},async onProductSwipe(i){const e=this.productsGrid.flat();if(e.length===0)return;const t=this.productGroup.id,o=e.findIndex(d=>d.id===t);if(o===-1)return;const r=(o+(i==="left"?1:-1)+e.length)%e.length,n=e[r];if(!n)return;const l=n.tilts[0].product;if(this.mapRadar.activeProductCode!==l)try{await C.radar.changeRadarProduct(g.activeMap(),this.mapRadar.activeTowerId,l)}catch(d){console.error("Failed to change radar product via swipe",d)}}}},dD={key:0,class:"fixed bottom-1 left-0 px-1 z-[28] w-full sm:w-auto sm:ml-2 sm:bottom-2"},uD={class:"flex justify-between h-[49.5px] items-center"},pD={class:"max-w-56 truncate",ref:"activeRadarText"},mD={key:0},hD={class:"truncate"},gD=["textContent"],fD=["textContent"],yD={class:"text-xs"},ND=["textContent","title"],vD={key:0,class:"font-black text-red-800 dark:text-red-500 live-text ml-2"},bD={key:1},wD=["textContent"],xD=["textContent"],_D={key:0},SD={class:"text-xs"},kD={key:0},AD=["textContent","title"],CD={key:0},TD={key:0,class:"font-black text-red-800 dark:text-red-500 live-text ml-2"},BD={class:"w-3/4 pl-3 pr-1",ref:"slider"},DD={ref:"controls"},ID={key:0,ref:"scrollable-content",class:"flex-grow flex flex-col border-t border-gray-200 overflow-y-auto"},ED={key:0},LD={key:0,class:"px-2 mt-2"},RD={class:"text-sm font-medium text-center text-gray-500 rounded-lg shadow flex"},FD={class:"w-full focus-within:z-10"},MD=["onClick"],PD={key:0,class:"font-bold"},HD={class:"flex justify-start items-start m-3 select-none"},zD={class:"w-7/12 text-sm"},OD={class:"text-xs sm:text-sm"},KD=["textContent","title"],UD={key:0,class:"text-xs sm:text-sm mt-1"},$D={class:"font-bold"},XD={key:0,class:"font-bold"},WD={class:"text-right relative w-5/12"},VD=["onClick"],GD=["src","alt"],jD=["textContent"],ZD={key:0,class:"text-xs mt-3 mb-1 text-center"},YD={key:1,class:"text-xs mt-3 mb-1 text-center"},JD={class:"p-5 pt-1"},QD={key:1},qD={class:"m-4"};function e8(i,e,t,o,a,r){const n=Ie("Icon"),l=Ie("RadarPlaybackSlider"),d=Ie("RadarPlaybackControls"),m=Ie("RadarTilts"),h=Ie("DynamicProductTile"),f=Ie("RadarSettings"),y=Ie("RadarColortables"),N=en("on-click-outside");return r.radarTowersStore.anyActive?V((c(),p("div",dD,[s("div",{class:O(["drawer-container transition-all duration-300 ease-in-out bg-white dark:bg-ww-blue rounded-2xl shadow-lg flex flex-col text-black dark:text-white w-full sm:w-[375px] md:w-[425px]",{"drawer-open":a.isOpen,"drawer-closed":!a.isOpen,"drawer-fullscreen":o.isNavigatorStandalone()}])},[s("div",{onClick:e[0]||(e[0]=w=>r.toggleDrawer(w)),ref:"drawerTab",class:O(["cursor-pointer rounded-t-2xl px-2 flex flex-col justify-center",{"h-full":!a.isOpen,"pb-4":!a.isOpen&&o.isNavigatorStandalone()}])},[s("div",uD,[V(s("div",null,[s("div",pD,[r.mapsStore.maps.length===1?(c(),p("div",mD,[s("div",hD,[s("span",{class:"font-bold",textContent:_(r.radarTowersStore.activeTower.properties.code)},null,8,gD),e[6]||(e[6]=s("span",{class:"mx-1"},"•",-1)),s("span",{class:"font-bold",textContent:_(r.productGroup.name)},null,8,fD)]),s("div",yD,[r.mapRadar.scanDatetime===null?(c(),p(z,{key:0},[L("Loading...")],64)):(c(),p(z,{key:1},[e[7]||(e[7]=s("span",{class:""},"Scan At: ",-1)),s("span",{textContent:_(r.mapRadar.scanLocalTime),title:`UTC: ${r.mapRadar.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":!r.radarTowersStore.isPlaying&&r.mapRadar.scanIsOld&&!r.radarTowersStore.hasBufferedScans}])},null,10,ND),!r.radarTowersStore.isPlaying&&r.mapRadar.scanIsNew&&!r.radarTowersStore.hasBufferedScans?(c(),p("span",vD,"Live")):x("",!0)],64))])])):(c(),p("div",bD,[s("div",null,[s("span",{class:"font-bold",textContent:_(r.radarTowersStore.activeTower.properties.code)},null,8,wD),e[8]||(e[8]=s("span",{class:"mx-1"},"•",-1)),(c(!0),p(z,null,ee(r.mapRadars,(w,S)=>(c(),p("span",null,[s("span",{class:"font-bold",textContent:_(w.activeProductGroup.name)},null,8,xD),S+1!==r.mapRadars.length?(c(),p("span",_D,", ")):x("",!0)]))),256))]),s("div",SD,[(c(!0),p(z,null,ee(r.mapRadars,(w,S)=>(c(),p(z,null,[w.scanDatetime===null?(c(),p(z,{key:0},[e[9]||(e[9]=s("span",null,"Loading...",-1)),S+1!==r.mapRadars.length?(c(),p("span",kD,", ")):x("",!0)],64)):(c(),p(z,{key:1},[s("span",{textContent:_(w.scanLocalTime),title:`UTC: ${w.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":!r.radarTowersStore.isPlaying&&w.scanIsOld&&!r.radarTowersStore.hasBufferedScans}])},null,10,AD),S+1!==r.mapRadars.length?(c(),p("span",CD,", ")):x("",!0)],64))],64))),256)),!r.radarTowersStore.isPlaying&&!r.radarTowersStore.hasBufferedScans?(c(),p("span",TD,"Live")):x("",!0)])]))],512)],512),[[be,!r.radarTowersStore.hasBufferedScans]]),V(b(n,{icon:a.isOpen?"gravity-ui:chevron-down-wide":"gravity-ui:chevron-up-wide",class:O(["self-center -ml-5",{"bottom-2":r.mapsStore.maps.length>1}])},null,8,["icon","class"]),[[be,!r.radarTowersStore.hasBufferedScans]]),V(s("div",BD,[b(l,{class:"w-full"})],512),[[be,r.radarTowersStore.hasBufferedScans]]),s("div",DD,[b(d)],512)])],2),a.isOpen?(c(),p("div",ID,[a.view==="PRODUCTS"?(c(),p("div",ED,[r.mapsStore.maps.length>1?(c(),p("div",LD,[s("ul",RD,[(c(!0),p(z,null,ee(r.mapsStore.maps,(w,S)=>(c(),p("li",FD,[s("a",{href:"#",class:O(["inline-block w-full p-2 font-bold border-gray-200 hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200",{"rounded-s-lg":S===0,"border-s-0 rounded-e-lg":S===r.mapsStore.maps.length-1,"border-r":S!==r.mapsStore.maps.length-1,"text-white bg-blue-700 hover:!bg-blue-800 hover:text-white active":w.id===r.mapsStore.activeMapId,"hover:text-gray-700 hover:bg-gray-50":S!==0}]),onClick:P(v=>r.onMapTabClick(w),["prevent"])},[r.mapsStore.maps.length<=4?(c(),p("span",PD,"Map")):x("",!0),L(" "+_(S+1),1)],10,MD)]))),256))])])):x("",!0),s("div",HD,[s("div",zD,[r.mapRadar.scanDatetime===null?(c(),p(z,{key:0},[L("Loading...")],64)):(c(),p(z,{key:1},[s("div",OD,[e[10]||(e[10]=s("span",null,"Scan At: ",-1)),s("span",{textContent:_(r.mapRadar.scanLocalDatetime),title:`UTC: ${r.mapRadar.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":!r.radarTowersStore.isPlaying&&r.mapRadar.scanIsOld&&!r.radarTowersStore.hasBufferedScans}])},null,10,KD),s("a",{href:"#",class:"ml-2 inline",onClick:e[1]||(e[1]=P(w=>r.showProductHelp(w),["prevent"]))},[b(n,{icon:"carbon:help",class:"size-4 inline"})])]),r.mapRadar.scanVcp!==null?(c(),p("div",UD,[e[11]||(e[11]=s("span",null,"VCP: ",-1)),s("span",$D,[L(_(r.mapRadar.scanVcp)+" ",1),r.getVCPName(r.mapRadar.scanVcp)?(c(),p("span",XD,"("+_(r.getVCPName(r.mapRadar.scanVcp))+")",1)):x("",!0)]),s("a",{href:"#",class:"ml-2 inline",onClick:e[2]||(e[2]=P(w=>r.showExtraHelp("VCP"),["prevent"]))},[b(n,{icon:"carbon:help",class:"size-4 inline"})])])):x("",!0)],64))]),s("div",WD,[b(m,{"product-group":r.productGroup},null,8,["product-group"])])]),s("div",null,[(c(!0),p(z,null,ee(r.productsGrid,w=>(c(),p("div",{key:w,class:"flex flex-nowrap space-x-4"},[(c(!0),p(z,null,ee(w,S=>(c(),p("div",{key:S,class:"flex-1 min-w-0 p-2 text-center select-none",onClick:v=>r.onProductClick(v,S)},[s("div",{style:{height:"60px",width:"60px"},class:O(["ml-auto mr-auto rounded-lg overflow-hidden cursor-pointer",{"border-sky-400 border border-4 rounded-lg":S.tilts.map(v=>v.product).includes(r.mapRadar.activeProductCode)}])},[a.dynamicProductTiles.includes(S.id)?(c(),q(h,{key:0,groupId:S.id,tableId:r.radarSettings.colortable[S.id]},null,8,["groupId","tableId"])):(c(),p("img",{key:1,src:r.getImageUrl(S.id),alt:S.name},null,8,GD))],2),s("div",{textContent:_(S.name),class:"text-sm mt-1"},null,8,jD)],8,VD))),128))]))),128))]),s("div",null,[this.radarTowersStore.activeTower.properties.id==="GAWX"?(c(),p("div",ZD,[s("p",null,[s("a",{href:"#",onClick:e[3]||(e[3]=P(w=>r.showExtraHelp("GAWX"),["prevent"])),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline",target:"_blank"},"Learn more about GAWX")])])):x("",!0),["CYPFO","CYLCA"].includes(this.radarTowersStore.activeTower.properties.id)?(c(),p("div",YD,e[12]||(e[12]=[s("p",null,[s("a",{href:"https://www.dom.org.cy/",target:"_blank",class:"font-medium text-blue-600 dark:text-blue-500 hover:underline"},"Credits: Cyprus Department of Meteorology")],-1),s("div",{class:"mt-3"},[s("a",{href:"https://www.dom.org.cy/",target:"_blank"},[s("img",{class:"rounded-xl",src:ii})])],-1)]))):x("",!0)]),s("div",JD,[b(f)])])):x("",!0),a.view==="COLORTABLES"?(c(),p("div",QD,[s("div",qD,[s("div",null,[s("button",{onClick:e[4]||(e[4]=(...w)=>r.onBackToProducts&&r.onBackToProducts(...w)),type:"button",class:"text-white bg-slate-400 dark:bg-ww-blue-200 dark:hover:bg-ww-blue-100 dark:text-white font-medium rounded-lg text-sm px-2 py-1 border border-gray-400 dark:border-gray-500"},[b(n,{icon:"octicon:chevron-left-12",class:"inline"}),e[13]||(e[13]=L("Back "))]),s("a",{href:"#",class:"ml-2 inline float-right",onClick:e[5]||(e[5]=P(w=>r.showExtraHelp("COLORTABLES"),["prevent"]))},[b(n,{icon:"carbon:help",class:"size-6 inline"})])]),s("div",null,[b(y)])])])):x("",!0)],512)):x("",!0)],2)])),[[N,[()=>o.App.isNativeApp()&&r.closeDrawer(),{ignore:[o.controls,o.slider]}]]]):x("",!0)}const t8=G(cD,[["render",e8],["__scopeId","data-v-0bf96908"]]),o8="/assets/ABI_Band13_Clean_Infrared-D932RpsI.png",s8="/assets/ABI_Band2_Red_Visible_1km-CgR8_F4o.png",a8="/assets/ABI_Dust-BmEVSG1g.png",r8="/assets/ABI_FireTemp-CsJzMK9F.png",i8="/assets/ABI_GeoColor-DLSMdhFz.png",n8={name:"SatelliteDrawer",setup(){const i=H(null),e=Cr();return Ge(()=>{const{direction:t}=Fs(i,{onSwipe(o){t.value==="down"&&e.proxy.isOpen&&e.proxy.toggleDraw(o),t.value==="up"&&!e.proxy.isOpen&&e.proxy.toggleDraw(o),o.stopPropagation()}})}),{drawTab:i,isNavigatorStandalone:ei}},data(){return{isOpen:!1}},components:{Icon:T},computed:{satelliteStore(){return Jr()},appStore(){return xe()},mapsStore(){return bs()},mapSatellite(){return g.activeMap().stores.satellite},mapSatellites(){return g.mapboxMaps().map(i=>i.stores.satellite)},satellites(){return Rt}},watch:{"satelliteStore.anyActive":{handler(i){i||(this.isOpen=!1)}}},methods:{openDraw(){this.isOpen=!0},closeDraw(){this.isOpen=!1},toggleDraw(i){if(!document.body.contains(i.target)||this.$refs.controls.contains(i.target)&&this.$refs.controls!==i.target)return!1;this.isOpen?this.closeDraw():this.openDraw()},showProductHelp(i){C.satellite.openSatelliteProductHelpModal(this.mapSatellite.activeSatelliteId,this.mapSatellite.activeProductCode)},showSatelliteHelp(i){C.satellite.openSatelliteHelpModal(this.mapSatellite.activeSatelliteId)},onSatelliteChange(i){g.forEach(e=>{C.satellite.turnOnSatellite(e,this.mapSatellite.activeSatelliteId)})},onProductClick(i,e){this.mapSatellite.activeProductCode!==e.id&&C.satellite.changeSatelliteProduct(g.activeMap(),this.mapSatellite.activeSatelliteId,e.id)},onMapTabClick(i){this.mapsStore.activeMapId=i.id},getImageUrl(i){return new URL(Object.assign({"../assets/satellite-products/ABI_Band13_Clean_Infrared.png":o8,"../assets/satellite-products/ABI_Band2_Red_Visible_1km.png":s8,"../assets/satellite-products/ABI_Dust.png":a8,"../assets/satellite-products/ABI_FireTemp.png":r8,"../assets/satellite-products/ABI_GeoColor.png":i8})[`../assets/satellite-products/${i}.png`],import.meta.url).href}}},l8={key:0,class:"fixed bottom-1 left-0 px-1 z-[26] w-full sm:w-auto sm:ml-2 sm:bottom-2"},c8={class:"w-full text-left"},d8={key:0},u8={class:"truncate"},p8=["textContent"],m8=["textContent"],h8={class:"text-xs"},g8=["textContent","title"],f8={key:1},y8={class:"truncate"},N8=["textContent"],v8=["textContent"],b8={key:0},w8={class:"text-xs"},x8={key:0},_8=["textContent","title"],S8={key:0},k8={class:"hidden text-right",ref:"controls"},A8={class:"flex-grow flex flex-col border-t border-gray-200 dark:border-gray-700 overflow-y-auto"},C8={key:0,class:"px-2 mt-2"},T8={class:"text-sm font-medium text-center text-gray-500 rounded-lg shadow flex"},B8={class:"w-full focus-within:z-10"},D8=["onClick"],I8={key:0,class:"font-bold"},E8={class:"flex justify-start items-start m-3 select-none"},L8={class:"text-sm"},R8={key:1,class:"text-xs sm:text-sm"},F8=["textContent","title"],M8={class:"mx-3"},P8={class:"flex"},H8=["value","textContent"],z8={class:"grid grid-cols-3 gap-4"},O8=["onClick"],K8=["src","alt"],U8=["textContent"];function $8(i,e,t,o,a,r){const n=Ie("Icon");return r.satelliteStore.anyActive?(c(),p("div",l8,[s("div",{class:O(["drawer-container transition-all duration-300 ease-in-out bg-white dark:bg-ww-blue rounded-2xl shadow-lg flex flex-col text-black dark:text-white sm:w-[375px] md:w-[425px]",{"drawer-open":a.isOpen,"drawer-closed":!a.isOpen,"drawer-fullscreen":o.isNavigatorStandalone()}])},[s("div",{onClick:e[0]||(e[0]=l=>r.toggleDraw(l)),ref:"drawTab",class:O(["flex relative items-center justify-center cursor-pointer rounded-t-2xl px-4",{"py-2":a.isOpen,"h-full":!a.isOpen,"pb-4":!a.isOpen&&o.isNavigatorStandalone()}])},[s("div",c8,[r.mapsStore.maps.length===1?(c(),p("div",d8,[s("div",u8,[s("span",{class:"font-bold",textContent:_(r.mapSatellite.activeSatellite.name)},null,8,p8),e[5]||(e[5]=s("span",{class:"mx-1"},"•",-1)),s("span",{class:"font-bold",textContent:_(r.mapSatellite.activeProduct.name)},null,8,m8)]),s("div",h8,[r.mapSatellite.scanDatetime===null?(c(),p(z,{key:0},[L("Loading...")],64)):(c(),p(z,{key:1},[e[6]||(e[6]=s("span",{class:""},"Scan At: ",-1)),s("span",{textContent:_(r.mapSatellite.scanLocalTime),title:`UTC: ${r.mapSatellite.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":r.mapSatellite.scanIsOld}])},null,10,g8)],64))])])):(c(),p("div",f8,[s("div",y8,[s("span",{class:"font-bold",textContent:_(r.mapSatellite.activeSatellite.name)},null,8,N8),e[7]||(e[7]=s("span",{class:"mx-1"},"•",-1)),(c(!0),p(z,null,ee(r.mapSatellites,(l,d)=>(c(),p("span",null,[s("span",{class:"font-bold",textContent:_(l.activeProduct.name)},null,8,v8),d+1!==r.mapSatellites.length?(c(),p("span",b8,", ")):x("",!0)]))),256))]),s("div",w8,[(c(!0),p(z,null,ee(r.mapSatellites,(l,d)=>(c(),p(z,null,[l.scanDatetime===null?(c(),p(z,{key:0},[e[8]||(e[8]=s("span",null,"Loading...",-1)),d+1!==r.mapSatellites.length?(c(),p("span",x8,", ")):x("",!0)],64)):(c(),p(z,{key:1},[s("span",{textContent:_(l.scanLocalTime),title:`UTC: ${l.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":!r.satelliteStore.isPlaying&&l.scanIsOld&&!r.satelliteStore.hasBufferedScans}])},null,10,_8),d+1!==r.mapSatellites.length?(c(),p("span",S8,", ")):x("",!0)],64))],64))),256))])]))]),b(n,{icon:a.isOpen?"gravity-ui:chevron-down-wide":"gravity-ui:chevron-up-wide",class:O(["absolute",{"bottom-2":r.mapsStore.maps.length>1}])},null,8,["icon","class"]),s("div",k8,null,512)],2),V(s("div",A8,[r.mapsStore.maps.length>1?(c(),p("div",C8,[s("ul",T8,[(c(!0),p(z,null,ee(r.mapsStore.maps,(l,d)=>(c(),p("li",B8,[s("a",{href:"#",class:O(["inline-block w-full p-2 font-bold border-gray-200 hover:text-gray-950 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-ww-blue-200",{"rounded-s-lg":d===0,"border-s-0 rounded-e-lg":d===r.mapsStore.maps.length-1,"border-r":d!==r.mapsStore.maps.length-1,"text-white bg-blue-700 hover:!bg-blue-800 hover:text-white active":l.id===r.mapsStore.activeMapId,"hover:text-gray-700 hover:bg-gray-50":d!==0}]),onClick:P(m=>r.onMapTabClick(l),["prevent"])},[r.mapsStore.maps.length<=4?(c(),p("span",I8,"Map")):x("",!0),L(" "+_(d+1),1)],10,D8)]))),256))])])):x("",!0),s("div",E8,[s("div",L8,[r.mapSatellite.scanDatetime===null?(c(),p(z,{key:0},[L("Loading...")],64)):(c(),p("div",R8,[e[9]||(e[9]=s("span",null,"Scan At: ",-1)),s("span",{textContent:_(r.mapSatellite.scanLocalDatetime),title:`UTC: ${r.mapSatellite.scanDatetime}`,class:O(["font-bold",{"bg-red-100 text-red-800 px-2.5 py-0.5 rounded-full":r.mapSatellite.scanIsOld}])},null,10,F8),s("a",{href:"#",class:"ml-2 inline",onClick:e[1]||(e[1]=P(l=>r.showProductHelp(l),["prevent"]))},[b(n,{icon:"carbon:help",class:"size-4 inline"})])]))])]),s("div",M8,[s("div",P8,[V(s("select",{class:"bg-gray-50 dark:bg-ww-blue-100 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 text-sm rounded-lg block w-full p-1","onUpdate:modelValue":e[2]||(e[2]=l=>r.mapSatellite.activeSatelliteId=l),onChange:e[3]||(e[3]=l=>r.onSatelliteChange(l))},[(c(!0),p(z,null,ee(r.satellites,l=>(c(),p("option",{value:l.id,textContent:_(l.name)},null,8,H8))),256))],544),[[Qe,r.mapSatellite.activeSatelliteId]]),s("a",{href:"#",class:"inline-flex items-center justify-center p-2 pl-4",onClick:e[4]||(e[4]=P(l=>r.showSatelliteHelp(l),["prevent"]))},[b(n,{icon:"carbon:help",class:"size-5 align-middle"})])])]),s("div",null,[s("div",null,[s("div",z8,[(c(!0),p(z,null,ee(r.mapSatellite.activeSatellite.products,(l,d)=>(c(),p("div",{class:"flex-1 min-w-0 p-2 text-center select-none",onClick:m=>r.onProductClick(m,l)},[s("div",{style:{height:"60px",width:"60px"},class:O(["ml-auto mr-auto rounded-lg overflow-hidden cursor-pointer",{"border-sky-400 dark:border-sky-500 border border-4 rounded-lg":r.mapSatellite.activeProductCode===l.id}])},[s("img",{src:r.getImageUrl(l.id),alt:l.name},null,8,K8)],2),s("div",{textContent:_(l.name),class:"text-sm mt-1"},null,8,U8)],8,O8))),256))])])])],512),[[be,a.isOpen]])],2)])):x("",!0)}const X8=G(n8,[["render",$8],["__scopeId","data-v-22c2a687"]]),W8={class:"py-1 flex flex-col-reverse md:flex-col",role:"none"};const V8={class:"py-1 flex flex-col-reverse md:flex-col",role:"none"},G8={class:"w-9 text-left"},j8={class:"border rounded-full p-1 bg-gradient-to-tr from-red-500 to-black white",style:{width:"25px",height:"25px"}},Z8={class:"w-9 text-left"},Y8={class:"w-9 text-left"},J8=["src"],Q8={class:"py-1 flex flex-col-reverse md:flex-col",role:"none"},q8={class:"relative"},eI={key:0,class:"bg-gray-50 dark:bg-ww-blue-200 py-1"},tI=["disabled"],oI={key:0},sI={key:1},aI=["disabled"],rI={key:0},iI={key:1},nI={key:0},lI={key:1},cI={key:0,class:"dark:border-gray-600"},dI={key:1,class:"py-1 flex flex-col-reverse md:flex-col"},uI=ae({__name:"Menu",setup(i){const e=xe(),t=we(),o=It(),a=aa(),r=ai(),{shareMap:n,screenshot:l,recordVideo:d,draw:m,toggleWatchMyPosition:h,toggleDrivingMode:f}=r,{toggle:y,isVisible:N}=ko(),{toggle:w,isVisible:S}=oa(),{showSettings:v,isVisible:A}=Yt(),{toggle:B,isVisible:I}=zo(),{toggle:R,isVisible:M}=Jt(),D=ri(),k=Qt(),{annotating:F}=Oe(k),E=bo(),{isLeftHanded:K}=Oe(E),U=H(null),{menu_open:X}=Oe(e),J=H(!1),$=H(!1),{recording:ce,screenshot:ue,recording_method:se}=Oe(et()),me=()=>{e.toggleMenu(!1),J.value=!1,$.value=!1},Re=()=>{e.toggleMenu(),J.value=!1,$.value=!1},Ue=Be(()=>w(),300),je=Be(()=>y(),300),it=Be(()=>B(),300),ft=()=>{setTimeout(()=>C.mp4.stop(),1e3),et().stop()},oe=()=>{ce.value||ue.value||(X.value=!1,d())},W=()=>{if(!C.shouldShowFeatures(ke)){console.warn("Feature unavailable in this version");return}C.isNativeApp()?No().open():he.upgradeThroughMobile()},re=Fe=>a.mode===Fe,Ee=()=>{if(!C.shouldShowFeatures(ke))return console.warn("Feature unavailable in this version"),!1;t.isAtleast(t.tiers.PLUS)?D.toggle(1):so("SPLIT_VIEW")},Xe=()=>{X.value=!1,he.auth()},pt=()=>{X.value=!1,he.userAccount()},Ze=new URL("/assets/yallmode-icon-Q2mHMXfi.svg",import.meta.url).href;return(Fe,Z)=>(c(),p("div",null,[b(at,{name:"slide-fade"},{default:ie(()=>[u(X)?V((c(),p("div",{key:0,class:O(["fixed sm:absolute bottom-[7.5rem] right-3 w-[50vw] max-w-[calc(100vw-2rem)] z-[27] md:w-64 md:top-20 md:left-3 md:bottom-auto bg-white dark:bg-ww-blue rounded-lg shadow ring-1 ring-black/5 dark:ring-white/10 focus:outline-none flex flex-col-reverse md:flex-col py-1 max-h-[calc(100vh-180px)] overflow-y-auto",{"left-3 right-auto":u(K)}])},[s("div",W8,[x("",!0),s("a",{href:"#",onClick:Z[3]||(Z[3]=P(Me=>{X.value=!1,u(l)()},["prevent"])),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none"},[b(u(T),{icon:"ion:camera",class:"mr-2 size-5"}),Z[21]||(Z[21]=L(" Screenshot "))]),u(qr).isSupported()?(c(),p("a",{key:1,href:"#",onClick:P(oe,["prevent"]),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 active:bg-gray-100 dark:active:bg-ww-blue-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1"},[b(u(T),{icon:"fluent:video-28-filled",class:"mr-2 size-5"}),Z[22]||(Z[22]=L(" Record MP4 "))])):x("",!0),s("a",{href:"#",onClick:Z[4]||(Z[4]=P(Me=>{X.value=!1,u(n)()},["prevent"])),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1"},[b(u(T),{icon:"fluent:share-ios-24-filled",class:"mr-2 size-5"}),Z[23]||(Z[23]=L(" Share Map "))])]),Z[38]||(Z[38]=s("hr",{class:"dark:border-gray-600"},null,-1)),s("div",V8,[s("button",{onClick:Z[5]||(Z[5]=P(Me=>u(je)(),["prevent"])),class:"flex px-3 pr-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white items-center"},[Z[24]||(Z[24]=s("span",{class:"w-9 text-left"},[s("img",{src:ta,class:"size-5"})],-1)),Z[25]||(Z[25]=s("div",null," Hazcams ",-1)),u(N)()?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)]),s("button",{onClick:Z[6]||(Z[6]=P(Me=>u(Ue)(),["prevent"])),class:"flex px-3 pr-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white items-center"},[s("span",G8,[s("div",j8,[b(u(T),{icon:"game-icons:binoculars",class:"ml-auto size-4 text-white relative left-[-0.5px]"})])]),Z[26]||(Z[26]=s("div",null," Spotter Network ",-1)),u(S)()?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)]),s("button",{onClick:Z[7]||(Z[7]=P(Me=>u(it)(),["prevent"])),class:"flex px-3 pr-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white items-center"},[Z[27]||(Z[27]=s("span",{class:"w-9 text-left"},[s("img",{src:sa,class:"size-[1.7rem]"})],-1)),Z[28]||(Z[28]=s("div",null," Storm Chasers ",-1)),u(I)()?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)]),s("button",{onClick:Z[8]||(Z[8]=P(Me=>{X.value=!1,u(he).userLocationsManager()},["prevent"])),class:"flex px-3 pr-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white items-center"},[s("span",Z8,[b(u(T),{icon:"mdi:map-marker-plus",class:"size-5"})]),Z[29]||(Z[29]=s("div",null," My Locations ",-1)),u(M)()?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)]),s("button",{onClick:Z[9]||(Z[9]=P(Me=>{X.value=!1,u(v)()},["prevent"])),class:"flex px-3 pr-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white items-center"},[s("span",Y8,[s("img",{src:u(Ze),class:"size-[1.6rem]"},null,8,J8)]),s("span",null,[Z[30]||(Z[30]=L("Y'all Mode ")),b(Ke,{class:"ml-1"})]),u(A)()?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)])]),Z[39]||(Z[39]=s("hr",{class:"dark:border-gray-600"},null,-1)),s("div",Q8,[u(C).shouldShowFeatures(u(ke))?(c(),p("a",{key:0,href:"#",onClick:Z[10]||(Z[10]=P(Me=>{X.value=!1,Ee()},["prevent"])),class:"group flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1",id:"menu-item-3"},[b(u(T),{icon:"f7:uiwindow-split-2x1",class:"mr-2 size-5"}),s("span",null,[Z[31]||(Z[31]=L("Split View ")),b(Ke,{class:"ml-1"})]),u(g).mapsToLoad().length>1?(c(),q(u(T),{key:0,icon:"pajamas:check",class:"ml-auto size-4"})):x("",!0)])):x("",!0),s("div",q8,[s("button",{onClick:Z[11]||(Z[11]=P(Me=>$.value=!$.value,["prevent"])),class:"w-full group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem"},[b(u(T),{icon:"lets-icons:map-light",class:"mr-2 size-5"}),Z[32]||(Z[32]=s("span",{class:""},"Navigation",-1)),b(u(T),{icon:$.value?"mingcute:up-line":"mingcute:down-line",class:"ml-auto size-4"},null,8,["icon"])]),$.value?(c(),p("div",eI,[u(Kt).isToDesktop()?x("",!0):(c(),p("button",{key:0,disabled:u(a).isLocating,onClick:Z[12]||(Z[12]=P(async()=>{await u(h)(),X.value=!1},["prevent"])),class:"group w-full flex items-center px-3 py-2 text-[0.8rem] text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none"},[b(u(T),{icon:"solar:map-arrow-up-outline",class:"mr-2 size-5"}),s("div",null,[u(a).isLocating?(c(),p("span",sI,"Locating...")):(c(),p("span",oI,"Locate Me"))]),V(b(u(T),{icon:"pajamas:check",class:"ml-auto size-4"},null,512),[[be,re(u(xt).STATIC)]])],8,tI)),s("button",{disabled:u(a).isLocating,onClick:Z[13]||(Z[13]=P(async()=>{await u(f)(),X.value=!1},["prevent"])),class:"group w-full flex items-center px-3 py-2 text-[0.8rem] text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none"},[b(u(T),{icon:"prime:car",class:"mr-2 size-5"}),s("div",null,[u(a).isLocating?(c(),p("span",iI,"Locating...")):(c(),p("span",rI,"Storm Chaser Mode"))]),V(b(u(T),{icon:"pajamas:check",class:"ml-auto size-4"},null,512),[[be,re(u(xt).DRIVING)]])],8,aI)])):x("",!0)]),s("a",{href:"#",onClick:Z[14]||(Z[14]=P(Me=>{X.value=!1,u(m)()},["prevent"])),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1"},[b(u(T),{icon:"mingcute:pencil-3-line",class:"mr-2 size-5"}),u(F)?(c(),p("span",lI,"Stop Drawing")):(c(),p("span",nI,"Draw"))])]),u(C).shouldShowFeatures(u(ke))||u(As)()?(c(),p("hr",cI)):x("",!0),u(C).shouldShowFeatures(u(ke))||u(As)()?(c(),p("div",dI,[u(C).shouldShowFeatures(u(ke))&&(!u(t).hasActiveSubscription()||u(t).canManage()&&u(C).isNativeApp())?(c(),p(z,{key:0},[u(t).hasActiveSubscription()?x("",!0):(c(),p("button",{key:0,onClick:Z[15]||(Z[15]=Me=>{X.value=!1,W()}),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1"},[b(u(T),{icon:"ph:shooting-star-light",class:"mr-2 size-5"}),s("span",null,[Z[33]||(Z[33]=s("strong",null,"Subscribe to",-1)),Z[34]||(Z[34]=L()),b(Ke,{class:"ml-1"})])])),u(t).canManage()&&u(C).isNativeApp()?(c(),p("button",{key:1,onClick:Z[16]||(Z[16]=Me=>{X.value=!1,u(t).manage()}),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none",role:"menuitem",tabindex:"-1"},[b(u(T),{icon:"mdi:subscriptions",class:"mr-2 size-5"}),Z[35]||(Z[35]=s("span",null,"Manage Subscription",-1))])):x("",!0)],64)):x("",!0),u(As)()?(c(),p(z,{key:1},[u(o).isAuthenticated()?(c(),p("button",{key:1,href:"#",onClick:P(pt,["prevent"]),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none"},[b(u(T),{icon:"mdi:account-circle",class:"mr-2 size-5"}),Z[37]||(Z[37]=s("span",null,"My Account",-1))])):(c(),p("button",{key:0,href:"#",onClick:P(Xe,["prevent"]),class:"group flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-ww-blue-200 active:text-gray-900 dark:active:text-white outline-none"},[b(u(T),{icon:"mdi:account-circle",class:"mr-2 size-5"}),Z[36]||(Z[36]=s("span",null,"Log In / Register",-1))]))],64)):x("",!0)])):x("",!0)],2)),[[u(De),[me,{ignore:[U.value]}]]]):x("",!0)]),_:1}),s("div",null,[u(ce)?(c(),p("button",{key:1,onClick:Z[17]||(Z[17]=P(Me=>ft(),["prevent"])),class:O(["bottom-16 right-3 md:top-4 md:right-auto md:left-3 fixed sm:absolute w-12 h-12 rounded-full transition-all duration-300 focus:outline-none bg-red-700 hover:bg-red-800 text-white active:scale-90 z-[19]",{"left-3 right-auto":u(K)}])},[b(u(T),{icon:"bi:stop-fill",class:"inline size-8"})],2)):(c(),p("button",{key:0,onClick:P(Re,["prevent"]),ref_key:"menuButton",ref:U,type:"button",class:O(["bottom-16 right-3 md:top-4 md:right-auto md:left-3 fixed sm:absolute w-12 h-12 rounded-full transition-all duration-300 focus:outline-none primary-button active:scale-90 z-[19]",{"left-3 right-auto":u(K)}])},[u(X)?(c(),q(u(T),{key:1,icon:"clarity:window-close-line",class:"inline size-8"})):(c(),q(u(T),{key:0,icon:"mingcute:menu-line",class:"inline size-8"}))],2))])]))}}),pI=G(uI,[["__scopeId","data-v-15be9eb7"]]),Vt=H({userPosition:null,isLocating:!1,isWatching:!1,error:null}),go=128,mI={width:go,height:go,data:new Uint8Array(go*go*4),onAdd:function(){const i=document.createElement("canvas");i.width=this.width,i.height=this.height,this.context=i.getContext("2d")},render:function(){const e=performance.now()%1e3/1e3,t=go/2*.3,o=go/2*.7*e+t,a=this.context;return a.clearRect(0,0,this.width,this.height),a.beginPath(),a.arc(this.width/2,this.height/2,o,0,Math.PI*2),a.fillStyle=`rgba(255, 100, 100, ${1-e})`,a.fill(),a.beginPath(),a.arc(this.width/2,this.height/2,t,0,Math.PI*2),a.fillStyle="rgba(255, 87, 34, 1)",a.strokeStyle="white",a.lineWidth=2+4*(1-e),a.fill(),a.stroke(),this.data=a.getImageData(0,0,this.width,this.height).data,g.triggerRepaint(),!0}},hI=i=>{const e={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[i.longitude,i.latitude]}}]};g.hasImage("ww-pulsing-dot")||g.addImage("ww-pulsing-dot",mI,{pixelRatio:2}),g.getSource("ww-dot-point")?g.getSource("ww-dot-point").setData(e):g.addSource("ww-dot-point",{type:"geojson",data:e}),g.getLayer("ww-location-pulsing-dot")||g.addLayer({id:"ww-location-pulsing-dot",type:"symbol",source:"ww-dot-point",layout:{"icon-image":"ww-pulsing-dot"}})},gI=async()=>{if(!navigator._geolocation){Vt.value.error=new Error("Geolocation is not supported.");return}Vt.value.isLocating=!0,Vt.value.error=null;try{if(await navigator._geolocation.requestPermission()==="denied")throw new Error("Please enable location permissions in your settings to use this feature.");const e=await Promise.race([navigator._geolocation.getCurrentPosition({enableHighAccuracy:!0,maximumAge:0}),new Promise((o,a)=>{setTimeout(()=>{a(new Error("Location request timed out. Please try again."))},15e3)})]);Vt.value.userPosition=e;const t=e.coords;await new Promise(o=>{g.flyTo({center:[t.longitude,t.latitude],zoom:8,essential:!0}),g.mapboxMapsFirst().once("moveend",o)}),hI(t);try{await C.radar.turnOnClosestRadar([t.longitude,t.latitude])}catch(o){console.warn("Failed to turn on radar:",o)}return e}catch(i){throw Vt.value.error=i,console.error("Error getting location:",i),i}finally{Vt.value.isLocating=!1,Vt.value.userPosition=null}},hr=wr(Vt),fI={key:0,class:"modal-overlay"},yI={class:"modal"},NI={key:1,class:"fullscreen"},vI={__name:"Modal",props:{isDesktop:{type:Boolean,default:!1}},setup(i){return(e,t)=>i.isDesktop?(c(),p("div",fI,[s("div",yI,[dt(e.$slots,"default",{},void 0,!0)])])):(c(),p("div",NI,[dt(e.$slots,"default",{},void 0,!0)]))}},bI=G(vI,[["__scopeId","data-v-cc635939"]]),wI="/assets/welcome-video-00vrh5z-.mp4",xI="/assets/welcome-video-Cl9z5kwt.png",_I={class:"dots"},SI=["onClick","aria-label"],kI={__name:"DotNavigation",props:{currentStep:{type:Number,required:!0}},emits:["update:step"],setup(i,{emit:e}){const t=e;return(o,a)=>(c(),p("div",_I,[(c(),p(z,null,ee(6,r=>s("button",{key:r,onClick:n=>t("update:step",r),class:O(["dot",{active:i.currentStep===r}]),"aria-label":`Go to step ${r}`},null,10,SI)),64))]))}},Ao=G(kI,[["__scopeId","data-v-8ece537a"]]),AI={class:"step"},CI={class:"video-container"},TI={__name:"Step1",emits:["update:step"],setup(i){const e=H(null);return Bt(()=>{e.value&&(e.value.pause(),e.value.src="")}),(t,o)=>(c(),p("div",AI,[s("div",CI,[s("video",{ref_key:"videoRef",ref:e,src:wI,poster:xI,class:"video",autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,512)]),o[1]||(o[1]=ye('<h1 class="mt-14 text-center text-[#1e293b] dark:text-white" data-v-2011353f>Welcome to Weather<span class="text-[#F6B91A] font-bold" data-v-2011353f>Wise</span></h1><div class="text-center mt-6" data-v-2011353f><p class="my-6 font-medium text-[#64748b] dark:text-slate-300" data-v-2011353f>Get all the details you need to keep yourself, your loved ones, and your property prepared for whatever nature throws your way.</p><p class="my-4 font-medium text-[#64748b] dark:text-slate-300" data-v-2011353f>We focus on the details that matter. That&#39;s why we deliver only the highest quality weather data, straight from the source to your screen.</p></div>',2)),b(Ao,{"current-step":1,"onUpdate:step":o[0]||(o[0]=a=>t.$emit("update:step",a))})]))}},gr=G(TI,[["__scopeId","data-v-2011353f"]]),BI="/assets/full-disk_satellite-pljcRQaY.jpeg",DI={class:"step"},II={__name:"Step2",emits:["update:step"],setup(i){return(e,t)=>(c(),p("div",DI,[t[1]||(t[1]=s("img",{src:BI,class:"object-contain rounded-lg w-full h-auto",alt:"GOES-East & GOES-West Full-Disk Satellite Imagery"},null,-1)),t[2]||(t[2]=s("h1",{class:"text-center mt-10 text-[#1e293b] dark:text-white"},[L("GOES-East & GOES-West"),s("br"),L("Full-Disk Satellite Imagery")],-1)),t[3]||(t[3]=s("p",{class:"text-center font-medium mt-10 text-[#64748b] dark:text-slate-300"},"We deliver the highest quality satellite imagery available. See the whole picture with full-disk imagery on top of an interactive map.",-1)),b(Ao,{"current-step":2,"onUpdate:step":t[0]||(t[0]=o=>e.$emit("update:step",o))})]))}},EI=G(II,[["__scopeId","data-v-9105a38b"]]),LI="/assets/radar-playback-oz7DKiKP.mp4",RI="/assets/radar-playback-B2893y_R.png",FI={class:"step"},MI={class:"video-container"},PI={__name:"Step3",emits:["update:step"],setup(i){const e=H(null);return Bt(()=>{e.value&&(e.value.pause(),e.value.src="")}),(t,o)=>(c(),p("div",FI,[s("div",MI,[s("video",{ref_key:"videoRef",ref:e,src:LI,poster:RI,class:"video",autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,512)]),o[1]||(o[1]=s("h1",{class:"text-center mt-10 text-[#1e293b] dark:text-white"},[L("Super Resolution Radar"),s("br"),L("Products with Playback")],-1)),o[2]||(o[2]=s("p",{class:"text-center font-medium mt-10 text-[#64748b] dark:text-slate-300"},"The devil is in the detail, that's why we only render the original, highest quality data direct from the weather radar tower - so you see it exactly as it was meant to be seen.",-1)),b(Ao,{"current-step":3,"onUpdate:step":o[0]||(o[0]=a=>t.$emit("update:step",a))})]))}},HI=G(PI,[["__scopeId","data-v-cca2032b"]]),zI="/assets/spc-outlooks-oP9SuSKr.jpeg",OI={class:"step"},KI={__name:"Step4",emits:["update:step"],setup(i){return(e,t)=>(c(),p("div",OI,[t[1]||(t[1]=s("img",{src:zI,class:"object-contain w-full h-auto rounded-lg",alt:"SPC Outlooks"},null,-1)),t[2]||(t[2]=s("h1",{class:"text-center mt-10 text-[#1e293b] dark:text-white"},[L("Storm Prediction Center"),s("br"),L("(SPC) Outlooks")],-1)),t[3]||(t[3]=s("p",{class:"text-center font-medium mt-10 text-[#64748b] dark:text-slate-300"},"Don't let severe weather sneak up on you. WeatherWise keeps you informed with NOAA outlooks, so you can take action before it's too late.",-1)),b(Ao,{"current-step":4,"onUpdate:step":t[0]||(t[0]=o=>e.$emit("update:step",o))})]))}},UI=G(KI,[["__scopeId","data-v-12f9e833"]]),$I="/assets/premium-plus-Dva6el8n.png",XI={class:"step"},WI={class:"flex-1 text-center"},VI={__name:"Step5",emits:["update:step","upgrade"],setup(i,{emit:e}){const t=e,o=()=>{t("upgrade")};return(a,r)=>(c(),p("div",XI,[s("div",WI,[r[1]||(r[1]=ye('<div class="mb-6" data-v-561c7b77><img src="'+$I+'" class="object-contain w-full h-auto rounded-lg" alt="SPC Outlooks" data-v-561c7b77></div><div class="flex items-center gap-2 justify-center" data-v-561c7b77><h2 class="text-2xl font-bold mb-2 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-transparent bg-clip-text" data-v-561c7b77> Upgrade Your Experience </h2></div><p class="text-xl mt-2 mb-6 text-gray-700 font-medium dark:text-white/90" data-v-561c7b77> Unlock premium features with <strong data-v-561c7b77>WeatherWise</strong><span class="ml-1 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] rounded px-1 font-bold text-white border border-[#FF5722]" data-v-561c7b77>Plus</span></p>',3)),u(C).shouldShowFeatures(u(ke))?(c(),p("button",{key:0,onClick:o,class:"px-8 py-3 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-white font-bold text-lg hover:shadow-lg transition-all duration-300 hover:scale-105"}," Upgrade Now ")):x("",!0),r[2]||(r[2]=ye('<div class="mt-4" data-v-561c7b77><h3 class="text-xl font-bold mb-4 text-[#FF5722] dark:text-[#F6B91A]" data-v-561c7b77>Other Premium Benefits:</h3><ul class="space-y-3" data-v-561c7b77><li class="flex items-center gap-3" data-v-561c7b77><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center" data-v-561c7b77><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-561c7b77><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-561c7b77></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90" data-v-561c7b77>Globe Projection: 3D Map</span></li><li class="flex items-center gap-3" data-v-561c7b77><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center" data-v-561c7b77><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-561c7b77><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-561c7b77></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90" data-v-561c7b77>Split View Radar Visuals</span></li><li class="flex items-center gap-3" data-v-561c7b77><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center" data-v-561c7b77><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-561c7b77><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-561c7b77></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90" data-v-561c7b77>Radar Smoothing</span></li><li class="flex items-center gap-3" data-v-561c7b77><div class="w-6 h-6 rounded-full bg-gradient-to-r from-[#F6B91A] to-[#FF5722] flex items-center justify-center" data-v-561c7b77><svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-561c7b77><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" data-v-561c7b77></path></svg></div><span class="text-gray-700 font-semibold dark:text-white/90" data-v-561c7b77>Enhanced Lightning Data</span></li></ul></div>',1))]),b(Ao,{"current-step":5,"onUpdate:step":r[0]||(r[0]=n=>a.$emit("update:step",n))})]))}},GI=G(VI,[["__scopeId","data-v-561c7b77"]]),jI="/assets/locate-EMqZ1ZIX.mp4",ZI="/assets/locate-BHxSVcoL.png",YI={class:"step"},JI={class:"video-container"},QI={__name:"Step6",emits:["update:step"],setup(i){const e=H(null);return Bt(()=>{e.value&&(e.value.pause(),e.value.src="")}),(t,o)=>(c(),p("div",YI,[s("div",JI,[s("video",{ref_key:"videoRef",ref:e,src:jI,poster:ZI,class:"video",autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},null,512)]),o[1]||(o[1]=s("h1",{class:"text-center mt-10 text-[#1e293b] dark:text-white"},[L("Locate your Nearest"),s("br"),L("Weather Radar Tower")],-1)),o[2]||(o[2]=s("p",{class:"text-center font-medium mt-10 text-[#64748b] dark:text-slate-300"}," Let's begin. Click the button below to locate your nearest radar tower. ",-1)),b(Ao,{"current-step":6,"onUpdate:step":o[0]||(o[0]=a=>t.$emit("update:step",a))})]))}},qI=G(QI,[["__scopeId","data-v-f64a097b"]]),eE={class:"onboarding mb-12 sm:mb-0"},tE={class:"navigation"},oE=["disabled"],sE={key:1,class:"arrow"},aE={__name:"OnboardingLayout",props:{currentStep:{type:Number,required:!0}},emits:["update:step","completion","close"],setup(i,{emit:e}){const t=i,o=e,a=H(!1),r=H("right"),n=H(1),l=[gr,EI,HI,UI,GI,qI],d=de(()=>l[t.currentStep-1]||gr);de(()=>t.currentStep<l.length);const m=()=>{t.currentStep<l.length?(n.value=t.currentStep,r.value="right",o("update:step",t.currentStep+1)):y()},h=()=>{y(),m()},f=()=>{a.value=window.innerWidth>=768},y=()=>{localStorage.setItem("onboardingComplete","true"),o("completion"),N()},N=()=>{o("close")},w=async()=>{try{await gI()}catch(S){console.error(S)}finally{y()}};return Ge(()=>{f(),window.addEventListener("resize",f)}),(S,v)=>(c(),q(bI,{"is-desktop":a.value},{default:ie(()=>[V((c(),p("div",eE,[b(at,{name:r.value==="right"?"slide-left":"slide-right",mode:"out-in"},{default:ie(()=>[(c(),q($s(d.value),{"current-step":i.currentStep,"onUpdate:step":v[0]||(v[0]=A=>S.$emit("update:step",A)),onUpgrade:v[1]||(v[1]=A=>S.$emit("upgrade",A))},null,40,["current-step"]))]),_:1},8,["name"]),s("div",tE,[s("button",{onClick:h,class:"skip"},"skip"),i.currentStep<l.length?(c(),p("button",{key:0,onClick:m,class:"next bg-[#F6B91A] text-[#2C3E50]"},v[2]||(v[2]=[s("span",null,"Next",-1),s("span",{class:"arrow"},"→",-1)]))):(c(),p("button",{key:1,onClick:w,disabled:u(hr).isLocating,class:"next bg-[#F6B91A] text-[#2C3E50]"},[v[3]||(v[3]=s("span",null,"Locate Me",-1)),u(hr).isLocating?(c(),q(u(T),{key:0,icon:"eos-icons:three-dots-loading",class:"inline size-8"})):(c(),p("span",sE,"→"))],8,oE))])])),[[u(De),N]])]),_:1},8,["is-desktop"]))}},rE=G(aE,[["__scopeId","data-v-b4758f3e"]]),iE={key:0,id:"recording-glow-effect"},nE={name:"RecordingGlowEffect",data(){return{}},computed:{recordingStore:()=>et()},mounted(){},methods:{}},lE=Object.assign(nE,{setup(i){return(e,t)=>e.recordingStore.recording?(c(),p("div",iE)):x("",!0)}}),cE=G(lE,[["__scopeId","data-v-8a840232"]]),dE=ae({__name:"ColorPicker",emits:["update:modelValue","onOpen"],setup(i,{emit:e}){const t=Qt(),{lineColor:o}=Oe(t),a=e,r=(F,E,K)=>{F/=255,E/=255,K/=255;const U=Math.max(F,E,K),X=Math.min(F,E,K),J=U-X;let $=0,ce=U===0?0:J/U,ue=U;if(J!==0){switch(U){case F:$=(E-K)/J%6;break;case E:$=(K-F)/J+2;break;case K:$=(F-E)/J+4;break}$*=60,$<0&&($+=360)}return{h:Math.round($),s:Math.round(ce*100),b:Math.round(ue*100)}},n=H(!1),l=H({r:o.value[0],g:o.value[1],b:o.value[2],a:o.value[3]}),d=r(l.value.r,l.value.g,l.value.b),m=H(d.h),h=H(d.s),f=H(d.b),y=H(!1),N=H("bottom"),w=H(null),S=()=>{var E;const F=(E=w.value)==null?void 0:E.getBoundingClientRect();F&&(N.value=F.y>250?"bottom":"top")},v=F=>"touches"in F?{clientX:F.touches[0].clientX,clientY:F.touches[0].clientY}:{clientX:F.clientX,clientY:F.clientY},A=F=>`rgba(${F.r}, ${F.g}, ${F.b}, ${F.a})`,B=(F,E,K)=>{F=F/360,E=E/100,K=K/100;let U,X,J;if(E===0)U=X=J=K;else{const $=Math.floor(F*6),ce=F*6-$,ue=K*(1-E),se=K*(1-ce*E),me=K*(1-(1-ce)*E);switch($%6){case 0:U=K,X=me,J=ue;break;case 1:U=se,X=K,J=ue;break;case 2:U=ue,X=K,J=me;break;case 3:U=ue,X=se,J=K;break;case 4:U=me,X=ue,J=K;break;case 5:U=K,X=ue,J=se;break;default:U=0,X=0,J=0}}return{r:Math.round(U*255),g:Math.round(X*255),b:Math.round(J*255)}},I=()=>{const F=B(m.value,h.value,f.value);l.value={...F,a:l.value.a},a("update:modelValue",[l.value.r,l.value.g,l.value.b,l.value.a])},R=F=>{F.preventDefault(),F.stopPropagation(),y.value=!0;const K=F.currentTarget.getBoundingClientRect(),U=$=>{const ce=v($),ue=Math.max(0,Math.min(K.width,ce.clientX-K.left));m.value=Math.round(ue/K.width*360),I()};U(F);const X=$=>{$.preventDefault(),$.stopPropagation(),U($)},J=()=>{y.value=!1,window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",X),window.removeEventListener("touchend",J)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",J),window.addEventListener("touchmove",X,{passive:!1}),window.addEventListener("touchend",J)},M=F=>{F.preventDefault(),F.stopPropagation(),y.value=!0;const K=F.currentTarget.getBoundingClientRect(),U=$=>{const ce=v($),ue=Math.max(0,Math.min(1,(ce.clientX-K.left)/K.width)),se=Math.max(0,Math.min(1,(ce.clientY-K.top)/K.height));h.value=Math.round(ue*100),f.value=Math.round((1-se)*100),I()};U(F);const X=$=>{$.preventDefault(),U($)},J=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",J),document.removeEventListener("touchmove",X),document.removeEventListener("touchend",J)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",J),document.addEventListener("touchmove",X,{passive:!1}),document.addEventListener("touchend",J)},D=F=>{F.stopPropagation(),S(),n.value=!n.value,n.value===!0&&a("onOpen")},k=F=>{if(y.value)return;F.target.closest(".color-picker-container")||(n.value=!1)};return Ge(()=>{document.addEventListener("click",k)}),Bt(()=>{document.removeEventListener("click",k)}),(F,E)=>V((c(),p("div",{ref_key:"colorPickerRef",ref:w,class:"relative",onMousedown:E[1]||(E[1]=P(()=>{},["stop"]))},[s("button",{onClick:D,onTouchstart:P(D,["prevent"]),class:"w-9 h-9 sm:h-10 sm:w-10 md:h-11 md:w-11 rounded flex items-center justify-center cursor-pointer p-0 border border-gray-200 dark:border-gray-700",style:pe({backgroundColor:A(l.value)}),title:"Color Picker"},[b(u(T),{icon:"mdi:eyedropper",class:"eyedropper-icon"})],36),V(s("div",{class:O(`absolute ${N.value}-[calc(100%+0.5rem)] left-0 bg-white dark:bg-ww-blue rounded-lg shadow-lg dark:shadow-gray-900/50 p-4 w-60 z-10`)},[s("div",{class:"saturation-brightness-area",onMousedown:M,onTouchstart:M,style:pe({backgroundColor:`hsl(${m.value}, 100%, 50%)`})},[E[2]||(E[2]=s("div",{class:"white-gradient"},null,-1)),E[3]||(E[3]=s("div",{class:"black-gradient"},null,-1)),s("div",{class:"picker-cursor",style:pe({left:`${h.value}%`,top:`${100-f.value}%`,backgroundColor:A(l.value)})},null,4)],36),s("div",{class:"hue-slider",onMousedown:P(R,["prevent"]),onTouchstart:P(R,["prevent"]),onClick:E[0]||(E[0]=P(()=>{},["stop"]))},[s("div",{class:"hue-cursor",style:pe({left:`${m.value/360*100}%`})},null,4)],32)],2),[[be,n.value]])],32)),[[u(De),[()=>n.value=!1,{ignore:[]}]]])}}),uE=G(dE,[["__scopeId","data-v-212c0c60"]]),pE={class:"flex flex-col gap-4 w-full p-2 touch-none"},mE={class:"flex items-center gap-2"},hE={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},gE={class:"flex items-center gap-4"},fE={class:"w-12 h-12 flex items-center justify-center"},yE=ae({__name:"BrushSizeSlider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(i,{emit:e}){const t=Qt(),o=i,a=e,r=H(null),n=H(!1),l=de(()=>o.min??1),d=de(()=>o.max??50),m=de(()=>(o.modelValue-l.value)/(d.value-l.value)*100),h=w=>{const S=r.value;if(!S)return;const v=S.getBoundingClientRect(),B=Math.max(0,Math.min(w-v.left,v.width))/v.width,I=Math.round(B*(d.value-l.value)+l.value);a("update:modelValue",I)},f=w=>{w.preventDefault(),w.stopPropagation(),n.value=!0;const S="touches"in w?w.touches[0].clientX:w.clientX;h(S),"touches"in w?(document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",N),document.addEventListener("touchcancel",N)):(document.addEventListener("mousemove",y),document.addEventListener("mouseup",N))},y=w=>{if(!n.value)return;w.preventDefault(),w.stopPropagation();const S="touches"in w?w.touches[0].clientX:w.clientX;h(S)},N=()=>{n.value=!1,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",N),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",N),document.removeEventListener("touchcancel",N)};return(w,S)=>(c(),p("div",pE,[s("div",mE,[b(u(T),{icon:"mdi:brush",class:"w-5 h-5 text-gray-600 dark:text-gray-400"}),s("span",hE,"Size: "+_(w.modelValue)+"px",1)]),s("div",gE,[s("div",fE,[s("div",{class:"slider-preview border border-gray-200 dark:border-gray-700 rounded-full flex-shrink-0",style:pe({width:`${w.modelValue}px`,height:`${w.modelValue}px`,minWidth:"4px",minHeight:"4px",maxWidth:"100%",maxHeight:"100%",background:u(t).getRGBALineColor})},null,4)]),s("div",{ref_key:"sliderRef",ref:r,class:"slider-track relative h-11 flex-grow flex items-center cursor-pointer touch-none",onMousedown:f,onTouchstart:f},[s("div",{class:"slider-fill absolute h-2 rounded pointer-events-none",style:pe({width:`${m.value}%`})},null,4),s("div",{class:O(["slider-thumb absolute w-5 h-5 bg-blue-600 dark:bg-blue-500 border-3 border-white dark:border-gray-900 rounded-full -translate-x-1/2 shadow-md pointer-events-none transition-transform duration-100",{"scale-110":n.value}]),style:pe({left:`${m.value}%`})},null,6)],544)])]))}}),NE=G(yE,[["__scopeId","data-v-91c07a22"]]),vE={class:"flex items-center px-0 text-gray-400 dark:text-gray-500 cursor-move"},bE={class:"flex items-center gap-1"},wE={class:"flex items-center"},xE={class:"relative brush-size-container"},_E={class:"text-sm"},SE={class:"flex items-center"},kE={class:"flex items-center gap-2"},AE=ae({__name:"DrawingToolbar",emits:["update:color","update:brushSize","undo","redo","toggleEraser","toggleLock","destroy","close"],setup(i,{emit:e}){const t=Qt(),{lineWidth:o}=Oe(t),a=e,r=H(o.value);H(!1);const n=H(!0),l=H(!1),d=H(!1),m=H(null),h=H({x:window.innerWidth-window.innerWidth/2-180,y:window.innerHeight-200}),f=H({x:0,y:0}),y=H(!1),N=H("bottom"),w=E=>{a("update:color",E)},S=E=>{r.value=E,a("update:brushSize",E)},v=()=>{n.value=!n.value,a("toggleLock",n.value)},A=()=>{N.value=window.innerHeight-h.value.y>250?"top":"bottom"},B=E=>{E.stopPropagation(),A(),l.value=!l.value},I=(E,K)=>{const U=m.value;if(!U)return{x:E,y:K};const X=U.getBoundingClientRect(),J=window.innerWidth-X.width,$=window.innerHeight-X.height;return{x:Math.max(0,Math.min(E,J)),y:Math.max(0,Math.min(K,$))}},R=E=>{if(E.target.closest(".tool-button, .color-picker-container, .slider-track, .brush-size-container"))return;d.value=!0;const U="touches"in E?E.touches[0].clientX:E.clientX,X="touches"in E?E.touches[0].clientY:E.clientY;f.value={x:U-h.value.x,y:X-h.value.y},E.preventDefault()},M=E=>{if(!d.value)return;const K="touches"in E?E.touches[0].clientX:E.clientX,U="touches"in E?E.touches[0].clientY:E.clientY,X=I(K-f.value.x,U-f.value.y);h.value=X},D=()=>{t.setPosition(h.value),d.value=!1},k=()=>{y.value=window.innerWidth<=768},F=()=>{k(),h.value=I(h.value.x,h.value.y)};return Ge(()=>{F(),window.addEventListener("resize",F),document.addEventListener("mousemove",M),document.addEventListener("mouseup",D),document.addEventListener("touchmove",M,{passive:!1,capture:!0}),document.addEventListener("touchend",D,{capture:!0}),document.addEventListener("touchcancel",D,{capture:!0}),t.position!==null&&(h.value=t.position)}),Bt(()=>{window.removeEventListener("resize",F),document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",D),document.removeEventListener("touchmove",M,{capture:!0}),document.removeEventListener("touchend",D,{capture:!0}),document.removeEventListener("touchcancel",D,{capture:!0})}),(E,K)=>(c(),p("div",{ref_key:"toolbarRef",ref:m,class:O(["fixed flex items-center py-1 px-2 gap-2 bg-gray-50 dark:bg-ww-blue rounded-lg shadow-sm select-none cursor-move z-[26] max-w-[calc(100vw)] touch-none",{"opacity-90 shadow-md":d.value,"cursor-default":n.value}]),style:pe({left:`${h.value.x}px`,top:`${h.value.y}px`}),onMousedown:R,onTouchstart:R},[s("div",vE,[b(u(T),{icon:"mdi:drag",class:"w-4 h-4"})]),s("div",bE,[s("div",wE,[b(uE,{onOnOpen:K[0]||(K[0]=U=>l.value=!1),"onUpdate:modelValue":w})]),b(u(tn),{onTrigger:K[2]||(K[2]=U=>l.value=!1)},{default:ie(()=>[s("div",xE,[s("button",{onClick:P(B,["prevent"]),class:O(["flex items-center gap-1 h-9 md:h-11 sm:h-10 min-w-[80px] p-2 border border-gray-200 dark:border-gray-700 rounded bg-white dark:bg-ww-blue-200 text-gray-700 dark:text-gray-300 transition-all duration-200 hover:bg-gray-100 dark:hover:bg-ww-blue-100 hover:border-gray-300 dark:hover:border-gray-600 touch-manipulation",{"bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 border-gray-400 dark:border-gray-500":l.value,"h-10 min-w-[70px]":y.value}]),title:"Brush Size"},[b(u(T),{icon:"mdi:brush",class:"w-5 h-5"}),s("span",_E,_(r.value),1),b(u(T),{icon:l.value?"mdi:chevron-up":"mdi:chevron-down",class:"w-4 h-4 ml-auto"},null,8,["icon"])],2),V(s("div",{class:O(["absolute left-0 bg-white dark:bg-ww-blue rounded-lg shadow-lg p-2 w-60 z-10",{"top-[calc(100%+0.5rem)]":N.value==="top","bottom-[calc(100%+0.5rem)]":N.value==="bottom"}])},[b(NE,{modelValue:r.value,"onUpdate:modelValue":[K[1]||(K[1]=U=>r.value=U),S]},null,8,["modelValue"])],2),[[be,l.value]])])]),_:1})]),s("div",SE,[s("button",{onClick:K[3]||(K[3]=U=>a("undo")),class:"tool-button undo-button",title:"Undo"},[b(u(T),{icon:"mdi:undo",class:"w-5 h-5"})]),s("button",{onClick:K[4]||(K[4]=U=>a("redo")),class:"tool-button redo-button",title:"Redo"},[b(u(T),{icon:"mdi:redo",class:"w-5 h-5"})])]),s("div",kE,[s("button",{onClick:v,class:O(["tool-button",{"!bg-gray-200 dark:!bg-blue-700 !text-gray-800 dark:!text-gray-200 !border-gray-400 dark:!border-gray-500":n.value}]),title:"Lock Toolbar Position"},[b(u(T),{icon:n.value?"mdi:lock":"mdi:lock-open",class:"w-5 h-5"},null,8,["icon"])],2),s("button",{onClick:K[5]||(K[5]=P(U=>a("destroy"),["prevent"])),onDblclick:K[6]||(K[6]=P(U=>a("close"),["prevent"])),onDoubletap:K[7]||(K[7]=P(U=>a("close"),["prevent"])),class:"tool-button !text-red-500 !hover:bg-red-50 dark:!hover:bg-red-900/20 !hover:border-red-500",title:"Delete Drawing"},[b(u(T),{icon:"mdi:delete",class:"w-5 h-5"})],32),s("button",{onClick:K[8]||(K[8]=U=>a("close")),class:"tool-button"},[b(u(T),{icon:"mdi:close",class:"w-6 h-6"})])])],38))}}),CE=G(AE,[["__scopeId","data-v-6eb7ba2c"]]),Ls={"share-location":i=>{if(!i.searchParams)return;const t=new URLSearchParams(i.searchParams).get("with");switch(console.log("share location with",t),t){case"rob":he.shareLocationWith();break}},test:i=>{console.log("test route hit")},"reset-password":i=>{he.resetPassword()}};function TE(){const i=xe(),{deepLink:e}=Oe(i),t=tt(e,()=>{if(console.log("Deep link watch",e.value),!e.value)return;const o=new URL(e.value);console.log("deep link path",o.pathname,o.searchParams);for(const a in Ls)if(Object.prototype.hasOwnProperty.call(Ls,a)&&o.pathname.includes(a)){const r=Ls[a];console.log("route match",a,r),r(o)}},{immediate:!0});Bt(()=>t())}const ci=function(i,e){const t=Array.isArray(e[0])?e:[e],o=i.getContext("webgl2"),a=new Uint8Array(o.drawingBufferWidth*o.drawingBufferHeight*4);o.readPixels(0,0,o.drawingBufferWidth,o.drawingBufferHeight,o.RGBA,o.UNSIGNED_BYTE,a);const r=o.drawingBufferWidth*o.drawingBufferHeight;let n=0;for(let l=0;l<a.length;l+=4){const d=[a[l],a[l+1],a[l+2],a[l+3]];t.some(h=>h[0]===d[0]&&h[1]===d[1]&&h[2]===d[2]&&h[3]===d[3])&&n++}return n/r>.5};window.isCanvasColorMajority=ci;const BE="/ww-watermark-300.png",DE={name:"Watermark",computed:{userHasPlus(){const i=we();return i.activeTier()===i.tiers.PLUS}}},IE={class:"fixed top-7 right-2 z-[99]"},EE={key:0,class:"absolute top-[1px] right-[5px] z-[100] transform scale-75 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] rounded px-1 font-bold text-white border border-[#FF5722] text-sm"};function LE(i,e,t,o,a,r){return c(),p("div",IE,[e[0]||(e[0]=s("img",{src:BE,class:"transform origin-top-right scale-50"},null,-1)),r.userHasPlus?(c(),p("span",EE,"Plus")):x("",!0)])}const RE=G(DE,[["render",LE]]),FE=()=>({handleColorUpdate:d=>{C.drawing.setLineColor(d)},handleBrushSizeUpdate:d=>{C.drawing.setLineWidth(d)},handleUndo:()=>{C.drawing.undo()},handleRedo:()=>{C.drawing.redo()},handleEraserToggle:d=>{console.log("Eraser toggled",d),d?C.drawing.enableEraser():C.drawing.disableEraser()},handleLockToggle:d=>{d?C.drawing.lockMap():C.drawing.unlockMap()},handleDestroy:()=>{C.drawing.clearAnnotations()},handleClose:()=>{C.drawing.disable()}}),ME={class:"map-container"},PE={__name:"HomeView",setup(i){const{handleColorUpdate:e,handleBrushSizeUpdate:t,handleUndo:o,handleRedo:a,handleEraserToggle:r,handleLockToggle:n,handleDestroy:l,handleClose:d}=FE();sl();const m=bo(),{isLeftHanded:h}=Oe(m),f=new Ne;f.setFromLocalStorage();const y=H(1),N=localStorage.getItem("onboardingComplete"),w=H(N!=="true"&&f.size<=1),S=()=>{C.isNativeApp()?No().open():he.upgradeThroughMobile()},v=()=>{w.value=!1,console.log("Onboarding completed!")},A=H(!1),B=xe(),I=ot(),R=Qt();TE();const M=we(),D=Js();w.value||D.showModal();function k(){const $=document.createElement("style");$.id="userback-button-style",h.value&&($.textContent+=`
      .userback-button {
        left: 0.75rem !important;
      }
    `);const ce=document.getElementById($.id);ce?ce.replaceWith($):document.head.appendChild($)}const F=H(!1),E=Be(()=>{g.resize()},200),K=()=>{F.value=window.innerHeight>window.innerWidth,E()};Ge(()=>{A.value=st(),k(),K(),window.addEventListener("resize",K)}),Bt(()=>{window.removeEventListener("resize",K)});const U=Be(async()=>{if(g.maps().length===0||g.mapboxMaps().length===0){window.location.reload();return}if(C.isNativeApp()&&C.isNativeVersionAtleast(ke))try{const $=await ct.customer.getInfo();Ys().setCustomerInfo($),M.hasActiveSubscription()!==!0&&M.disablePlusFeatures()}catch($){console.error("unable to set rc customer info",$)}else C.isNativeApp()&&!C.isNativeVersionAtleast(ke)&&g.resetNorthPitch();if(C.isNativeApp()){try{await(await window.caches.open("mapbox-tiles")).keys()}catch($){if($.message==="Internal error"){window.location.reload();return}}if(g.maps().length===0||g.mapboxMaps().length===0){window.location.reload();return}if(ci(g.mapboxMapsFirst().getCanvas(),[[11,16,38,255],[36,43,75,255]])){window.location.reload();return}try{if((await(await fetch("/app.json")).json()).hash!==C.hash()){console.log("New version available. Reloading..."),B.updating=!0,Mo(()=>{setTimeout(()=>{window.location.reload(!0)},800)});return}}catch($){console.log("Failed to get app metadata",$)}}$t().load(),Xo().load(),ko().update(),C.tropical&&(C.tropical.fetchAndRenderStorms(),C.tropical.fetchAndRenderDisturbances()),B.mode==="RADAR"?I.anyActive&&!I.isPlaying&&C.radar.loadLatestRadarDataAll():B.mode==="SATELLITE"&&C.satellite&&g.forEach($=>{const ce=$.stores.satellite;C.satellite.changeSatelliteProduct($,ce.activeSatelliteId,ce.activeProductCode)})},500),{isOnline:X}=on();tt(X,$=>{$&&U()}),tt(h,$=>{k()}),window.addEventListener("message",$=>{var ce;try{if(typeof $.data=="string"){const ue=JSON.parse($.data||((ce=$.nativeEvent)==null?void 0:ce.data));switch(ue.type){case"REFRESH_DATA":console.log("REFRESH_DATA"),U();break;case"DEEP_LINK_UPDATE":console.log("Deep link update",ue.url),xe().setDeepLink(ue.url);break}}}catch(ue){console.error("Error listening for message",ue)}},!0);const{annotating:J}=Oe(R);return g.setup(),($,ce)=>(c(),p(z,null,[s("div",{class:O(["map-all grid grid-cols-1",{"grid-cols-2":!F.value&&u(g).mapsToLoad().length===2,"sm:grid-cols-2":u(g).mapsToLoad().length===4,"grid-cols-3":!F.value&&u(g).mapsToLoad().length===3,"sm:grid-cols-3":u(g).mapsToLoad().length===6||u(g).mapsToLoad().length===9,"sm:grid-cols-4":u(g).mapsToLoad().length===16}])},[(c(!0),p(z,null,ee(u(g).mapsToLoad(),(ue,se)=>(c(),p("div",ME,[b(HC,{mapMeta:ue,mapIndex:se},null,8,["mapMeta","mapIndex"])]))),256))],2),u(et)().screenshot?x("",!0):(c(),q(M4,{key:0})),u(et)().screenshot?x("",!0):(c(),q(i6,{key:1})),V(b(RE,null,null,512),[[be,u(C).isNativeVersionAtleast(u(ke))&&(u(et)().screenshot&&u(C).isAppleNative()||u(et)().recording&&u(C).isNativeApp())]]),u(B).isReady()&&u(B).mode==="OUTLOOKS"?(c(),q(Q4,{key:2})):x("",!0),u(B).isReady()&&u(B).mode==="RADAR"?(c(),q(t8,{key:3})):x("",!0),u(B).isReady()&&u(B).mode==="SATELLITE"?(c(),q(X8,{key:4})):x("",!0),b(pI),!u(C).isNativeApp()||!u(C).isNativeVersionAtleast(u(ke))?(c(),q(cE,{key:5})):x("",!0),w.value?(c(),q(rE,{key:6,"current-step":y.value,"onUpdate:step":ce[0]||(ce[0]=ue=>y.value=ue),onUpgrade:S,onCompletion:v,onClose:ce[1]||(ce[1]=ue=>w.value=!1)},null,8,["current-step"])):x("",!0),u(J)?(c(),q(CE,{key:7,"onUpdate:color":u(e),"onUpdate:brushSize":u(t),onUndo:u(o),onRedo:u(a),onToggleEraser:u(r),onToggleLock:u(n),onDestroy:u(l),onClose:u(d)},null,8,["onUpdate:color","onUpdate:brushSize","onUndo","onRedo","onToggleEraser","onToggleLock","onDestroy","onClose"])):x("",!0)],64))}},HE=G(PE,[["__scopeId","data-v-5c79089c"]]),zE={class:"map mapboxgl-map",ref:"map"},OE={class:"relative z-5","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},KE={class:"fixed inset-0 z-5 w-screen overflow-y-auto"},UE={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},$E={class:"relative transform overflow-hidden bg-white/[0.7] dark:bg-ww-blue/[0.7] shadow-[0_4px_30px_rgba(0,0,0,0.1)] backdrop-blur-[7.2px] border rounded-2xl border-solid border-white dark:border-ww-blue-200 px-4 pb-4 pt-5 text-left transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"},XE={key:0,class:"mt-6 text-center text-2xl/9 font-bold tracking-tight text-gray-900 dark:text-gray-100"},WE={key:1,class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300"},VE={key:2,class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300"},GE={class:"mt-6 sm:mx-auto sm:w-full sm:max-w-sm"},jE={class:"space-y-6 text-center",key:"success"},ZE=["disabled"],YE={class:"mt-2"},JE={key:0,class:"mt-1 text-sm text-red-600"},QE={class:"mt-2"},qE={class:"text-sm"},e7=["disabled"],t7={class:"mt-2"},o7={key:0,class:"mt-1 text-sm text-red-600"},s7=["disabled"],a7={class:"text-sm text-center"},fr="A WeatherWise Account and Plus subscription are required to use the Desktop app.",r7=ae({__name:"LoginView",setup(i){const e=sn(),{loading:t,errors:o,register:a,login:r,logout:n,forgotPassword:l}=It(),d=we(),m="pk.eyJ1Ijoid2VhdGhlcndpc2UtYXBwIiwiYSI6ImNtNmp2bW15ZzA1ZHIyanNjd3ZmMGZlcTkifQ.1UTOnh0BA0hiBvbFSZPH7w",h=At("map"),f=H(!1),y=H(!1),N=H({email:"",password:""}),w=()=>{f.value=!1,y.value=!1,o.value={}},S=()=>{f.value=!0,y.value=!1,o.value={}},v=async()=>{try{return await r({...N.value})?d.hasActiveSubscription()?e.replace({name:"home"}):(n(),alert(fr)):void 0}catch(I){console.error(I)}},A=async()=>{try{await l(N.value.email),y.value=!0}catch(I){console.error(I)}};Ge(()=>{B()});const B=()=>{Te.accessToken=m;const I=new Te.Map({container:h.value,style:"mapbox://styles/mapbox/satellite-v9",projection:"globe",zoom:3.5,pitch:60,center:[-90,40]});I.on("style.load",()=>{I.setFog({})});const R=120,M=5,D=3;function k(){const F=I.getZoom();if(F<M){let E=360/R;if(F>D){const U=(M-F)/(M-D);E*=U}const K=I.getCenter();K.lng-=E,I.easeTo({center:K,duration:1e3,easing:U=>U})}}I.on("load",()=>{I.on("moveend",()=>{setTimeout(()=>{k()},1)}),k()})};return(I,R)=>(c(),p(z,null,[s("div",zE,null,512),s("div",OE,[s("div",KE,[s("div",UE,[s("div",$E,[R[11]||(R[11]=ye('<div data-v-f0a25776><div class="flex items-center group my-2 relative" data-v-f0a25776><img src="'+ra+'" class="max-w-[36px] ml-auto" alt="WeatherWise Logo" data-v-f0a25776><div class="font-[Outfit] text-2xl ml-1 mr-auto relative" data-v-f0a25776><span class="text-[#17274F] dark:text-gray-100 font-bold drop-shadow-sm" data-v-f0a25776>Weather</span><span class="text-[#F6B91A] font-bold group-hover:text-[#F6B91A]" data-v-f0a25776>Wise</span><span class="absolute text-lg font-bold -right-3 -top-2 bg-gradient-to-tl from-[#F6B91A] to-[#FF5722] bg-clip-text text-transparent" data-v-f0a25776>+</span></div></div></div>',1)),y.value?x("",!0):(c(),p("h2",XE,_(f.value?"Reset Password":"Log in to your account"),1)),!f.value&&!y.value?(c(),p("p",WE,[L(_(fr)),R[4]||(R[4]=s("br",null,null,-1)),s("a",{href:"#",onClick:R[0]||(R[0]=P(()=>u(he).apps(),["prevent"])),class:"font-semibold text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"}," Learn how to get started ")])):x("",!0),f.value&&!y.value?(c(),p("p",VE," Enter your WeatherWise Account email address and we'll send you instructions to reset your password. ")):x("",!0),s("div",GE,[b(at,{enter:"transition-opacity duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity duration-300","leave-from":"opacity-100","leave-to":"opacity-0",mode:"out-in"},{default:ie(()=>[y.value?(c(),p("div",jE,[R[5]||(R[5]=s("div",{class:"flex justify-center"},[s("div",{class:"rounded-full bg-green-100 p-6"},[s("svg",{class:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])])],-1)),R[6]||(R[6]=s("h3",{class:"text-2xl font-bold"},"Password Reset Email Sent",-1)),R[7]||(R[7]=s("p",{class:"text-gray-600"}," We've sent a link to your email address. Please check your inbox or spam folder and follow the instructions to reset your password. ",-1)),s("div",null,[s("button",{onClick:w,disabled:u(t),class:"inline-flex justify-center rounded-md bg-blue-700 hover:bg-blue-800 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-blue-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"}," Return to Login ",8,ZE)])])):f.value?(c(),p("form",{class:"space-y-6",onSubmit:P(A,["prevent"]),key:"forgot"},[s("div",null,[R[10]||(R[10]=s("label",{for:"email",class:"block text-sm/6 font-medium dark:text-white"},"Email address",-1)),s("div",t7,[V(s("input",{type:"email","onUpdate:modelValue":R[3]||(R[3]=M=>N.value.email=M),name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 dark:focus:outline-blue-400 sm:text-sm/6"},null,512),[[qe,N.value.email]])]),u(o).email?(c(),p("p",o7,_(u(o).email[0]),1)):x("",!0)]),s("div",null,[s("button",{type:"submit",disabled:u(t),class:"flex w-full justify-center rounded-md bg-blue-700 hover:bg-blue-800 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-blue-800 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 disabled:cursor-not-allowed"},_(u(t)?"Sending reset link...":"Send Reset Link"),9,s7)]),s("div",a7,[s("a",{onClick:P(w,["prevent"]),href:"#",class:"font-semibold text-blue-600 hover:text-blue-500"}," Back to login ")])],32)):(c(),p("form",{class:"space-y-6",onSubmit:P(v,["prevent"]),key:"login"},[s("div",null,[R[8]||(R[8]=s("label",{for:"email",class:"block text-sm/6 font-medium dark:text-white"},"Email address",-1)),s("div",YE,[V(s("input",{type:"email","onUpdate:modelValue":R[1]||(R[1]=M=>N.value.email=M),name:"email",id:"email",autocomplete:"email",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 dark:focus:outline-blue-400 sm:text-sm/6"},null,512),[[qe,N.value.email]])]),u(o).email?(c(),p("p",JE,_(u(o).email[0]),1)):x("",!0)]),s("div",null,[R[9]||(R[9]=s("div",{class:"flex items-center justify-between"},[s("label",{for:"password",class:"block text-sm/6 font-medium dark:text-white"},"Password")],-1)),s("div",QE,[V(s("input",{type:"password","onUpdate:modelValue":R[2]||(R[2]=M=>N.value.password=M),name:"password",id:"password",autocomplete:"current-password",required:"",class:"block w-full rounded-md bg-white px-3 py-1.5 text-base outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6"},null,512),[[qe,N.value.password]])])]),s("div",qE,[s("a",{onClick:P(S,["prevent"]),href:"#",class:"font-semibold text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"}," Forgot your password? ")]),s("div",null,[s("button",{type:"submit",disabled:u(t),class:"flex w-full justify-center rounded-md bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 dark:focus-visible:outline-blue-400 disabled:opacity-50 disabled:cursor-not-allowed"},_(u(t)?"Logging in...":"Log in"),9,e7)])],32))]),_:1})])])])])])],64))}}),i7=G(r7,[["__scopeId","data-v-f0a25776"]]);function yr(...i){return i.filter(Boolean).join(" ")}const n7="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colours focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",Nr={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},vr={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"},l7=ae({name:"Button",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},variant:{type:String,default:"default"},size:{type:String,default:"default"},class:{type:[String,Array,Object],default:""}},computed:{computedClass(){const i=Nr[this.variant]||Nr.default,e=vr[this.size]||vr.default,t=this.class||this.$attrs.class;return yr(n7,i,e,t)},otherAttrs(){const{class:i,...e}=this.$attrs;return e},clonedChild(){var e;if(!this.asChild)return null;const i=this.$slots.default?this.$slots.default():[];return!i||i.length!==1?(console.warn("[Button]: When using asChild, please provide exactly one child."),null):rn(i[0],{class:yr(this.computedClass,(e=i[0].props)==null?void 0:e.class),...this.otherAttrs})}}});function c7(i,e,t,o,a,r){return i.asChild?(c(),q($s(i.clonedChild),{key:1})):(c(),p("button",an({key:0},i.otherAttrs,{class:i.computedClass}),[dt(i.$slots,"default")],16))}const br=G(l7,[["render",c7]]),d7={__name:"Error",setup(i){return(e,t)=>(c(),q(u(Tr),{severity:"error"},{default:ie(()=>[dt(e.$slots,"default")]),_:3}))}},u7={__name:"Secondary",setup(i){return(e,t)=>(c(),q(u(Tr),{severity:"secondary"},{default:ie(()=>[dt(e.$slots,"default")]),_:3}))}},p7={class:"min-h-screen bg-gradient-to-b from-[#17274F] via-[#1a2f5e] to-[#17274F] flex flex-col relative overflow-hidden"},m7={class:"flex-1 pt-20 pb-16"},h7={class:"max-w-4xl mx-auto px-4"},g7={class:"flex mt-6 justify-center space-x-10"},f7=["href"],y7=["href"];const N7={key:1,class:"mb-6"},v7={class:"flex mt-6 justify-center space-x-10"},b7=["href"],w7=["href"],x7={class:"space-y-4"},_7={__name:"ShareLocation",setup(i){const e={ios:Br,android:Dr},t=H(null),o=H(null),a=H(!1);Ge(()=>{const d=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(d)?t.value="ios":/android/.test(d)&&(t.value="android")});const r=()=>a.value=!0,n=()=>{if(!t.value){o.value="Unable to detect your device's platform. Please choose from the App Store or Play Store manually.";return}r(),window.location.href=e[t.value]},l=()=>{try{window.location.href="weatherwise://d/share-location?with=rob"}catch(d){alert(d)}};return(d,m)=>(c(),p("div",p7,[m[13]||(m[13]=ye('<div class="absolute inset-0 overflow-hidden pointer-events-none"><div class="absolute top-0 left-0 w-96 h-96 bg-[#F6B91A] rounded-full filter blur-[128px] opacity-20 animate-pulse"></div><div class="absolute bottom-0 right-0 w-96 h-96 bg-[#FF5722] rounded-full filter blur-[128px] opacity-10 animate-pulse delay-1000"></div></div><header class="fixed top-0 left-0 right-0 bg-[#17274F]/80 backdrop-blur-sm py-4 px-6 flex items-center justify-between z-50 border-b border-white/10"><div class="flex text-center w-full justify-center items-center"><img src="'+ra+'" class="h-3/4 max-w-[27px] object-contain" alt="WeatherWise Logo"><div class="font-[Outfit] text-lg flex items-center ml-3"><span class="text-gray-100 font-bold drop-shadow-sm transition-colors duration-200">Weather</span><span class="text-[#F6B91A] font-bold drop-shadow-sm group-hover:text-[#F6B91A] transition-colors duration-200">Wise</span></div></div></header>',2)),s("main",m7,[s("div",h7,[m[12]||(m[12]=ye('<div class="bg-gradient-to-r from-[#17274F]/80 to-[#17274F]/60 backdrop-blur rounded-lg p-8 mb-8 text-white border border-white/10 shadow-xl transform hover:scale-[1.02] transition-transform"><div class="flex flex-col md:flex-row items-center gap-8"><div class="w-40 h-40 rounded-full bg-gradient-to-br from-[#F6B91A] to-[#FF5722] p-1"><div class="w-full h-full rounded-full bg-[#17274F] flex items-center justify-center relative overflow-hidden"></div></div><div class="flex-1 text-center md:text-left"><div class="flex items-center gap-2 justify-center md:justify-start"><h2 class="text-3xl font-bold mb-2 bg-gradient-to-r from-[#F6B91A] to-[#FF5722] text-transparent bg-clip-text"> Join Rob West, Live! </h2></div><p class="text-xl text-white/90 mb-4"> Share your location with Rob, live now on his stream. </p><p class="text-white/80"> Join us on WeatherWise to share your location and access Rob Mode to match Rob&#39;s map and colors! </p></div></div></div>',1)),b(u(cn),{class:"md:p-8 shadow-2xl bg-white/95 backdrop-blur border-t-4 border-t-[#F6B91A]"},nn({_:2},[a.value?{name:"content",fn:ie(()=>[s("div",null,[s("div",null,[b(br,{onClick:l,class:"w-full bg-gradient-to-r from-[#FF5722] to-[#ff7b22] hover:opacity-90 text-white h-16 text-xl font-bold shadow-lg transform hover:scale-[1.02] transition-all"},{default:ie(()=>m[0]||(m[0]=[L(" Share Location with Rob ")])),_:1})]),s("div",null,[b(u(ln),{class:"mt-3"},{display:ie(()=>m[1]||(m[1]=[L("Click here if you are having trouble")])),content:ie(()=>[m[4]||(m[4]=s("div",{class:"text-center"}," Ensure you have downloaded the WeatherWise app ",-1)),s("div",g7,[s("a",{href:e.ios,onClick:r,target:"_blank"},m[2]||(m[2]=[s("img",{src:Hs,alt:"App Store",class:"w-[128px] sm:w-[168px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,f7),s("a",{href:e.android,onClick:r,target:"_blank"},m[3]||(m[3]=[s("img",{src:zs,alt:"Google Play",class:"w-[138px] sm:w-[178px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,y7)])]),_:1})])])]),key:"0"}:{name:"content",fn:ie(()=>[m[10]||(m[10]=s("h1",{class:"text-4xl font-bold text-[#17274F] mb-8"}," You need the WeatherWise app to share your location, here's how to get it: ",-1)),x("",!0),m[11]||(m[11]=s("div",{class:"space-y-8 mb-10"},[s("div",{class:"flex items-start gap-6 transform hover:translate-x-2 transition-transform"},[s("div",{class:"w-12 h-12 rounded-full bg-gradient-to-br from-[#F6B91A] to-[#FF5722] flex items-center justify-center text-white font-bold shrink-0"}," 1 "),s("div",{class:"flex-1"},[s("h3",{class:"font-bold text-xl text-[#17274F] mb-2"},"Download from the App Store"),s("p",{class:"text-[#231F20]/80 text-lg"}," WeatherWise is available in the iOS and Google Play Stores - click the button below to download the app now. ")])]),s("div",{class:"flex items-start gap-6 transform hover:translate-x-2 transition-transform"},[s("div",{class:"w-12 h-12 rounded-full bg-gradient-to-br from-[#F6B91A] to-[#FF5722] flex items-center justify-center text-white font-bold shrink-0"}," 2 "),s("div",{class:"flex-1"},[s("h3",{class:"font-bold text-xl text-[#17274F] mb-2"},"Return to This Page"),s("p",{class:"text-[#231F20]/80 text-lg"}," After you have installed the app, come back here or rescan the QR code. ")])]),s("div",{class:"flex items-start gap-6 transform hover:translate-x-2 transition-transform"},[s("div",{class:"w-12 h-12 rounded-full bg-gradient-to-br from-[#F6B91A] to-[#FF5722] flex items-center justify-center text-white font-bold shrink-0"}," 3 "),s("div",{class:"flex-1"},[s("h3",{class:"font-bold text-xl text-[#17274F] mb-2"},"Share your Location"),s("p",{class:"text-[#231F20]/80 text-lg"}," Connect directly to Rob's live stream and share your approximate location ")])])],-1)),o.value?(c(),p("div",N7,[b(d7,{class:"py-5 px-3 text-center",textContent:_(o.value)},null,8,["textContent"]),s("div",v7,[s("a",{href:e.ios,onClick:r,target:"_blank"},m[5]||(m[5]=[s("img",{src:Hs,alt:"App Store",class:"w-[128px] sm:w-[168px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,b7),s("a",{href:e.android,onClick:r,target:"_blank"},m[6]||(m[6]=[s("img",{src:zs,alt:"Google Play",class:"w-[138px] sm:w-[178px] h-auto object-contain mx-auto flex justify-center"},null,-1)]),8,w7)])])):x("",!0),s("div",x7,[b(br,{onClick:n,class:"w-full bg-gradient-to-r from-[#FF5722] to-[#ff7b22] hover:opacity-90 text-white h-16 text-xl font-bold shadow-lg transform hover:scale-[1.02] transition-all"},{default:ie(()=>m[7]||(m[7]=[L(" Download WeatherWise Now ")])),_:1}),m[8]||(m[8]=s("p",{class:"text-base text-center text-[#231F20]/70"}," After downloading, return to this page or rescan the QR code to join the live event ",-1))]),b(u7,{class:"mt-8"},{default:ie(()=>m[9]||(m[9]=[L(" Sharing your location requires access to Rob Mode, which requires a WeatherWise Plus subscription. Your precise location isn't shared with Rob, just an approximate location. ")])),_:1})]),key:"1"}]),1024)])])]))}},S7={class:"min-h-screen flex flex-col items-center justify-center"},k7={key:1,class:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg p-4 max-w-lg"},A7={class:"flex"},C7=["textContent"],T7=ae({__name:"HazcamsView",setup(i){const e=xr(),t=H(null),o=H(null),a=ko();return(async()=>{try{await a.hazcams.fetchData(),t.value=a.hazcams.getStations().find(r=>r.properties.id===e.params.id)}catch{o.value="Failed to load Hazcam station. Please try again later."}})(),(r,n)=>(c(),p("div",S7,[s("div",null,[t.value?(c(),q(ti,{key:0,feature:t.value},null,8,["feature"])):x("",!0),o.value?(c(),p("div",k7,[s("div",A7,[s("p",{class:"text-sm text-red-700 dark:text-red-200",textContent:_(o.value)},null,8,C7)])])):x("",!0)])]))}}),B7=G(T7,[["__scopeId","data-v-c7ed996d"]]),di=dn({history:un("/"),routes:[{path:"/",name:"home",component:HE,meta:{requiresAuth:Kt.isToDesktop()}},{path:"/login",name:"login",component:i7},{path:"/d/reset-password",name:"reset-password",beforeEnter:i=>{const{setDeepLink:e}=xe(),t=window.location.href;return e(t),{name:"home"}}},{path:"/d/share-location",name:"share-location",component:_7,meta:{pageScroll:!0}},{path:"/hazcams/:id",name:"hazcams",component:B7,meta:{bodyClass:"page-hazcams-station"}}]});di.beforeEach((i,e,t)=>{var o,a;if(e.meta.bodyClass&&document.body.classList.remove(e.meta.bodyClass),i.meta.bodyClass&&document.body.classList.add(i.meta.bodyClass),i.meta.pageScroll&&i.meta.pageScroll===!0?(o=document.querySelector(":root"))==null||o.classList.add("has-scroll"):(a=document.querySelector(":root"))==null||a.classList.remove("has-scroll"),i.matched.some(r=>r.meta.requiresAuth)&&!It().isAuthenticated())return t({path:"/login",query:{redirect:i.fullPath}});t()});const D7={install(i){i.config.errorHandler=(e,t,o)=>{console.error(e);const a=e.toString();if(["can't access dead object"].find(l=>a.includes(l))!==void 0){console.log("Ignoring error...");return}ls.error(e,{info:o})},i.config.warnHandler=(e,t,o)=>{console.warn(e),ls.warning(e,{info:o})},i.provide("rollbar",ls)}},I7=Nn({init:{domain:"web.weatherwise.app",apiHost:"https://plausible.io",trackLocalhost:!1,hashMode:!1},settings:{enableAutoOutboundTracking:!1,enableAutoPageviews:!1}}),ui=pn();ui.use(mn({key:i=>`ww:store:${i}`}));const rt=hn(iC);rt.use(ui);if(window.ReactNativeWebView!==void 0&&window.ReactNativeWebView.injectedObjectJson!==void 0)try{window.WeatherWiseBridge=JSON.parse(window.ReactNativeWebView.injectedObjectJson()).WeatherWiseBridge,xe().setDeepLink(window.WeatherWiseBridge.deepLink!==void 0?window.WeatherWiseBridge.deepLink:null)}catch{console.warn("Failed to setup bridge")}rt.use(gn,{theme:{preset:fn,options:{darkModeSelector:!1}}});rt.use(di);rt.use(yn());rt.use(D7);rt.use(tC,{token:"A-zwpuyIZmAr2ke0wULbwde3lA9"});rt.use(eC);rt.use(Pk);rt.use(Fd);rt.use(I7);rt.use(vn);const E7=bn();rt.use(E7);rt.mount("#app");
